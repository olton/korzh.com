(function(){var Ot,It,At,Mt,Dt,Lt,ut,Rt,ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/*!
	 * Datetime v1.0.0, (https://github.com/olton/DatetimeJS.git)
	 * Copyright 2021 by Serhii Pimenov (https://pimenov.com.ua)
	 * Datetime.js is a minimalist JavaScript library that parses, validates, manipulates, and displays dates and times for modern browsers with comfortable modern API.
	 * Build at 11/01/2021 21:09:55
	 * Licensed under MIT
	 !*/(function(l){var r="YYYY-MM-DDTHH:mm:ss.sss",a="Invalid date",p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|m{1,2}|s{1,3}/g;l.DATETIME_LOCALES={en:{months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekStart:0}};var t={ms:"Milliseconds",s:"Seconds",m:"Minutes",h:"Hours",D:"Date",d:"Day",M:"Month",Y:"FullYear",y:"Year",t:"Time"},e="ms",i="second",s="minute",m="hour",f="day",w="week",x="month",I="year",T=function(S,N,D){var u=""+S;return D&&u.length>=D?u:Array(D+1-u.length).join(N)+u},A=function(S){return S==null},L=function(){var S;return arguments[0]instanceof k?L(arguments[0].value):(S=[].slice.call(Array.isArray(arguments[0])?arguments[0]:arguments),new(Function.prototype.bind.apply(k,[this].concat(S))))},k=function(){var S=[].slice.call(arguments);if(this.value=new(Function.prototype.bind.apply(Date,[this].concat(S))),this.locale="en",this.weekStart=l.DATETIME_LOCALES.en.weekStart,this.utcMode=!1,this.mutable=!0,isNaN(this.value.getTime()))throw new Error(a)};k.DEFAULT_FORMAT=r,k.REGEX_FORMAT=p,k.INVALID_DATE=a,k.lpad=T,k.not=A,k.isDatetime=function(S){return S instanceof k},k.now=function(S){return L()[S?"val":"time"]()},k.locale=function(S,N){l.DATETIME_LOCALES[S]=N},k.getLocale=function(S){return l.DATETIME_LOCALES[S||"en"]||l.DATETIME_LOCALES.en},k.parse=function(S){return L(Date.parse(S))},k.align=function(S,N){var D,u,h=S instanceof k?S:L(S);switch(N){case i:D=h.ms(0);break;case s:D=k.align(h,i)[i](0);break;case m:D=k.align(h,s)[s](0);break;case f:D=k.align(h,m)[m](0);break;case x:D=k.align(h,f)[f](1);break;case I:D=k.align(h,x)[x](0);break;case w:u=h.weekDay(),D=k.align(h,f).addDay(-u);break;default:D=h}return D},k.alignEnd=function(S,N){var D,u,h=S instanceof k?S:L(S);switch(N){case e:D=h.ms(999);break;case i:D=k.alignEnd(h,e);break;case s:D=k.alignEnd(h,i)[i](59);break;case m:D=k.alignEnd(h,s)[s](59);break;case f:D=k.alignEnd(h,m)[m](23);break;case x:D=k.alignEnd(h,f)[f](1).add(1,x).add(-1,f);break;case I:D=k.alignEnd(h,f)[x](11)[f](31);break;case w:u=h.weekDay(),D=k.alignEnd(h,"day").addDay(6-u);break;default:D=h}return D},k.extend=function(S){for(var N,D,u=arguments.length,h=1;h<u;h++)if((N=arguments[h])!=null)for(D in N)Object.prototype.hasOwnProperty.call(N,D)&&(S[D]=N[D]);return S},k.use=function(S){k.extend(k.prototype,S)},k.useStatic=function(S){k.extend(k,S)},k.prototype={immutable:function(S){return this.mutable=!(A(S)||S),this},utc:function(){return this.utcMode=!0,this},local:function(){return this.utcMode=!1,this},useLocale:function(S){return k.getLocale(S)?(this.locale=S,this.weekStart=k.getLocale(S).weekStart,this):(console.warn("Locale "+S+" is not defined!"),this)},clone:function(){var S=L(this.value);return S.locale=this.locale,S.weekStart=this.weekStart,S.mutable=this.mutable,S},align:function(S){return this.mutable?(this.value=k.align(this,S).val(),this):this.clone().immutable(!1).align(S).immutable(!this.mutable)},alignEnd:function(S){return this.mutable?(this.value=k.alignEnd(this,S).val(),this):this.clone().immutable(!1).alignEnd(S).immutable(!this.mutable)},val:function(S){return S instanceof Date?this.mutable?(this.value=S,this):L(S):this.value},year2:function(){return+(""+this.year()).substr(-2)},_set:function(S,N){var D="set"+(this.utcMode&&S!=="t"?"UTC":"")+t[S];if(this.mutable)return this.value[D](N),this;var u=this.clone();return u.value[D](N),u},_get:function(S){var N="get"+(this.utcMode&&S!=="t"?"UTC":"")+t[S];return this.value[N]()},_work:function(S,N){return arguments.length&&N!=null?this._set(S,N):this._get(S)},ms:function(S){return this._work("ms",S)},second:function(S){return this._work("s",S)},minute:function(S){return this._work("m",S)},hour:function(S){return this._work("h",S)},day:function(S){return this._work("D",S)},month:function(S){return this._work("M",S)},year:function(S){return this._work("Y",S)},time:function(S){return this._work("t",S)},weekDay:function(S){if(!arguments.length||A(S))return this.utcMode?this.value.getUTCDay():this.value.getDay();var N=S-this.weekDay();return this.day(this.day()+N),this},get:function(S){return typeof this[S]!="function"?this:this[S]()},set:function(S,N){return typeof this[S]!="function"?this:this[S](N)},add:function(S,N){switch(N){case m:return this.time(this.time()+60*S*60*1e3);case s:return this.time(this.time()+60*S*1e3);case i:return this.time(this.time()+1e3*S);case e:return this.time(this.time()+S);case f:return this.day(this.day()+S);case w:return this.day(this.day()+7*S);case x:return this.month(this.month()+S);case I:return this.year(this.year()+S)}},addHour:function(S){return this.add(S,m)},addMinute:function(S){return this.add(S,s)},addSecond:function(S){return this.add(S,i)},addMs:function(S){return this.add(S,e)},addDay:function(S){return this.add(S,f)},addWeek:function(S){return this.add(S,w)},addMonth:function(S){return this.add(S,x)},addYear:function(S){return this.add(S,I)},format:function(S,N){var D=S||r,u=k.getLocale(N||this.locale),h=this.year(),b=this.year2(),C=this.month(),E=this.day(),M=this.weekDay(),R=this.hour(),P=this.minute(),j=this.second(),q=this.ms(),$={YY:b,YYYY:h,M:C+1,MM:T(C+1,"0",2),MMM:u.monthsShort[C],MMMM:u.months[C],D:E,DD:T(E,"0",2),d:M,dd:u.weekdaysMin[M],ddd:u.weekdaysShort[M],dddd:u.weekdays[M],H:R,HH:T(R,"0",2),m:P,mm:T(P,"0",2),s:j,ss:T(j,"0",2),sss:T(q,"0",3)};return D.replace(p,function(tt,at){return at||$[tt]})},valueOf:function(){return this.value.valueOf()},toString:function(){return this.value.toString()}},l.Datetime=k,l.datetime=L})(typeof self>"u"?ft===void 0?window:ft:self),Ot=Datetime.prototype.format,Datetime.use({buddhist:function(){return this.year()+543},format:function(l,r){l=l||Datetime.DEFAULT_FORMAT;var a={BB:(this.buddhist()+"").slice(-2),BBBB:this.buddhist()},p=l.replace(/(\[[^\]]+])|B{4}|B{2}/g,function(t,e){return e||a[t]});return Ot.bind(this)(p,r)}}),Datetime.use({calendar:function(l){return Datetime.calendar(this,l)}}),Datetime.useStatic({calendar:function(l,r){var a,p=l instanceof Datetime?l.clone().align("month"):datetime(l),t=r===0||r?r:p.weekStart,e=t?p.isoWeekDay():p.weekDay(),i=Datetime.getLocale(p.locale),s=datetime(),m={month:i.months[p.month()],days:[],weekstart:r?1:0,weekdays:function(f,w){if(w===0)return f;var x=f[0];return f.slice(1).concat([x])}(i.weekdaysMin,t),today:s.format("YYYY-MM-DD"),weekends:[],week:[]};for(p.addDay(t?1-e:-e),a=0;a<42;a++)m.days.push(p.format("YYYY-MM-DD")),p.add(1,"day");for(m.weekends=m.days.filter(function(f,w){return t===0?[0,6,7,13,14,20,21,27,28,34,35,41].indexOf(w)>-1:[5,6,12,13,19,20,26,27,33,34,40,41].indexOf(w)>-1}),p=s.clone(),e=t?p.isoWeekDay():p.weekDay(),p.addDay(t?1-e:-e),a=0;a<7;a++)m.week.push(p.format("YYYY-MM-DD")),p.add(1,"day");return m}}),It=Datetime.prototype.format,Datetime.use({century:function(){return parseInt(this.year()/100)},format:function(l,r){l=l||Datetime.DEFAULT_FORMAT;var a={C:this.century()},p=l.replace(/(\[[^\]]+])|C/g,function(t,e){return e||a[t]});return It.bind(this)(p,r)}}),Datetime.use({same:function(l){return this.time()===datetime(l).time()},compare:function(l,r,a){var p,t,e=datetime(l),i=datetime(this.value);switch(["<",">",">=","<=","=","!="].indexOf(a=a||"=")===-1&&(a="="),r=(r||"ms").toLowerCase(),p=i.align(r).time(),t=e.align(r).time(),a){case"<":return p<t;case">":return p>t;case"<=":return p<=t;case">=":return p>=t;case"=":return p===t;case"!=":return p!==t}},between:function(l,r){return this.younger(l)&&this.older(r)},older:function(l,r){return this.compare(l,r,"<")},olderOrEqual:function(l,r){return this.compare(l,r,"<=")},younger:function(l,r){return this.compare(l,r,">")},youngerOrEqual:function(l,r){return this.compare(l,r,">=")},equal:function(l,r){return this.compare(l,r,"=")},notEqual:function(l,r){return this.compare(l,r,"!=")},diff:function(l){var r=datetime(l),a=Math.abs(this.time()-r.time()),p=Math.abs(this.month()-r.month()+12*(this.year()-r.year()));return{ms:a,second:Math.ceil(a/1e3),minute:Math.ceil(a/6e4),hour:Math.ceil(a/36e5),day:Math.ceil(a/864e5),month:p,year:Math.floor(p/12)}},distance:function(l,r){return this.diff(l)[r]}}),Datetime.use({dayOfYear:function(){var l=this.month(),r=this.day();return[0,31,59,90,120,151,181,212,243,273,304,334][l]+r+(l>1&&this.isLeapYear()?1:0)}}),Datetime.use({daysInMonth:function(){return datetime(this.value).add(1,"month").day(1).add(-1,"day").day()},daysInYear:function(){return this.isLeapYear()?366:365},daysInYearMap:function(){var l=[],r=datetime(this.value);r.month(0).day(1);for(var a=0;a<12;a++)r.add(1,"month").add(-1,"day"),l.push(r.day()),r.day(1).add(1,"month");return l},daysInYearObj:function(l,r){var a=this.daysInYearMap(),p={},t=Datetime.getLocale(l||this.locale);return a.forEach(function(e,i){p[t[r?"monthsShort":"months"][i]]=e}),p}}),Datetime.use({decade:function(){return 10*Math.floor(this.year()/10)},decadeStart:function(){var l=this.decade();return(this.mutable?this:this.clone()).year(l).month(0).day(1)},decadeEnd:function(){var l=this.decade()+9;return(this.mutable?this:this.clone()).year(l).month(11).day(31)},decadeOfMonth:function(){var l=this.clone().add(1,"month").day(1).add(-1,"day").day()/3,r=this.day();return r<=l?1:r<=2*l?2:3}}),Datetime.useStatic({from:function(l,r,a){var p,t,e,i,s,m,f,w,x,I,T,A,L,k,S,N,D,u,h,b=function(E,M){return E.map(function(R){return R.toLowerCase()}).indexOf(M.toLowerCase())},C=function(E){for(var M,R,P={month:["M","mm","%m"],day:["D","dd","%d"],year:["YY","YYYY","yy","yyyy","%y"],hour:["h","hh","%h"],minute:["m","mi","i","ii","%i"],second:["s","ss","%s"],ms:["sss"]},j=-1,q=0;q<P[E].length;q++)if(M=P[E][q],(R=e.indexOf(M))!==-1){j=R;break}return j};if(Datetime.not(r)||(""+r).trim()==="")return datetime();if(p=l.replace(/[\/,.:\s]/g,"-"),t=r.toLowerCase().replace(/[^a-zA-Z0-9%]/g,"-"),e=t.split("-"),i=p.split("-"),p.replace(/-/g,"").trim()==="")throw new Error(Datetime.INVALID_DATE);return s=C("month"),m=C("day"),f=C("year"),w=C("hour"),x=C("minute"),I=C("second"),T=C("ms"),s>-1&&i[s]?isNaN(parseInt(i[s]))?(i[s]=function(E){var M=-1,R=Datetime.getLocale(a||"en");return Datetime.not(E)?-1:((M=b(R.months,E))===-1&&R.monthsParental!==void 0&&(M=b(R.monthsParental,E)),M===-1&&(E=E.substr(0,3),M=b(R.monthsShort,E)),M===-1?-1:M+1)}(i[s]),i[s]===-1&&(s=-1)):((h=parseInt(i[s]))<1||h>12)&&(s=-1):s=-1,A=f>-1&&i[f]?i[f]:0,L=s>-1&&i[s]?i[s]:1,k=m>-1&&i[m]?i[m]:1,S=w>-1&&i[w]?i[w]:0,N=x>-1&&i[x]?i[x]:0,D=I>-1&&i[I]?i[I]:0,u=T>-1&&i[T]?i[T]:0,datetime(A,L-1,k,S,N,D,u)}}),function(){var l=Datetime.prototype.format,r=Datetime.lpad;Datetime.use({ampm:function(a){var p=this.hour()<12?"AM":"PM";return a?p.toLowerCase():p},hour12:function(a,p){var t=a;return arguments.length===0?this.hour()%12:((p=p||"am").toLowerCase()==="pm"&&(t+=12),this.hour(t))},format:function(a,p){var t,e,i=this.hour12();return a=a||Datetime.DEFAULT_FORMAT,t={a:"["+this.ampm(!0)+"]",A:"["+this.ampm(!1)+"]",h:i,hh:r(i,"0",2)},e=a.replace(/(\[[^\]]+])|a|A|h{1,2}/g,function(s,m){return m||t[s]}),l.bind(this)(e,p)}})}(),Datetime.use({isLeapYear:function(){var l=this.year();return l%4==0&&l%100!=0||l%400==0}}),function(){var l=Datetime.prototype.format,r=Datetime.align,a=Datetime.alignEnd;Datetime.useStatic({align:function(p,t){var e,i,s=p instanceof Datetime?p:datetime(p);return t==="isoWeek"?(i=s.isoWeekDay(),e=r(s,"day").addDay(1-i)):e=r.apply(this,[s,t]),e},alignEnd:function(p,t){var e,i,s=p instanceof Datetime?p:datetime(p);return t==="isoWeek"?(i=s.isoWeekDay(),e=a(s,"day").addDay(7-i)):e=a.apply(this,[s,t]),e}}),Datetime.use({isoWeekDay:function(p){var t=(this.weekDay()+6)%7+1;return!arguments.length||Datetime.not(p)?t:this.addDay(p-t)},format:function(p,t){p=p||Datetime.DEFAULT_FORMAT;var e={I:this.isoWeekDay()},i=p.replace(/(\[[^\]]+])|I{1,2}/g,function(s,m){return m||e[s]});return l.bind(this)(i,t)}})}(),Datetime.useStatic({max:function(){return[].slice.call(arguments).map(function(l){return datetime(l)}).sort(function(l,r){return r.time()-l.time()})[0]}}),Datetime.use({max:function(){return Datetime.max.apply(this,[this].concat([].slice.call(arguments)))}}),Datetime.useStatic({min:function(){return[].slice.call(arguments).map(function(l){return datetime(l)}).sort(function(l,r){return l.time()-r.time()})[0]}}),Datetime.use({min:function(){return Datetime.min.apply(this,[this].concat([].slice.call(arguments)))}}),At=Datetime.align,Mt=Datetime.alignEnd,Dt=Datetime.prototype.add,Datetime.useStatic({align:function(l,r){var a=l instanceof Datetime?l:datetime(l);return r==="quarter"?Datetime.align(a,"day").day(1).month(3*a.quarter()-3):At.apply(this,[a,r])},alignEnd:function(l,r){var a=l instanceof Datetime?l:datetime(l);return r==="quarter"?Datetime.align(a,"quarter").add(3,"month").add(-1,"ms"):Mt.apply(this,[a,r])}}),Datetime.use({quarter:function(){var l=this.month();return l<=2?1:l<=5?2:l<=8?3:4},add:function(l,r){return r==="quarter"?this.month(this.month()+3*l):Dt.bind(this)(l,r)},addQuarter:function(l){return this.add(l,"quarter")}}),Datetime.useStatic({sort:function(l,r){var a,p,t={};switch(typeof r=="string"||typeof r!="object"||Datetime.not(r)?(t.format=Datetime.DEFAULT_FORMAT,t.dir=r&&r.toUpperCase()==="DESC"?"DESC":"ASC",t.returnAs="datetime"):(t.format=r.format||Datetime.DEFAULT_FORMAT,t.dir=(r.dir||"ASC").toUpperCase(),t.returnAs=r.format?"string":r.returnAs||"datetime"),p=l.map(function(e){return datetime(e)}).sort(function(e,i){return e.valueOf()-i.valueOf()}),t.dir==="DESC"&&p.reverse(),t.returnAs){case"string":a=p.map(function(e){return e.format(t.format)});break;case"date":a=p.map(function(e){return e.val()});break;default:a=p}return a}}),Lt=/(%[a-z])/gi,ut=Datetime.lpad,Datetime.use({strftime:function(l,r){var a=l||"%Y-%m-%dT%H:%M:%S.%Q%t",p=Datetime.getLocale(r||this.locale),t=this.year(),e=this.year2(),i=this.month(),s=this.day(),m=this.weekDay(),f=this.hour(),w=this.hour12(),x=this.minute(),I=this.second(),T=this.ms(),A=this.time(),L=ut(s,"0",2),k=ut(i+1,"0",2),S=ut(f,"0",2),N=ut(w,"0",2),D=ut(x,"0",2),u=ut(I,"0",2),h=ut(T,"0",3),b=this,C=function(){var M=datetime(b.value);return M.day(b.day()-(b.weekDay()+6)%7+3),M},E={"%a":p.weekdaysShort[m],"%A":p.weekdays[m],"%b":p.monthsShort[i],"%h":p.monthsShort[i],"%B":p.months[i],"%c":this.toString().substring(0,this.toString().indexOf(" (")),"%C":this.century(),"%d":L,"%D":[L,k,t].join("/"),"%e":s,"%F":[t,k,L].join("-"),"%G":C().year(),"%g":(""+C().year()).slice(2),"%H":S,"%I":N,"%j":ut(this.dayOfYear(),"0",3),"%k":S,"%l":N,"%m":k,"%n":i+1,"%M":D,"%p":this.ampm(),"%P":this.ampm(!0),"%s":Math.round(A/1e3),"%S":u,"%u":this.isoWeekDay(),"%V":this.isoWeekNumber(),"%w":m,"%x":this.toLocaleDateString(),"%X":this.toLocaleTimeString(),"%y":e,"%Y":t,"%z":this.timezone().replace(":",""),"%Z":this.timezoneName(),"%r":[N,D,u].join(":")+" "+this.ampm(),"%R":[S,D].join(":"),"%T":[S,D,u].join(":"),"%Q":h,"%q":T,"%t":this.timezone()};return a.replace(Lt,function(M){return E[M]===0||E[M]?E[M]:M})}}),function(){var l=Datetime.prototype.format;Datetime.use({utcOffset:function(){return this.value.getTimezoneOffset()},timezone:function(){return this.toTimeString().replace(/.+GMT([+-])(\d{2})(\d{2}).+/,"$1$2:$3")},timezoneName:function(){return this.toTimeString().replace(/.+\((.+?)\)$/,"$1")},format:function(r,a){r=r||Datetime.DEFAULT_FORMAT;var p={Z:this.utcMode?"Z":this.timezone(),ZZ:this.timezone().replace(":",""),ZZZ:"[GMT]"+this.timezone(),z:this.timezoneName()},t=r.replace(/(\[[^\]]+])|Z{1,3}|z/g,function(e,i){return i||p[e]});return l.bind(this)(t,a)}})}(),Datetime.useStatic({isToday:function(l){var r=datetime(l).align("day"),a=datetime().align("day");return r.time()===a.time()}}),Datetime.use({isToday:function(){return Datetime.isToday(this)},today:function(){var l=datetime();return this.mutable?this.val(l.val()):l}}),Datetime.useStatic({isTomorrow:function(l){var r=datetime(l).align("day"),a=datetime().align("day").add(1,"day");return r.time()===a.time()}}),Datetime.use({isTomorrow:function(){return Datetime.isTomorrow(this)},tomorrow:function(){return this.mutable?this.add(1,"day"):this.clone().add(1,"day")}}),Datetime.use({toDateString:function(){return this.value.toDateString()},toISOString:function(){return this.value.toISOString()},toJSON:function(){return this.value.toJSON()},toGMTString:function(){return this.value.toGMTString()},toLocaleDateString:function(){return this.value.toLocaleDateString()},toLocaleString:function(){return this.value.toLocaleString()},toLocaleTimeString:function(){return this.value.toLocaleTimeString()},toTimeString:function(){return this.value.toTimeString()},toUTCString:function(){return this.value.toUTCString()},toDate:function(){return new Date(this.value)}}),Datetime.useStatic({timestamp:function(){return new Date().getTime()/1e3}}),Datetime.use({unix:function(l){var r;return!arguments.length||Datetime.not(l)?Math.floor(this.valueOf()/1e3):(r=1e3*l,this.mutable?this.time(r):datetime(this.value).time(r))},timestamp:function(){return this.unix()}}),function(){var l=Datetime.prototype.format,r=Datetime.lpad;Datetime.use({weekNumber:function(a){var p,t,e,i,s;return a=+a||0,e=(e=(t=datetime(this.year(),0,1)).weekDay()-a)>=0?e:e+7,i=Math.floor((this.time()-t.time()-6e4*(this.utcOffset()-t.utcOffset()))/864e5)+1,e<4?(s=Math.floor((i+e-1)/7)+1)>52&&(s=(p=(p=datetime(this.year()+1,0,1).weekDay()-a)>=0?p:p+7)<4?1:53):s=Math.floor((i+e-1)/7),s},isoWeekNumber:function(){return this.weekNumber(1)},weeksInYear:function(a){return datetime(this.value).month(11).day(31).weekNumber(a)},format:function(a,p){var t,e,i=this.weekNumber(),s=this.isoWeekNumber();return a=a||Datetime.DEFAULT_FORMAT,t={W:i,WW:r(i,"0",2),WWW:s,WWWW:r(s,"0",2)},e=a.replace(/(\[[^\]]+])|W{1,4}/g,function(m,f){return f||t[m]}),l.bind(this)(e,p)}})}(),Datetime.useStatic({isYesterday:function(l){var r=datetime(l).align("day"),a=datetime().align("day").add(-1,"day");return r.time()===a.time()}}),Datetime.use({isYesterday:function(){return Datetime.isYesterday(this)},yesterday:function(){return this.mutable?this.add(-1,"day"):this.clone().add(-1,"day")}}),function(){function l(r){var a,p=Math.floor(r/1e3),t=Math.floor(p/60),e=Math.floor(t/60),i=Math.floor(e/24),s=Math.floor(i/30),m=Math.floor(s/12);return m>=1&&(a=m+" year"),s>=1&&m<1&&(a=s+" mon"),i>=1&&i<=30&&(a=i+" days"),e&&e<24&&(a=e+" hour"),t&&t>=40&&t<60&&(a="less a hour"),t&&t<40&&(a=t+" min"),p&&p>=30&&p<60&&(a=p+" sec"),p<30&&(a="few sec"),a}Datetime.useStatic({timeLapse:function(r){var a=datetime(r);return l(datetime()-a)}}),Datetime.use({timeLapse:function(){return l(datetime()-+this)}})}(),Rt=Datetime.getLocale,Datetime.getLocale=function(l){var r;return Metro?(Metro.locales[l]||(l="en-US"),{months:(r=Metro.locales[l].calendar).months.filter(function(a,p){return p<12}),monthsShort:r.months.filter(function(a,p){return p>11}),weekdays:r.days.filter(function(a,p){return p<7}),weekdaysShort:r.days.filter(function(a,p){return p>13}),weekdaysMin:r.days.filter(function(a,p){return p>6&&p<14}),weekStart:r.weekStart}):(l="en",Rt.call(this,l))},function(){var l=function(d){return d==null},r="\\s\\uFEFF\\xA0",a="\\u0300-\\u036F\\u1AB0-\\u1AFF\\u1DC0-\\u1DFF\\u20D0-\\u20FF\\uFE20-\\uFE2F",p="a-z\\xB5\\xDF-\\xF6\\xF8-\\xFF\\u0101\\u0103\\u0105\\u0107\\u0109\\u010B\\u010D\\u010F\\u0111\\u0113\\u0115\\u0117\\u0119\\u011B\\u011D\\u011F\\u0121\\u0123\\u0125\\u0127\\u0129\\u012B\\u012D\\u012F\\u0131\\u0133\\u0135\\u0137\\u0138\\u013A\\u013C\\u013E\\u0140\\u0142\\u0144\\u0146\\u0148\\u0149\\u014B\\u014D\\u014F\\u0151\\u0153\\u0155\\u0157\\u0159\\u015B\\u015D\\u015F\\u0161\\u0163\\u0165\\u0167\\u0169\\u016B\\u016D\\u016F\\u0171\\u0173\\u0175\\u0177\\u017A\\u017C\\u017E-\\u0180\\u0183\\u0185\\u0188\\u018C\\u018D\\u0192\\u0195\\u0199-\\u019B\\u019E\\u01A1\\u01A3\\u01A5\\u01A8\\u01AA\\u01AB\\u01AD\\u01B0\\u01B4\\u01B6\\u01B9\\u01BA\\u01BD-\\u01BF\\u01C6\\u01C9\\u01CC\\u01CE\\u01D0\\u01D2\\u01D4\\u01D6\\u01D8\\u01DA\\u01DC\\u01DD\\u01DF\\u01E1\\u01E3\\u01E5\\u01E7\\u01E9\\u01EB\\u01ED\\u01EF\\u01F0\\u01F3\\u01F5\\u01F9\\u01FB\\u01FD\\u01FF\\u0201\\u0203\\u0205\\u0207\\u0209\\u020B\\u020D\\u020F\\u0211\\u0213\\u0215\\u0217\\u0219\\u021B\\u021D\\u021F\\u0221\\u0223\\u0225\\u0227\\u0229\\u022B\\u022D\\u022F\\u0231\\u0233-\\u0239\\u023C\\u023F\\u0240\\u0242\\u0247\\u0249\\u024B\\u024D\\u024F",t="\\x41-\\x5a\\xc0-\\xd6\\xd8-\\xde\\u0100\\u0102\\u0104\\u0106\\u0108\\u010a\\u010c\\u010e\\u0110\\u0112\\u0114\\u0116\\u0118\\u011a\\u011c\\u011e\\u0120\\u0122\\u0124\\u0126\\u0128\\u012a\\u012c\\u012e\\u0130\\u0132\\u0134\\u0136\\u0139\\u013b\\u013d\\u013f\\u0141\\u0143\\u0145\\u0147\\u014a\\u014c\\u014e\\u0150\\u0152\\u0154\\u0156\\u0158\\u015a\\u015c\\u015e\\u0160\\u0162\\u0164\\u0166\\u0168\\u016a\\u016c\\u016e\\u0170\\u0172\\u0174\\u0176\\u0178\\u0179\\u017b\\u017d\\u0181\\u0182\\u0184\\u0186\\u0187\\u0189-\\u018b\\u018e-\\u0191\\u0193\\u0194\\u0196-\\u0198\\u019c\\u019d\\u019f\\u01a0\\u01a2\\u01a4\\u01a6\\u01a7\\u01a9\\u01ac\\u01ae\\u01af\\u01b1-\\u01b3\\u01b5\\u01b7\\u01b8\\u01bc\\u01c4\\u01c5\\u01c7\\u01c8\\u01ca\\u01cb\\u01cd\\u01cf\\u01d1\\u01d3\\u01d5\\u01d7\\u01d9\\u01db\\u01de\\u01e0\\u01e2\\u01e4\\u01e6\\u01e8\\u01ea\\u01ec\\u01ee\\u01f1\\u01f2\\u01f4\\u01f6-\\u01f8\\u01fa\\u01fc\\u01fe\\u0200\\u0202\\u0204\\u0206\\u0208\\u020a\\u020c\\u020e\\u0210\\u0212\\u0214\\u0216\\u0218\\u021a\\u021c\\u021e\\u0220\\u0222\\u0224\\u0226\\u0228\\u022a\\u022c\\u022e\\u0230\\u0232\\u023a\\u023b\\u023d\\u023e\\u0241\\u0243-\\u0246\\u0248\\u024a\\u024c\\u024e",e=new RegExp("^["+r+"]+"),i=new RegExp("["+r+"]+$"),s=new RegExp("^\\d+$"),m=/[<>&"'`]/g,f=/(<([^>]+)>)/gi,w=new RegExp("(?:["+t+"]["+a+"]*)?(?:["+p+"]["+a+"]*)+|(?:["+t+"]["+a+"]*)+(?!["+p+"])|[\\d]+|[\\u2700-\\u27BF]|[^\\x00-\\x2F\\x3A-\\x40\\x5B-\\x60\\x7b-\\xBF\\xD7\\xF7\\u2000-\\u206F"+r+"]+","g"),x=/[A-Z\xC0-\xD6\xD8-\xDE]?[a-z\xDF-\xF6\xF8-\xFF]+|[A-Z\xC0-\xD6\xD8-\xDE]+(?![a-z\xDF-\xF6\xF8-\xFF])|\d+/g,I=new RegExp("^(?:["+p+t+"]["+a+"]*)+$"),T=new RegExp("^((?:["+p+t+"]["+a+"]*)|[\\d])+$"),A=/^[\x01-\xFF]*$/;function L(d,g){return l(d)?g:d}function k(d){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return l(d)?g:typeof d=="string"?d:Array.isArray(d)?d.join(""):JSON.stringify(d)}function S(d,g,_){var y;return y=l(g)?A.test(d)?x:w:g instanceof RegExp?g:new RegExp(g,L(_,"")),L(k(d).match(y),[])}function N(d,g){var _=k(d),y=_.substr(1);return _.substr(0,1).toUpperCase()+(g?y.toLowerCase():y)}function D(d){return k(d).toLowerCase()}function u(d){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return k(d).split("").filter(function(_){return!g.includes(_)})}function h(d){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},h(d)}function b(d,g){for(var _=0;_<g.length;_++){var y=g[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}function C(d){return function(g){if(Array.isArray(g))return E(g)}(d)||function(g){if(typeof Symbol<"u"&&Symbol.iterator in Object(g))return Array.from(g)}(d)||function(g,_){if(g){if(typeof g=="string")return E(g,_);var y=Object.prototype.toString.call(g).slice(8,-1);if(y==="Object"&&g.constructor&&(y=g.constructor.name),y==="Map"||y==="Set")return Array.from(g);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return E(g,_)}}(d)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function E(d,g){(g==null||g>d.length)&&(g=d.length);for(var _=0,y=new Array(g);_<g;_++)y[_]=d[_];return y}var M=function(d,g){var _=g.toLowerCase(),y=g.toUpperCase();return d+(g===_?y:_)};function R(d){for(var g=C(d),_=0;_<g.length;++_)for(var y=_+1;y<g.length;++y)g[_]===g[y]&&g.splice(y--,1);return g}var P={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};function j(d){return P[d]}var q={"<":/(&lt;)|(&#x0*3c;)|(&#0*60;)/gi,">":/(&gt;)|(&#x0*3e;)|(&#0*62;)/gi,"&":/(&amp;)|(&#x0*26;)|(&#0*38;)/gi,'"':/(&quot;)|(&#x0*22;)|(&#0*34;)/gi,"'":/(&#x0*27;)|(&#0*39;)/gi,"`":/(&#x0*60;)|(&#0*96;)/gi},$=Object.keys(q);function tt(d,g){return d.replace(q[g],g)}function at(d,g,_){return k(d).substr(g,_)}var nt=9007199254740991;function dt(d,g){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:nt;return d<g?g:d>_?_:d}function ct(d){return d===1/0?nt:d===-1/0?-nt:~~d}function pt(d,g){var _=k(d),y=l(g)||isNaN(g)?_.length:dt(ct(g),0,nt),O=_;if(g===0)return"";for(var F=0;F<y-1;F++)_+=O;return _}function mt(d,g){return pt(d,g-d.length+1).substr(0,g)}var gt=function(d,g,_,y){var O=k(d),F=l(g)||isNaN(g)?O.length:dt(ct(g),0,nt),H=_.length,U=F-O.length;if(U<=0||H===0)return O;var B=mt(_,U);return y?B+O:O+B},xt=Array.prototype.reduce,bt=Array.prototype.reduceRight;function it(d,g){return vt(wt(d,g),g)}function vt(d,g){var _=k(d);if(l(g))return _.replace(e,"");if(g===""||_==="")return _;typeof g!="string"&&(g="");var y=!0;return xt.call(_,function(O,F){return y&&g.includes(F)?O:(y=!1,O+F)},"")}function wt(d,g){var _=k(d);if(l(g))return _.replace(i,"");if(g===""||_==="")return _;typeof g!="string"&&(g="");var y=!0;return bt.call(_,function(O,F){return y&&g.includes(F)?O:(y=!1,F+O)},"")}var Q={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/},st=Object.create(null);function ot(d){return function(g,_){for(var y,O,F,H,U,B,W,X=1,K=g.length,z="",G=0;G<K;G++)if(typeof g[G]=="string")z+=g[G];else if(h(g[G])==="object"){if((O=g[G]).keys){y=_[X];for(var Y=0;Y<O.keys.length;Y++){if(y===void 0)throw new Error(ot('[sprintf] Cannot access property "%s" of undefined value "%s"',O.keys[Y],O.keys[Y-1]));y=y[O.keys[Y]]}}else y=O.param_no?_[O.param_no]:_[X++];if(Q.not_type.test(O.type)&&Q.not_primitive.test(O.type)&&y instanceof Function&&(y=y()),Q.numeric_arg.test(O.type)&&typeof y!="number"&&isNaN(y))throw new TypeError(ot("[sprintf] expecting number but found %T",y));switch(Q.number.test(O.type)&&(B=y>=0),O.type){case"b":y=parseInt(y,10).toString(2);break;case"c":y=String.fromCharCode(parseInt(y,10));break;case"d":case"i":y=parseInt(y,10);break;case"j":y=JSON.stringify(y,null,O.width?parseInt(O.width):0);break;case"e":y=O.precision?parseFloat(y).toExponential(O.precision):parseFloat(y).toExponential();break;case"f":y=O.precision?parseFloat(y).toFixed(O.precision):parseFloat(y);break;case"g":y=O.precision?String(Number(y.toPrecision(O.precision))):parseFloat(y);break;case"o":y=(parseInt(y,10)>>>0).toString(8);break;case"s":y=String(y),y=O.precision?y.substring(0,O.precision):y;break;case"t":y=String(!!y),y=O.precision?y.substring(0,O.precision):y;break;case"T":y=Object.prototype.toString.call(y).slice(8,-1).toLowerCase(),y=O.precision?y.substring(0,O.precision):y;break;case"u":y=parseInt(y,10)>>>0;break;case"v":y=y.valueOf(),y=O.precision?y.substring(0,O.precision):y;break;case"x":y=(parseInt(y,10)>>>0).toString(16);break;case"X":y=(parseInt(y,10)>>>0).toString(16).toUpperCase()}Q.json.test(O.type)?z+=y:(!Q.number.test(O.type)||B&&!O.sign?W="":(W=B?"+":"-",y=y.toString().replace(Q.sign,"")),H=O.pad_char?O.pad_char==="0"?"0":O.pad_char.charAt(1):" ",U=O.width-(W+y).length,F=O.width&&U>0?H.repeat(U):"",z+=O.align?W+y+F:H==="0"?W+F+y:F+W+y)}return z}(function(g){if(st[g])return st[g];for(var _,y=g,O=[],F=0;y;){if((_=Q.text.exec(y))!==null)O.push(_[0]);else if((_=Q.modulo.exec(y))!==null)O.push("%");else{if((_=Q.placeholder.exec(y))===null)throw new SyntaxError("[sprintf] unexpected placeholder");if(_[2]){F|=1;var H=[],U=_[2],B=[];if((B=Q.key.exec(U))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");for(H.push(B[1]);(U=U.substring(B[0].length))!=="";)if((B=Q.key_access.exec(U))!==null)H.push(B[1]);else{if((B=Q.index_access.exec(U))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");H.push(B[1])}_[2]=H}else F|=2;if(F===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");O.push({placeholder:_[0],param_no:_[1],keys:_[2],sign:_[3],pad_char:_[4],align:_[5],width:_[6],precision:_[7],type:_[8]})}y=y.substring(_[0].length)}return st[g]=O}(d),arguments)}var ht,Ct,V={camelCase:function(d){return S(k(d)).map(function(g,_){return _===0?g.toLowerCase():N(g)}).join("")},capitalize:N,chars:u,count:function(d){return k(d).length},countChars:function(d,g){return u(d,g).length},countUniqueChars:function(d,g){return R(u(d,g)).length},countSubstr:function(d,g){var _=k(d),y=k(g);return _===""||y===""?0:_.split(y).length-1},countWords:function(d,g,_){return S(d,g,_).length},countUniqueWords:function(d,g,_){return R(S(d,g,_)).length},dashedName:function(d){return S(k(d)).map(function(g){return g.toLowerCase()}).join("-")},decapitalize:function(d){var g=k(d);return g.substr(0,1).toLowerCase()+g.substr(1)},kebab:function(d){return S(k(d)).map(function(g){return g.toLowerCase()}).join("-")},lower:D,reverse:function(d,g){return u(k(d),g).reverse().join("")},shuffle:function(d){return function(g){for(var _,y,O=C(g),F=O.length;F!==0;)y=Math.floor(Math.random()*F),_=O[F-=1],O[F]=O[y],O[y]=_;return O}(k(d).split("")).join("")},snake:function(d){return S(k(d)).map(function(g){return g.toLowerCase()}).join("_")},swap:function(d){return k(d).split("").reduce(M,"")},title:function(d,g){var _=k(d),y=A.test(_)?x:w,O=Array.isArray(g)?g:l(g)?[]:g.split();return d.replace(y,function(F,H){return H&&O.includes(_[H-1])?D(F):N(F)})},upper:function(d){return k(d).toUpperCase()},words:S,wrap:function(d){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"")+k(d)+g},wrapTag:function(d){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div";return"<".concat(g,">").concat(k(d),"</").concat(g,">")},escapeHtml:function(d){return k(d).replace(m,j)},unescapeHtml:function(d){return $.reduce(tt,k(d))},unique:function(d,g){return R(u(d,g)).join("")},uniqueWords:function(d,g,_){return R(S(d,g,_)).join("")},substr:at,first:function(d,g){var _=k(d);return _?at(_,0,g):""},last:function(d,g){var _=k(d);return _?at(_,_.length-g):""},truncate:function(d,g){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"...",y=k(d),O=l(g)||isNaN(g)?y.length:dt(ct(g),0,nt);return at(y,0,O)+(y.length===O?"":_)},slice:function(d){for(var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,_=k(d),y=[],O=Math.round(_.length/g),F=0;F<g;F++)y.push(at(_,F*O,O));return y},prune:function(d,g){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",y=k(d),O=l(g)||isNaN(g)?y.length:dt(ct(g),0,nt),F=0,H=A.test(y)?x:w;return y.replace(H,function(U,B){var W=B+U.length;W<=O-_.length&&(F=W)}),y.substr(0,F)+_},repeat:pt,pad:function(d,g){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:" ",y=k(d),O=l(g)||isNaN(g)?y.length:dt(ct(g),0,nt),F=_.length,H=O-y.length,U=ct(H/2),B=H%2;return H<=0||F===0?y:mt(_,U)+y+mt(_,U+B)},lpad:function(d,g){return gt(d,g,arguments.length>2&&arguments[2]!==void 0?arguments[2]:" ",!0)},rpad:function(d,g){return gt(d,g,arguments.length>2&&arguments[2]!==void 0?arguments[2]:" ",!1)},insert:function(d){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,y=k(d);return y.substr(0,_)+g+y.substr(_)},trim:it,ltrim:vt,rtrim:wt,endsWith:function(d,g,_){return k(d).endsWith(g,_)},isAlpha:function(d){return I.test(k(d))},isAlphaDigit:function(d){return T.test(k(d))},isDigit:function(d){return s.test(k(d))},isBlank:function(d){return it(d).length===0},isEmpty:function(d){return k(d).length===0},isLower:function(d){var g=k(d);return g.toLowerCase()===g},isUpper:function(d){var g=k(d);return g.toUpperCase()===g},startWith:function(d,g,_){return k(d).startsWith(g,_)},stripTags:function(d){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return k(d).replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(_,y){return g.includes(y)?_:""})},stripTagsAll:function(d){return k(d).replace(f,"")},sprintf:ot,vsprintf:function(d,g){return ot.apply(null,[d].concat(g||[]))},includes:function(d,g,_){return k(d).includes(g,_)}},n=null;ht=Symbol.toPrimitive,Ct=Symbol.toStringTag;var o=function(){function d(){var y,O,F,H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";(function(U,B){if(!(U instanceof B))throw new TypeError("Cannot call a class as a function")})(this,d),F=void 0,(O="_value")in(y=this)?Object.defineProperty(y,O,{value:F,enumerable:!0,configurable:!0,writable:!0}):y[O]=F,this._value=""+H}var g,_;return g=d,_=[{key:ht,value:function(y){return y==="number"?+this.value:this.value}},{key:"toString",value:function(){return this.value}},{key:"escapeHtml",value:function(){return this.value=V.escapeHtml(this.value),this}},{key:"unescapeHtml",value:function(){return this.value=V.unescapeHtml(this.value),this}},{key:"camelCase",value:function(){return this.value=V.camelCase(this.value),this}},{key:"capitalize",value:function(y){return this.value=V.capitalize(this.value,y),this}},{key:"chars",value:function(){return V.chars(this.value)}},{key:"count",value:function(){return V.count(this.value)}},{key:"countChars",value:function(y){return V.countChars(this.value,y)}},{key:"countUniqueChars",value:function(y){return V.countUniqueChars(this.value,y)}},{key:"countSubstr",value:function(y){return V.countSubstr(this.value,y)}},{key:"countWords",value:function(y,O){return V.countWords(this.value,y,O)}},{key:"countUniqueWords",value:function(y,O){return V.countUniqueWords(this.value,y,O)}},{key:"dashedName",value:function(){return this.value=V.dashedName(this.value),this}},{key:"decapitalize",value:function(){return this.value=V.decapitalize(this.value),this}},{key:"kebab",value:function(){return this.value=V.kebab(this.value),this}},{key:"lower",value:function(){return this.value=V.lower(this.value),this}},{key:"reverse",value:function(){return this.value=V.reverse(this.value),this}},{key:"shuffle",value:function(){return this.value=V.shuffle(this.value),this}},{key:"snake",value:function(){return this.value=V.snake(this.value),this}},{key:"swap",value:function(){return this.value=V.swap(this.value),this}},{key:"title",value:function(){return this.value=V.title(this.value),this}},{key:"upper",value:function(){return this.value=V.upper(this.value),this}},{key:"words",value:function(y,O){return V.words(this.value,y,O)}},{key:"wrap",value:function(y,O){return this.value=V.wrap(this.value,y,O),this}},{key:"wrapTag",value:function(y){return this.value=V.wrapTag(this.value,y),this}},{key:"pad",value:function(y,O){return this.value=V.pad(this.value,y,O),this}},{key:"lpad",value:function(y,O){return this.value=V.lpad(this.value,y,O),this}},{key:"rpad",value:function(y,O){return this.value=V.rpad(this.value,y,O),this}},{key:"repeat",value:function(y){return this.value=V.repeat(this.value,y),this}},{key:"prune",value:function(y,O){return this.value=V.prune(this.value,y,O),this}},{key:"slice",value:function(y){return V.slice(this.value,y)}},{key:"truncate",value:function(y,O){return this.value=V.truncate(this.value,y,O),this}},{key:"last",value:function(y){return this.value=V.last(this.value,y),this}},{key:"first",value:function(y){return this.value=V.first(this.value,y),this}},{key:"substr",value:function(y,O){return this.value=V.substr(this.value,y,O),this}},{key:"unique",value:function(y){return V.unique(this.value,y)}},{key:"uniqueWords",value:function(y,O){return V.uniqueWords(this.value,y,O)}},{key:"insert",value:function(y,O){return this.value=V.insert(this.value,y,O),this}},{key:"trim",value:function(y){return this.value=V.trim(this.value,y),this}},{key:"ltrim",value:function(y){return this.value=V.ltrim(this.value,y),this}},{key:"rtrim",value:function(y){return this.value=V.rtrim(this.value,y),this}},{key:"endsWith",value:function(y,O){return V.endsWith(this.value,y,O)}},{key:"startWith",value:function(y,O){return V.startWith(this.value,y,O)}},{key:"isAlpha",value:function(){return V.isAlpha(this.value)}},{key:"isAlphaDigit",value:function(){return V.isAlphaDigit(this.value)}},{key:"isDigit",value:function(){return V.isDigit(this.value)}},{key:"isBlank",value:function(){return V.isBlank(this.value)}},{key:"isEmpty",value:function(){return V.isEmpty(this.value)}},{key:"isLower",value:function(){return V.isLower(this.value)}},{key:"isUpper",value:function(){return V.isUpper(this.value)}},{key:"stripTagsAll",value:function(){return this.value=V.stripTagsAll(this.value),this}},{key:"stripTags",value:function(y){return this.value=V.stripTags(this.value,y),this}},{key:"sprintf",value:function(y){return V.sprintf(this.value,y)}},{key:"vsprintf",value:function(y){return V.vsprintf(this.value,y)}},{key:"includes",value:function(y,O){return V.includes(this.value,y,O)}},{key:Ct,get:function(){return"Cake"}},{key:"value",get:function(){return this._value},set:function(y){this._value=y}},{key:"length",get:function(){return this._value.length}}],_&&b(g.prototype,_),d}(),c=Object.assign({},V),v=n!==null?n:n=(ft===void 0?"undefined":h(ft))==="object"&&ft.Object===Object?ft:(typeof self>"u"?"undefined":h(self))==="object"&&self.Object===Object?self:new Function("return this")();v.Cake=c,v.cake=function(d){return new o(d)}}(),function(l,r){var a=["opacity","zIndex","order","zoom"];function p(n){return!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length)}function t(n){return n===r||n===null}function e(n){return n.replace(/-([a-z])/g,function(o,c){return c.toUpperCase()})}function i(n){var o;return!(!n||Object.prototype.toString.call(n)!=="[object Object]")&&(!(o=n.prototype!==r)||o.constructor&&typeof o.constructor=="function")}function s(n){for(var o in n)if(k(n,o))return!1;return!0}function m(n){return n instanceof Object&&"length"in n}function f(n,o){return o=o||" ",n.split(o).map(function(c){return(""+c).trim()}).filter(function(c){return c!==""})}function w(n,o){return o||(o=[0,""]),n=String(n),o[0]=parseFloat(n),o[1]=n.match(/[\d.\-+]*\s*(.*)/)[1]||"",o}function x(n,o){var c=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(n);return c[1]!==void 0?c[1]:o}function I(n,o,c){o=e(o),["scrollLeft","scrollTop"].indexOf(o)>-1?n[o]=parseInt(c):n.style[o]=isNaN(c)||a.indexOf(""+o)>-1?c:c+"px"}function T(n){return n.nodeType===1||n.nodeType===9||!+n.nodeType}function A(n,o,c){var v;return t(c)&&n.nodeType===1&&(v="data-"+o.replace(/[A-Z]/g,"-$&").toLowerCase(),typeof(c=n.getAttribute(v))=="string"?(c=function(d){try{return JSON.parse(d)}catch{return d}}(c),E.set(n,o,c)):c=r),c}function L(n){return typeof n!="string"?r:n.replace(/-/g,"").toLowerCase()}function k(n,o){return Object.prototype.hasOwnProperty.call(n,o)}function S(n){var o=n||window.location.hostname;return o==="localhost"||o==="127.0.0.1"||o==="[::1]"||o===""||o.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)!==null}(function(n){if(!n.setImmediate){var o,c,v,d=1,g={},_=!1,y=Object.getPrototypeOf&&Object.getPrototypeOf(n);y=y&&y.setTimeout?y:n,{}.toString.call(n.process)==="[object process]"?o=function(H){n.process.nextTick(function(){F(H)})}:n.MessageChannel?((v=new MessageChannel).port1.onmessage=function(H){F(H.data)},o=function(H){v.port2.postMessage(H)}):(c="setImmediate$"+Math.random()+"$",n.addEventListener("message",function(H){H.source===n&&typeof H.data=="string"&&H.data.indexOf(c)===0&&F(+H.data.slice(c.length))},!1),o=function(H){n.postMessage(c+H,"*")}),y.setImmediate=function(H){typeof H!="function"&&(H=new Function(""+H));for(var U=new Array(arguments.length-1),B=0;B<U.length;B++)U[B]=arguments[B+1];return g[d]={callback:H,args:U},o(d),d++},y.clearImmediate=O}function O(H){delete g[H]}function F(H){if(_)setTimeout(F,0,H);else{var U=g[H];if(U){_=!0;try{(function(B){var W=B.callback,X=B.args;switch(X.length){case 0:W();break;case 1:W(X[0]);break;case 2:W(X[0],X[1]);break;case 3:W(X[0],X[1],X[2]);break;default:W.apply(r,X)}})(U)}finally{O(H),_=!1}}}}})(typeof self>"u"?l===void 0?window:l:self);var N="v1.1.0. Built at 05/05/2021 22:47:56",D=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector,u=function(n,o){return new u.init(n,o)};u.version=N,u.fn=u.prototype={version:N,constructor:u,length:0,uid:"",push:[].push,sort:[].sort,splice:[].splice,indexOf:[].indexOf,reverse:[].reverse},u.extend=u.fn.extend=function(){var n,o,c=arguments[0]||{},v=1,d=arguments.length;for(typeof c!="object"&&typeof c!="function"&&(c={}),v===d&&(c=this,v--);v<d;v++)if((n=arguments[v])!=null)for(o in n)k(n,o)&&(c[o]=n[o]);return c},u.assign=function(){var n,o,c=arguments[0]||{},v=1,d=arguments.length;for(typeof c!="object"&&typeof c!="function"&&(c={}),v===d&&(c=this,v--);v<d;v++)if((n=arguments[v])!=null)for(o in n)k(n,o)&&n[o]!==r&&(c[o]=n[o]);return c};var h=function(){return Date.now()};function b(n){var o=document.createElement("script");if(o.type="text/javascript",t(n))return u(o);var c=u(n)[0];return c.src?o.src=c.src:o.textContent=c.innerText,document.body.appendChild(o),c.parentNode&&c.parentNode.removeChild(c),o}u.extend({intervalId:-1,intervalQueue:[],intervalTicking:!1,intervalTickId:null,setInterval:function(n,o){var c=this;if(this.intervalId++,this.intervalQueue.push({id:this.intervalId,fn:n,interval:o,lastTime:h()}),!this.intervalTicking){var v=function(){c.intervalTickId=requestAnimationFrame(v),u.each(c.intervalQueue,function(){var d=this;(d.interval<17||h()-d.lastTime>=d.interval)&&(d.fn(),d.lastTime=h())})};this.intervalTicking=!0,v()}return this.intervalId},clearInterval:function(n){for(var o=0;o<this.intervalQueue.length;o++)if(n===this.intervalQueue[o].id){this.intervalQueue.splice(o,1);break}this.intervalQueue.length===0&&(cancelAnimationFrame(this.intervalTickId),this.intervalTicking=!1)},setTimeout:function(n,o){var c=this,v=this.setInterval(function(){c.clearInterval(v),n()},o);return v},clearTimeout:function(n){return this.clearInterval(n)}}),u.fn.extend({index:function(n){var o,c=-1;return this.length===0||(o=t(n)?this[0]:n instanceof u&&n.length>0?n[0]:typeof n=="string"?u(n)[0]:r,t(o)||o&&o.parentNode&&u.each(o.parentNode.children,function(v){this===o&&(c=v)})),c},get:function(n){return n===r?this.items():n<0?this[n+this.length]:this[n]},eq:function(n){return!t(n)&&this.length>0?u.extend(u(this.get(n)),{_prevObj:this}):this},is:function(n){var o=!1;return this.length!==0&&(n instanceof u?this.same(n):(n===":selected"?this.each(function(){this.selected&&(o=!0)}):n===":checked"?this.each(function(){this.checked&&(o=!0)}):n===":visible"?this.each(function(){p(this)&&(o=!0)}):n===":hidden"?this.each(function(){var c=getComputedStyle(this);(this.getAttribute("type")==="hidden"||this.hidden||c.display==="none"||c.visibility==="hidden"||parseInt(c.opacity)===0)&&(o=!0)}):typeof n=="string"&&[":selected"].indexOf(n)===-1?this.each(function(){D.call(this,n)&&(o=!0)}):m(n)?this.each(function(){var c=this;u.each(n,function(){c===this&&(o=!0)})}):typeof n=="object"&&n.nodeType===1&&this.each(function(){this===n&&(o=!0)}),o))},same:function(n){var o=!0;return n instanceof u||(n=u(n)),this.length===n.length&&(this.each(function(){n.items().indexOf(this)===-1&&(o=!1)}),o)},last:function(){return this.eq(this.length-1)},first:function(){return this.eq(0)},odd:function(){var n=this.filter(function(o,c){return c%2==0});return u.extend(n,{_prevObj:this})},even:function(){var n=this.filter(function(o,c){return c%2!=0});return u.extend(n,{_prevObj:this})},filter:function(n){if(typeof n=="string"){var o=n;n=function(c){return D.call(c,o)}}return u.extend(u.merge(u(),[].filter.call(this,n)),{_prevObj:this})},find:function(n){var o,c=[];return n instanceof u?n:(this.length===0?o=this:(this.each(function(){this.querySelectorAll!==void 0&&(c=c.concat([].slice.call(this.querySelectorAll(n))))}),o=u.merge(u(),c)),u.extend(o,{_prevObj:this}))},contains:function(n){return this.find(n).length>0},children:function(n){var o,c=[];return n instanceof u?n:(this.each(function(){var v=this;for(o=0;o<v.children.length;o++)v.children[o].nodeType===1&&c.push(v.children[o])}),c=n?c.filter(function(v){return D.call(v,n)}):c,u.extend(u.merge(u(),c),{_prevObj:this}))},parent:function(n){var o=[];if(this.length!==0)return n instanceof u?n:(this.each(function(){this.parentNode&&o.indexOf(this.parentNode)===-1&&o.push(this.parentNode)}),o=n?o.filter(function(c){return D.call(c,n)}):o,u.extend(u.merge(u(),o),{_prevObj:this}))},parents:function(n){var o=[];if(this.length!==0)return n instanceof u?n:(this.each(function(){for(var c=this.parentNode;c;)c.nodeType===1&&o.indexOf(c)===-1&&(t(n)||D.call(c,n))&&o.push(c),c=c.parentNode}),u.extend(u.merge(u(),o),{_prevObj:this}))},siblings:function(n){var o=[];if(this.length!==0)return n instanceof u?n:(this.each(function(){var c=this;c.parentNode&&u.each(c.parentNode.children,function(){c!==this&&o.push(this)})}),n&&(o=o.filter(function(c){return D.call(c,n)})),u.extend(u.merge(u(),o),{_prevObj:this}))},_siblingAll:function(n,o){var c=[];if(this.length!==0)return o instanceof u?o:(this.each(function(){for(var v=this;v&&(v=v[n]);)c.push(v)}),o&&(c=c.filter(function(v){return D.call(v,o)})),u.extend(u.merge(u(),c),{_prevObj:this}))},_sibling:function(n,o){var c=[];if(this.length!==0)return o instanceof u?o:(this.each(function(){var v=this[n];v&&v.nodeType===1&&c.push(v)}),o&&(c=c.filter(function(v){return D.call(v,o)})),u.extend(u.merge(u(),c),{_prevObj:this}))},prev:function(n){return this._sibling("previousElementSibling",n)},next:function(n){return this._sibling("nextElementSibling",n)},prevAll:function(n){return this._siblingAll("previousElementSibling",n)},nextAll:function(n){return this._siblingAll("nextElementSibling",n)},closest:function(n){var o=[];if(this.length!==0)return n instanceof u?n:n?(this.each(function(){for(var c=this;c&&c;){if(D.call(c,n))return void o.push(c);c=c.parentElement}}),u.extend(u.merge(u(),o.reverse()),{_prevObj:this})):this.parent(n)},has:function(n){var o=[];if(this.length!==0)return this.each(function(){u(this).children(n).length>0&&o.push(this)}),u.extend(u.merge(u(),o),{_prevObj:this})},back:function(n){var o;if(n===!0)for(o=this._prevObj;o&&o._prevObj;)o=o._prevObj;else o=this._prevObj?this._prevObj:this;return o}}),u.extend({script:function(n){if(t(n))return b();var o=u(n)[0];o.tagName&&o.tagName==="SCRIPT"?b(o):u.each(u(o).find("script"),function(){b(this)})}}),u.fn.extend({script:function(){return this.each(function(){u.script(this)})}}),u.fn.extend({_prop:function(n,o){return arguments.length===1?this.length===0?r:this[0][n]:(t(o)&&(o=""),this.each(function(){this[n]=o,n==="innerHTML"&&u.script(this)}))},prop:function(n,o){return arguments.length===1?this._prop(n):this._prop(n,o===void 0?"":o)},val:function(n){return t(n)?this.length===0?r:this[0].value:this.each(function(){var o=u(this);this.value!==void 0?this.value=n:o.html(n)})},html:function(n){var o=[];return arguments.length===0?this._prop("innerHTML"):(n instanceof u?n.each(function(){o.push(u(this).outerHTML())}):o.push(n),this._prop("innerHTML",o.length===1&&t(o[0])?"":o.join(`
`)),this)},outerHTML:function(){return this._prop("outerHTML")},text:function(n){return arguments.length===0?this._prop("textContent"):this._prop("textContent",n===void 0?"":n)},innerText:function(n){return arguments.length===0?this._prop("innerText"):this._prop("innerText",n===void 0?"":n)},empty:function(){return this.each(function(){this.innerHTML!==void 0&&(this.innerHTML="")})},clear:function(){return this.empty()}}),u.each=function(n,o){var c=0;if(m(n))[].forEach.call(n,function(d,g){o.apply(d,[g,d])});else for(var v in n)k(n,v)&&o.apply(n[v],[v,n[v],c++]);return n},u.fn.extend({each:function(n){return u.each(this,n)}});var C=function(n){this.expando="DATASET:UID:"+n.toUpperCase(),C.uid++};C.uid=-1,C.prototype={cache:function(n){var o=n[this.expando];return o||(o={},T(n)&&(n.nodeType?n[this.expando]=o:Object.defineProperty(n,this.expando,{value:o,configurable:!0}))),o},set:function(n,o,c){var v,d=this.cache(n);if(typeof o=="string")d[e(o)]=c;else for(v in o)k(o,v)&&(d[e(v)]=o[v]);return d},get:function(n,o){return o===r?this.cache(n):n[this.expando]&&n[this.expando][e(o)]},access:function(n,o,c){return o===r||o&&typeof o=="string"&&c===r?this.get(n,o):(this.set(n,o,c),c!==r?c:o)},remove:function(n,o){var c,v=n[this.expando];if(v!==r){if(o!==r)for(c=(o=Array.isArray(o)?o.map(e):(o=e(o))in v?[o]:o.match(/[^\x20\t\r\n\f]+/g)||[]).length;c--;)delete v[o[c]];return(o===r||s(v))&&(n.nodeType?n[this.expando]=r:delete n[this.expando]),!0}},hasData:function(n){var o=n[this.expando];return o!==r&&!s(o)}};var E=new C("m4q");u.extend({hasData:function(n){return E.hasData(n)},data:function(n,o,c){return E.access(n,o,c)},removeData:function(n,o){return E.remove(n,o)},dataSet:function(n){if(t(n))return E;if(["INTERNAL","M4Q"].indexOf(n.toUpperCase())>-1)throw Error("You can not use reserved name for your dataset");return new C(n)}}),u.fn.extend({data:function(n,o){var c,v,d,g,_,y;if(this.length!==0){if(v=this[0],arguments.length===0){if(this.length&&(d=E.get(v),v.nodeType===1))for(y=(g=v.attributes).length;y--;)g[y]&&(_=g[y].name).indexOf("data-")===0&&A(v,_=e(_.slice(5)),d[_]);return d}return arguments.length===1?((c=E.get(v,n))===r&&v.nodeType===1&&v.hasAttribute("data-"+n)&&(c=v.getAttribute("data-"+n)),c):this.each(function(){E.set(this,n,o)})}},removeData:function(n){return this.each(function(){E.remove(this,n)})},origin:function(n,o,c){if(this.length===0)return this;if(t(n)&&t(o))return u.data(this[0]);if(t(o)){var v=u.data(this[0],"origin-"+n);return t(v)?c:v}return this.data("origin-"+n,o),this}}),u.extend({device:/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()),localhost:S(),isLocalhost:S,touchable:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,dark:window.matchMedia("(prefers-color-scheme: dark)").matches,uniqueId:function(n){var o=new Date().getTime();return t(n)&&(n="m4q"),(n!==""?n+"-":"")+"xxxx-xxxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var v=(o+16*Math.random())%16|0;return o=Math.floor(o/16),(c==="x"?v:3&v|8).toString(16)})},toArray:function(n){var o,c=[];for(o=0;o<n.length;o++)c.push(n[o]);return c},import:function(n){var o=[];return this.each(n,function(){o.push(this)}),this.merge(u(),o)},merge:function(n,o){for(var c=+o.length,v=0,d=n.length;v<c;v++)n[d++]=o[v];return n.length=d,n},type:function(n){return Object.prototype.toString.call(n).replace(/^\[object (.+)]$/,"$1").toLowerCase()},sleep:function(n){new Date().getTime()},isSelector:function(n){if(typeof n!="string")return!1;try{document.querySelector(n)}catch{return!1}return!0},remove:function(n){return u(n).remove()},camelCase:e,dashedName:function(n){return n.replace(/([A-Z])/g,function(o){return"-"+o.toLowerCase()})},isPlainObject:i,isEmptyObject:s,isArrayLike:m,acceptData:T,not:t,parseUnit:w,getUnit:x,unit:w,isVisible:p,isHidden:function(n){var o=getComputedStyle(n);return!p(n)||+o.opacity==0||n.hidden||o.visibility==="hidden"},matches:function(n,o){return D.call(n,o)},random:function(n,o){return arguments.length===1&&m(n)?n[Math.floor(Math.random()*n.length)]:Math.floor(Math.random()*(o-n+1)+n)},strip:function(n,o){return typeof n!="string"?r:n.replace(o,"")},normName:L,hasProp:k,serializeToArray:function(n){var o=u(n)[0];if(o&&o.nodeName==="FORM"){var c,v,d=[];for(c=o.elements.length-1;c>=0;c-=1)if(o.elements[c].name!=="")switch(o.elements[c].nodeName){case"INPUT":switch(o.elements[c].type){case"checkbox":case"radio":o.elements[c].checked&&d.push(o.elements[c].name+"="+encodeURIComponent(o.elements[c].value));break;case"file":break;default:d.push(o.elements[c].name+"="+encodeURIComponent(o.elements[c].value))}break;case"TEXTAREA":d.push(o.elements[c].name+"="+encodeURIComponent(o.elements[c].value));break;case"SELECT":switch(o.elements[c].type){case"select-one":d.push(o.elements[c].name+"="+encodeURIComponent(o.elements[c].value));break;case"select-multiple":for(v=o.elements[c].options.length-1;v>=0;v-=1)o.elements[c].options[v].selected&&d.push(o.elements[c].name+"="+encodeURIComponent(o.elements[c].options[v].value))}break;case"BUTTON":switch(o.elements[c].type){case"reset":case"submit":case"button":d.push(o.elements[c].name+"="+encodeURIComponent(o.elements[c].value))}}return d}console.warn("Element is not a HTMLFromElement")},serialize:function(n){return u.serializeToArray(n).join("&")}}),u.fn.extend({items:function(){return u.toArray(this)}});var M=Event.prototype.stopPropagation,R=Event.prototype.preventDefault;Event.prototype.stopPropagation=function(){this.isPropagationStopped=!0,M.apply(this,arguments)},Event.prototype.preventDefault=function(){this.isPreventedDefault=!0,R.apply(this,arguments)},Event.prototype.stop=function(n){return n?this.stopImmediatePropagation():this.stopPropagation()},u.extend({events:[],eventHooks:{},eventUID:-1,setEventHandler:function(n){var o,c,v,d=-1;if(this.events.length>0){for(o=0;o<this.events.length;o++)if(this.events[o].handler===null){d=o;break}}return c={element:n.el,event:n.event,handler:n.handler,selector:n.selector,ns:n.ns,id:n.id,options:n.options},d===-1?(this.events.push(c),v=this.events.length-1):(this.events[d]=c,v=d),v},getEventHandler:function(n){return this.events[n]!==r&&this.events[n]!==null?(this.events[n]=null,this.events[n].handler):r},off:function(){return u.each(this.events,function(){this.element.removeEventListener(this.event,this.handler,!0)}),this.events=[],this},getEvents:function(){return this.events},getEventHooks:function(){return this.eventHooks},addEventHook:function(n,o,c){return t(c)&&(c="before"),u.each(f(n),function(){this.eventHooks[e(c+"-"+this)]=o}),this},removeEventHook:function(n,o){return t(o)&&(o="before"),u.each(f(n),function(){delete this.eventHooks[e(o+"-"+this)]}),this},removeEventHooks:function(n){var o=this;return t(n)?this.eventHooks={}:u.each(f(n),function(){delete o.eventHooks[e("before-"+this)],delete o.eventHooks[e("after-"+this)]}),this}}),u.fn.extend({on:function(n,o,c,v){if(this.length!==0)return typeof o=="function"&&(v=c,c=o,o=r),i(v)||(v={}),this.each(function(){var d=this;u.each(f(n),function(){var g,_,y,O=this.split("."),F=L(O[0]),H=v.ns?v.ns:O[1];u.eventUID++,g=function(U){var B=U.target,W=u.eventHooks[e("before-"+F)],X=u.eventHooks[e("after-"+F)];if(typeof W=="function"&&W.call(B,U),o)for(;B&&B!==d;){if(D.call(B,o)&&(c.call(B,U),U.isPropagationStopped)){U.stopImmediatePropagation();break}B=B.parentNode}else c.call(d,U);typeof X=="function"&&X.call(B,U),v.once&&(_=+u(d).origin("event-"+U.type+(o?":"+o:"")+(H?":"+H:"")),isNaN(_)||u.events.splice(_,1))},Object.defineProperty(g,"name",{value:c.name&&c.name!==""?c.name:"func_event_"+F+"_"+u.eventUID}),y=F+(o?":"+o:"")+(H?":"+H:""),d.addEventListener(F,g,!s(v)&&v),_=u.setEventHandler({el:d,event:F,handler:g,selector:o,ns:H,id:u.eventUID,options:!s(v)&&v}),u(d).origin("event-"+y,_)})})},one:function(n,o,c,v){return i(v)||(v={}),v.once=!0,this.on.apply(this,[n,o,c,v])},off:function(n,o,c){return i(o)&&(c=o,o=null),i(c)||(c={}),t(n)||n.toLowerCase()==="all"?this.each(function(){var v=this;u.each(u.events,function(){var d=this;d.element===v&&(v.removeEventListener(d.event,d.handler,d.options),d.handler=null,u(v).origin("event-"+name+(d.selector?":"+d.selector:"")+(d.ns?":"+d.ns:""),null))})}):this.each(function(){var v=this;u.each(f(n),function(){var d,g,_=this.split("."),y=L(_[0]),O=c.ns?c.ns:_[1];d="event-"+y+(o?":"+o:"")+(O?":"+O:""),(g=u(v).origin(d))!==r&&u.events[g].handler&&(v.removeEventListener(y,u.events[g].handler,u.events[g].options),u.events[g].handler=null),u(v).origin(d,null)})})},trigger:function(n,o){return this.fire(n,o)},fire:function(n,o){var c,v;if(this.length!==0)return c=L(n),["focus","blur"].indexOf(c)>-1?(this[0][c](),this):(typeof CustomEvent<"u"?v=new CustomEvent(c,{bubbles:!0,cancelable:!0,detail:o}):((v=document.createEvent("Events")).detail=o,v.initEvent(c,!0,!0)),this.each(function(){this.dispatchEvent(v)}))}}),"blur focus resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu touchstart touchend touchmove touchcancel".split(" ").forEach(function(n){u.fn[n]=function(o,c,v){return arguments.length>0?this.on(n,o,c,v):this.fire(n)}}),u.fn.extend({hover:function(n,o){return this.mouseenter(n).mouseleave(o||n)}}),u.ready=function(n,o){document.addEventListener("DOMContentLoaded",n,o||!1)},u.load=function(n){return u(window).on("load",n)},u.unload=function(n){return u(window).on("unload",n)},u.fn.extend({unload:function(n){return this.length===0||this[0].self!==window?r:u.unload(n)}}),u.beforeunload=function(n){return typeof n=="string"?u(window).on("beforeunload",function(o){return o.returnValue=n,n}):u(window).on("beforeunload",n)},u.fn.extend({beforeunload:function(n){return this.length===0||this[0].self!==window?r:u.beforeunload(n)}}),u.fn.extend({ready:function(n){if(this.length&&this[0]===document&&typeof n=="function")return u.ready(n)}}),u.ajax=function(n){return new Promise(function(o,c){var v,d,g,_=new XMLHttpRequest,y=(n.method||"GET").toUpperCase(),O=[],F=!!t(n.async)||n.async,H=n.url,U=H.indexOf("?")>-1?"&":"?",B=function(Y,J){typeof Y=="function"&&Y.apply(null,J)},W=function(Y){return["GET","JSON"].indexOf(Y)!==-1};if(n.data instanceof HTMLFormElement){var X=n.data.getAttribute("action"),K=n.data.getAttribute("method");t(H)&&X&&X.trim()!==""&&(H=X),K&&K.trim()!==""&&(y=K.toUpperCase())}if(n.timeout&&(_.timeout=n.timeout),n.withCredentials&&(_.withCredentials=n.withCredentials),n.data instanceof HTMLFormElement)v=u.serialize(n.data);else if(n.data instanceof HTMLElement&&n.data.getAttribute("type")&&n.data.getAttribute("type").toLowerCase()==="file"){var z=n.data.getAttribute("name");v=new FormData;for(var G=0;G<n.data.files.length;G++)v.append(z,n.data.files[G])}else i(n.data)?(d=n.data,g=[],u.each(d,function(Y,J){var rt=function(et){return typeof et=="string"||typeof et=="boolean"||typeof et=="number"}(J)?J:JSON.stringify(J);g.push(Y+"="+rt)}),v=g.join("&")):n.data instanceof FormData||typeof n.data=="string"?v=n.data:(v=new FormData).append("_data",JSON.stringify(n.data));W(y)&&(H+=typeof v=="string"?U+v:s(v)?"":U+JSON.stringify(v)),_.open(y,H,F,n.user,n.password),n.headers&&u.each(n.headers,function(Y,J){_.setRequestHeader(Y,J),O.push(Y)}),W(y)||O.indexOf("Content-type")===-1&&n.contentType!==!1&&_.setRequestHeader("Content-type","application/x-www-form-urlencoded"),_.send(v),_.addEventListener("load",function(Y){if(_.readyState===4&&_.status<300){var J=n.returnValue&&n.returnValue==="xhr"?_:_.response;if(n.parseJson)try{J=JSON.parse(J)}catch{J={}}B(o,[J]),B(n.onSuccess,[Y,_])}else B(c,[_]),B(n.onFail,[Y,_]);B(n.onLoad,[Y,_])}),u.each(["readystatechange","error","timeout","progress","loadstart","loadend","abort"],function(){var Y=e("on-"+(this==="readystatechange"?"state":this));_.addEventListener(Y,function(J){B(n[Y],[J,_])})})})},["get","post","put","patch","delete","json"].forEach(function(n){u[n]=function(o,c,v){var d=n.toUpperCase(),g={method:d==="JSON"?"GET":d,url:o,data:c,parseJson:d==="JSON"};return u.ajax(u.extend({},g,v))}}),u.fn.extend({load:function(n,o,c){var v=this;return this.length&&this[0].self===window?u.load(n):u.get(n,o,c).then(function(d){v.each(function(){this.innerHTML=d})})}}),u.fn.extend({style:function(n,o){var c;function v(_,y,O){return["scrollLeft","scrollTop"].indexOf(y)>-1?u(_)[y]():getComputedStyle(_,O)[y]}if(typeof n=="string"&&this.length===0)return r;if(this.length===0)return this;if(c=this[0],t(n)||n==="all")return getComputedStyle(c,o);var d={},g=n.split(", ").map(function(_){return(""+_).trim()});return g.length===1?v(c,g[0],o):(u.each(g,function(){d[this]=v(c,this,o)}),d)},removeStyleProperty:function(n){if(t(n)||this.length===0)return this;var o=n.split(", ").map(function(c){return(""+c).trim()});return this.each(function(){var c=this;u.each(o,function(){c.style.removeProperty(this)})})},css:function(n,o){return typeof(n=n||"all")=="string"&&t(o)?this.style(n):this.each(function(){var c=this;typeof n=="object"?u.each(n,function(v,d){I(c,v,d)}):typeof n=="string"&&I(c,n,o)})},scrollTop:function(n){return t(n)?this.length===0?r:this[0]===window?pageYOffset:this[0].scrollTop:this.each(function(){this.scrollTop=n})},scrollLeft:function(n){return t(n)?this.length===0?r:this[0]===window?pageXOffset:this[0].scrollLeft:this.each(function(){this.scrollLeft=n})}}),u.fn.extend({addClass:function(){},removeClass:function(){},toggleClass:function(){},containsClass:function(n){return this.hasClass(n)},hasClass:function(n){var o=!1,c=n.split(" ").filter(function(v){return(""+v).trim()!==""});return!t(n)&&(this.each(function(){var v=this;u.each(c,function(){!o&&v.classList&&v.classList.contains(this)&&(o=!0)})}),o)},clearClasses:function(){return this.each(function(){this.className=""})},cls:function(n){return this.length===0?r:n?this[0].className.split(" "):this[0].className},removeClassBy:function(n){return this.each(function(){var o=u(this),c=o.cls(!0);u.each(c,function(){this.indexOf(n)>-1&&o.removeClass(this)})})}}),["add","remove","toggle"].forEach(function(n){u.fn[n+"Class"]=function(o){return t(o)||(""+o).trim()===""?this:this.each(function(){var c=this,v=c.classList!==void 0;u.each(o.split(" ").filter(function(d){return(""+d).trim()!==""}),function(){v&&c.classList[n](this)})})}}),u.parseHTML=function(n){var o,c,v,d,g=[];if(typeof n!="string")return[];if(n=n.trim(),(o=(v=document.implementation.createHTMLDocument("")).createElement("base")).href=document.location.href,v.head.appendChild(o),d=v.body,c=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i.exec(n))g.push(document.createElement(c[1]));else{d.innerHTML=n;for(var _=0;_<d.childNodes.length;_++)g.push(d.childNodes[_])}return g},u.fn.extend({_size:function(n,o){if(this.length!==0){if(t(o)){var c=this[0];if(n==="height")return c===window?window.innerHeight:c===document?c.body.clientHeight:parseInt(getComputedStyle(c).height);if(n==="width")return c===window?window.innerWidth:c===document?c.body.clientWidth:parseInt(getComputedStyle(c).width)}return this.each(function(){var v=this;v!==window&&v!==document&&(v.style[n]=isNaN(o)?o:o+"px")})}},height:function(n){return this._size("height",n)},width:function(n){return this._size("width",n)},_sizeOut:function(n,o){var c,v,d,g;if(this.length!==0)return t(o)||typeof o=="boolean"?(v=(c=this[0])[n==="width"?"offsetWidth":"offsetHeight"],d=getComputedStyle(c),g=v+parseInt(d[n==="width"?"margin-left":"margin-top"])+parseInt(d[n==="width"?"margin-right":"margin-bottom"]),o===!0?g:v):this.each(function(){var _=this;if(_!==window&&_!==document){var y,O=getComputedStyle(_),F=n==="width"?parseInt(O["border-left-width"])+parseInt(O["border-right-width"]):parseInt(O["border-top-width"])+parseInt(O["border-bottom-width"]),H=n==="width"?parseInt(O["padding-left"])+parseInt(O["padding-right"]):parseInt(O["padding-top"])+parseInt(O["padding-bottom"]);y=u(this)[n](o)[n]()-F-H,_.style[n]=y+"px"}})},outerWidth:function(n){return this._sizeOut("width",n)},outerHeight:function(n){return this._sizeOut("height",n)},padding:function(n){if(this.length!==0){var o=getComputedStyle(this[0],n);return{top:parseInt(o["padding-top"]),right:parseInt(o["padding-right"]),bottom:parseInt(o["padding-bottom"]),left:parseInt(o["padding-left"])}}},margin:function(n){if(this.length!==0){var o=getComputedStyle(this[0],n);return{top:parseInt(o["margin-top"]),right:parseInt(o["margin-right"]),bottom:parseInt(o["margin-bottom"]),left:parseInt(o["margin-left"])}}},border:function(n){if(this.length!==0){var o=getComputedStyle(this[0],n);return{top:parseInt(o["border-top-width"]),right:parseInt(o["border-right-width"]),bottom:parseInt(o["border-bottom-width"]),left:parseInt(o["border-left-width"])}}}}),u.fn.extend({offset:function(n){var o;return t(n)?this.length===0?r:{top:(o=this[0].getBoundingClientRect()).top+pageYOffset,left:o.left+pageXOffset}:this.each(function(){var c=u(this),v=n.top,d=n.left,g=getComputedStyle(this).position,_=c.offset();g==="static"&&c.css("position","relative"),["absolute","fixed"].indexOf(g)===-1&&(v-=_.top,d-=_.left),c.css({top:v,left:d})})},position:function(n){var o,c,v=0,d=0;return(t(n)||typeof n!="boolean")&&(n=!1),this.length===0?r:(o=this[0],c=getComputedStyle(o),n&&(v=parseInt(c["margin-left"]),d=parseInt(c["margin-top"])),{left:o.offsetLeft-v,top:o.offsetTop-d})},left:function(n,o){if(this.length!==0)return t(n)?this.position(o).left:typeof n=="boolean"?(o=n,this.position(o).left):this.each(function(){u(this).css({left:n})})},top:function(n,o){if(this.length!==0)return t(n)?this.position(o).top:typeof n=="boolean"?(o=n,this.position(o).top):this.each(function(){u(this).css({top:n})})},coord:function(){return this.length===0?r:this[0].getBoundingClientRect()},pos:function(){if(this.length!==0)return{top:parseInt(u(this[0]).style("top")),left:parseInt(u(this[0]).style("left"))}}}),u.fn.extend({attr:function(n,o){var c={};return this.length===0&&arguments.length===0?r:this.length&&arguments.length===0?(u.each(this[0].attributes,function(){c[this.nodeName]=this.nodeValue}),c):arguments.length===1&&typeof n=="string"?this.length&&this[0].nodeType===1&&this[0].hasAttribute(n)?this[0].getAttribute(n):r:this.each(function(){var v=this;i(n)?u.each(n,function(d,g){v.setAttribute(d,g)}):v.setAttribute(n,o)})},removeAttr:function(n){var o;return t(n)?this.each(function(){var c=this;u.each(this.attributes,function(){c.removeAttribute(this)})}):(o=typeof n=="string"?n.split(",").map(function(c){return c.trim()}):n,this.each(function(){var c=this;u.each(o,function(){c.hasAttribute(this)&&c.removeAttribute(this)})}))},toggleAttr:function(n,o){return this.each(function(){t(o)?this.removeAttribute(n):this.setAttribute(n,o)})},id:function(n){return this.length?u(this[0]).attr("id",n):r}}),u.extend({meta:function(n){return t(n)?u("meta"):u("meta[name='$name']".replace("$name",n))},metaBy:function(n){return t(n)?u("meta"):u("meta[$name]".replace("$name",n))},doctype:function(){return u("doctype")},html:function(){return u("html")},head:function(){return u("html").find("head")},body:function(){return u("body")},document:function(){return u(document)},window:function(){return u(window)},charset:function(n){var o=u("meta[charset]");return n&&o.attr("charset",n),o.attr("charset")}}),u.extend({proxy:function(n,o){return typeof n!="function"?r:n.bind(o)},bind:function(n,o){return this.proxy(n,o)}}),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach(function(n){["append","prepend"].forEach(function(o){k(n,o)||Object.defineProperty(n,o,{configurable:!0,enumerable:!0,writable:!0,value:function(){var c=Array.prototype.slice.call(arguments),v=document.createDocumentFragment();c.forEach(function(d){var g=d instanceof Node;v.appendChild(g?d:document.createTextNode(String(d)))}),o==="prepend"?this.insertBefore(v,this.firstChild):this.appendChild(v)}})})});var P=function(n){var o;return typeof n=="string"?o=u.isSelector(n)?u(n):u.parseHTML(n):n instanceof HTMLElement?o=[n]:m(n)&&(o=n),o};u.fn.extend({appendText:function(n){return this.each(function(o,c){c.innerHTML+=n})},prependText:function(n){return this.each(function(o,c){c.innerHTML=n+c.innerHTML})},append:function(n){var o=P(n);return this.each(function(c,v){u.each(o,function(){if(v!==this){var d=c===0?this:this.cloneNode(!0);u.script(d),d.tagName&&d.tagName!=="SCRIPT"&&v.append(d)}})})},appendTo:function(n){var o=P(n);return this.each(function(){var c=this;u.each(o,function(v,d){c!==this&&d.append(v===0?c:c.cloneNode(!0))})})},prepend:function(n){var o=P(n);return this.each(function(c,v){u.each(o,function(){if(v!==this){var d=c===0?this:this.cloneNode(!0);u.script(d),d.tagName&&d.tagName!=="SCRIPT"&&v.prepend(d)}})})},prependTo:function(n){var o=P(n);return this.each(function(){var c=this;u.each(o,function(v,d){c!==this&&u(d).prepend(v===0?c:c.cloneNode(!0))})})},insertBefore:function(n){var o=P(n);return this.each(function(){var c=this;u.each(o,function(v){if(c!==this){var d=this.parentNode;d&&d.insertBefore(v===0?c:c.cloneNode(!0),this)}})})},insertAfter:function(n){var o=P(n);return this.each(function(){var c=this;u.each(o,function(v,d){if(c!==this){var g=this.parentNode;g&&g.insertBefore(v===0?c:c.cloneNode(!0),d.nextSibling)}})})},after:function(n){return this.each(function(){typeof n=="string"?this.insertAdjacentHTML("afterend",n):u(n).insertAfter(this)})},before:function(n){return this.each(function(){typeof n=="string"?this.insertAdjacentHTML("beforebegin",n):u(n).insertBefore(this)})},clone:function(n,o){var c=[];return t(n)&&(n=!1),t(o)&&(o=!1),this.each(function(){var v,d=this.cloneNode(n),g=u(d);o&&u.hasData(this)&&(v=u(this).data(),u.each(v,function(_,y){g.data(_,y)})),c.push(d)}),u.merge(u(),c)},import:function(n){var o=[];return t(n)&&(n=!1),this.each(function(){o.push(document.importNode(this,n))}),u.merge(u(),o)},adopt:function(){var n=[];return this.each(function(){n.push(document.adoptNode(this))}),u.merge(u(),n)},remove:function(n){var o,c,v=0,d=[];if(this.length!==0){for(c=n?this.filter(function(g){return D.call(g,n)}):this.items();(o=c[v])!=null;v++)o.parentNode&&(d.push(o.parentNode.removeChild(o)),u.removeData(o));return u.merge(u(),d)}},wrap:function(n){if(this.length!==0){var o=u(P(n));if(o.length){var c=[];return this.each(function(){var v,d;for((d=o.clone(!0,!0)).insertBefore(this),v=d;v.children().length;)v=v.children().eq(0);v.append(this),c.push(d)}),u(c)}}},wrapAll:function(n){var o,c,v;if(this.length!==0&&(o=u(P(n))).length){for((c=o.clone(!0,!0)).insertBefore(this[0]),v=c;v.children().length;)v=v.children().eq(0);return this.each(function(){v.append(this)}),c}},wrapInner:function(n){if(this.length!==0){var o=u(P(n));if(o.length){var c=[];return this.each(function(){var v=u(this),d=v.html(),g=o.clone(!0,!0);v.html(g.html(d)),c.push(g)}),u(c)}}}}),u.extend({animation:{duration:1e3,ease:"linear",elements:{}}}),typeof window.setupAnimation=="object"&&u.each(window.setupAnimation,function(n,o){u.animation[n]===void 0||t(o)||(u.animation[n]=o)});var j=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY"],q=["opacity","zIndex"],$=["opacity","volume"],tt=["scrollLeft","scrollTop"],at=["opacity","volume"];function nt(n){return n instanceof HTMLElement||n instanceof SVGElement}function dt(n,o,c){u.each(o,function(v,d){(function(g,_,y,O,F){t(F)&&(F=!1),_=e(_),F&&(y=parseInt(y)),nt(g)?g[_]!==void 0?g[_]=y:g.style[_]=_==="transform"||_.toLowerCase().indexOf("color")>-1?y:y+O:g[_]=y})(n,v,d[0]+d[2]*c,d[3],d[4])})}function ct(n){if(!nt(n))return{};for(var o,c=n.style.transform||"",v=/(\w+)\(([^)]*)\)/g,d={};o=v.exec(c);)d[o[1]]=o[2];return d}function pt(n){return/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n||"#000000").slice(1).map(function(o){return parseInt(o,16)})}function mt(n){return n[0]==="#"&&n.length===4?"#"+n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(o,c,v,d){return c+c+v+v+d+d}):n[0]==="#"?n:"#"+n}function gt(n,o,c){dt(n,o.props,c),function(v,d,g){var _=[],y=ct(v);u.each(d,function(O,F){var H=F[0],U=F[1],B=F[2],W=F[3];((O=""+O).indexOf("rotate")>-1||O.indexOf("skew")>-1)&&W===""&&(W="deg"),O.indexOf("scale")>-1&&(W=""),O.indexOf("translate")>-1&&W===""&&(W="px"),W==="turn"?_.push(O+"("+U*g+W+")"):_.push(O+"("+(H+B*g)+W+")")}),u.each(y,function(O,F){d[O]===r&&_.push(O+"("+F+")")}),v.style.transform=_.join(" ")}(n,o.transform,c),function(v,d,g){u.each(d,function(_,y){var O,F,H=[0,0,0];for(O=0;O<3;O++)H[O]=Math.floor(y[0][O]+y[2][O]*g);F="rgb("+H.join(",")+")",v.style[_]=F})}(n,o.color,c)}function xt(n,o,c){var v,d,g,_,y,O,F={props:{},transform:{},color:{}},H=ct(n);return t(c)&&(c="normal"),u.each(o,function(U,B){var W=j.indexOf(""+U)>-1,X=q.indexOf(""+U)>-1,K=(""+U).toLowerCase().indexOf("color")>-1;if(Array.isArray(B)&&B.length===1&&(B=B[0]),Array.isArray(B)?(d=K?pt(mt(B[0])):w(B[0]),g=K?pt(mt(B[1])):w(B[1])):(d=W?H[U]||0:K?function(z,G){return getComputedStyle(z)[G].replace(/[^\d.,]/g,"").split(",").map(function(Y){return parseInt(Y)})}(n,U):function(z,G,Y){return z[G]!==void 0?tt.indexOf(G)>-1?G==="scrollLeft"?z===window?pageXOffset:z.scrollLeft:z===window?pageYOffset:z.scrollTop:z[G]||0:z.style[G]||getComputedStyle(z,Y)[G]}(n,U),d=K?d:w(d),g=K?pt(B):w(function(z,G){var Y=/^(\*=|\+=|-=)/.exec(z);if(!Y)return z;var J=x(z)||0,rt=parseFloat(G),et=parseFloat(z.replace(Y[0],""));switch(Y[0][0]){case"+":return rt+et+J;case"-":return rt-et+J;case"*":return rt*et+J;case"/":return rt/et+J}}(B,Array.isArray(d)?d[0]:d))),at.indexOf(""+U)>-1&&d[0]===g[0]&&(d[0]=g[0]>0?0:1),c==="reverse"&&(O=d,d=g,g=O),y=n instanceof HTMLElement&&g[1]===""&&!X&&!W?"px":g[1],K)for(_=[0,0,0],v=0;v<3;v++)_[v]=g[v]-d[v];else _=g[0]-d[0];W?F.transform[U]=[d[0],g[0],_,y]:K?F.color[U]=[d,g,_,y]:F.props[U]=[d[0],g[0],_,y,$.indexOf(""+U)===-1]}),F}function bt(n,o,c){return Math.min(Math.max(n,o),c)}var it={linear:function(){return function(n){return n}}};it.default=it.linear;var vt={Sine:function(){return function(n){return 1-Math.cos(n*Math.PI/2)}},Circ:function(){return function(n){return 1-Math.sqrt(1-n*n)}},Back:function(){return function(n){return n*n*(3*n-2)}},Bounce:function(){return function(n){for(var o,c=4;n<((o=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*o-2)/22-n,2)}},Elastic:function(n,o){t(n)&&(n=1),t(o)&&(o=.5);var c=bt(n,1,10),v=bt(o,.1,2);return function(d){return d===0||d===1?d:-c*Math.pow(2,10*(d-1))*Math.sin((d-1-v/(2*Math.PI)*Math.asin(1/c))*(2*Math.PI)/v)}}};["Quad","Cubic","Quart","Quint","Expo"].forEach(function(n,o){vt[n]=function(){return function(c){return Math.pow(c,o+2)}}}),Object.keys(vt).forEach(function(n){var o=vt[n];it["easeIn"+n]=o,it["easeOut"+n]=function(c,v){return function(d){return 1-o(c,v)(1-d)}},it["easeInOut"+n]=function(c,v){return function(d){return d<.5?o(c,v)(2*d)/2:1-o(c,v)(-2*d+2)/2}}});var wt={id:null,el:null,draw:{},dur:u.animation.duration,ease:u.animation.ease,loop:0,pause:0,dir:"normal",defer:0,onStart:function(){},onStop:function(){},onStopAll:function(){},onPause:function(){},onPauseAll:function(){},onResume:function(){},onResumeAll:function(){},onFrame:function(){},onDone:function(){}};function Q(n){return new Promise(function(o){var c,v=this,d=u.assign({},wt,{dur:u.animation.duration,ease:u.animation.ease},n),g=d.id,_=d.el,y=d.draw,O=d.dur,F=d.ease,H=d.loop,U=d.onStart,B=d.onFrame,W=d.onDone,X=d.pause,K=d.dir,z=d.defer,G={},Y="linear",J=[],rt=it.linear,et=K==="alternate"?"normal":K,Ft=!1,Z=g||+performance.now()*Math.pow(10,14);if(t(_))throw new Error("Unknown element!");if(typeof _=="string"&&(_=document.querySelector(_)),typeof y!="function"&&typeof y!="object")throw new Error("Unknown draw object. Must be a function or object!");O===0&&(O=1),K==="alternate"&&typeof H=="number"&&(H*=2),typeof F=="string"?(c=/\(([^)]+)\)/.exec(F),Y=F.split("(")[0],J=c?c[1].split(",").map(function(_t){return parseFloat(_t)}):[],rt=it[Y]||it.linear):rt=typeof F=="function"?F:it.linear,u.animation.elements[Z]={element:_,id:null,stop:0,pause:0,loop:0,t:-1,started:0,paused:0};var kt=function(){typeof y=="object"&&(G=xt(_,y,et)),typeof U=="function"&&U.apply(_),u.animation.elements[Z].loop+=1,u.animation.elements[Z].started=performance.now(),u.animation.elements[Z].duration=O,u.animation.elements[Z].id=requestAnimationFrame(St)},Tt=function(){cancelAnimationFrame(u.animation.elements[Z].id),delete u.animation.elements[g],typeof W=="function"&&W.apply(_),o(v)},St=function(_t){var yt,lt,Nt=u.animation.elements[Z].stop,Pt=u.animation.elements[Z].pause,Et=u.animation.elements[Z].started;if(u.animation.elements[Z].paused&&(Et=_t-u.animation.elements[Z].t*O,u.animation.elements[Z].started=Et),(lt=((_t-Et)/O).toFixed(4))>1&&(lt=1),lt<0&&(lt=0),yt=rt.apply(null,J)(lt),u.animation.elements[Z].t=lt,u.animation.elements[Z].p=yt,Pt)u.animation.elements[Z].id=requestAnimationFrame(St);else{if(Nt>0)return Nt===2&&(typeof y=="function"?y.bind(_)(1,1):gt(_,G,1)),void Tt();typeof y=="function"?y.bind(_)(lt,yt):gt(_,G,yt),typeof B=="function"&&B.apply(_,[lt,yt]),lt<1&&(u.animation.elements[Z].id=requestAnimationFrame(St)),parseInt(lt)===1&&(H?(K==="alternate"&&(et=et==="normal"?"reverse":"normal"),typeof H=="boolean"||H>u.animation.elements[Z].loop?setTimeout(function(){kt()},X):Tt()):K!=="alternate"||Ft?Tt():(et=et==="normal"?"reverse":"normal",Ft=!0,kt()))}};z>0?setTimeout(function(){kt()},z):kt()})}function st(n,o){var c=u.animation.elements[n];c!==void 0&&(t(o)&&(o=!0),c.stop=o===!0?2:1,typeof c.onStop=="function"&&c.onStop.apply(c.element))}function ot(n){var o=u.animation.elements[n];o!==void 0&&(o.pause=1,o.paused=performance.now(),typeof o.onPause=="function"&&o.onPause.apply(o.element))}function ht(n){var o=u.animation.elements[n];o!==void 0&&(o.pause=0,o.paused=0,typeof o.onResume=="function"&&o.onResume.apply(o.element))}var Ct={loop:!1,onChainItem:null,onChainItemComplete:null,onChainComplete:null};u.easing={},u.extend(u.easing,it),u.extend({animate:function(n){var o,c,v,d,g;return arguments.length>1?(o=u(arguments[0])[0],c=arguments[1],v=arguments[2]||u.animation.duration,d=arguments[3]||u.animation.ease,g=arguments[4],typeof v=="function"&&(g=v,d=u.animation.ease,v=u.animation.duration),typeof d=="function"&&(g=d,d=u.animation.ease),Q({el:o,draw:c,dur:v,ease:d,onDone:g})):Q(n)},chain:function n(o,c){var v=u.extend({},Ct,c);if(typeof v.loop!="boolean"&&v.loop--,!Array.isArray(o))return console.warn("Chain array is not defined!"),!1;o.reduce(function(d,g){return d.then(function(){return typeof v.onChainItem=="function"&&v.onChainItem(g),Q(g).then(function(){typeof v.onChainItemComplete=="function"&&v.onChainItemComplete(g)})})},Promise.resolve()).then(function(){typeof v.onChainComplete=="function"&&v.onChainComplete(),v.loop&&n(o,v)})},stop:st,stopAll:function(n,o){u.each(u.animation.elements,function(c,v){o?typeof o=="string"?D.call(v.element,o)&&st(c,n):o.length?u.each(o,function(){v.element===this&&st(c,n)}):o instanceof Element&&v.element===o&&st(c,n):st(c,n)})},resume:ht,resumeAll:function(n){u.each(u.animation.elements,function(o,c){n?typeof n=="string"?D.call(c.element,n)&&ht(o):n.length?u.each(n,function(){c.element===this&&ht(o)}):n instanceof Element&&c.element===n&&ht(o):ht(o)})},pause:ot,pauseAll:function(n){u.each(u.animation.elements,function(o,c){n?typeof n=="string"?D.call(c.element,n)&&ot(o):n.length?u.each(n,function(){c.element===this&&ot(o)}):n instanceof Element&&c.element===n&&ot(o):ot(o)})}}),u.fn.extend({animate:function(n){var o,c,v,d,g=this,_=n;return!Array.isArray(n)&&(arguments.length>1||arguments.length===1&&arguments[0].draw===void 0)?(o=arguments[0],c=arguments[1]||u.animation.duration,v=arguments[2]||u.animation.ease,d=arguments[3],typeof c=="function"&&(d=c,c=u.animation.duration,v=u.animation.ease),typeof v=="function"&&(d=v,v=u.animation.ease),this.each(function(){return u.animate({el:this,draw:o,dur:c,ease:v,onDone:d})})):Array.isArray(n)?(u.each(n,function(){var y=this;g.each(function(){y.el=this,u.animate(y)})}),this):this.each(function(){_.el=this,u.animate(_)})},chain:function(n,o){return this.each(function(){var c=this;u.each(n,function(){this.el=c}),u.chain(n,o)})},stop:function(n){return this.each(function(){var o=this;u.each(u.animation.elements,function(c,v){v.element===o&&st(c,n)})})},pause:function(){return this.each(function(){var n=this;u.each(u.animation.elements,function(o,c){c.element===n&&ot(o)})})},resume:function(){return this.each(function(){var n=this;u.each(u.animation.elements,function(o,c){c.element===n&&ht(o)})})}}),u.extend({hidden:function(n,o,c){return n=u(n)[0],typeof o=="string"&&(o=o.toLowerCase()==="true"),typeof o=="function"&&(c=o,o=!n.hidden),n.hidden=o,typeof c=="function"&&(u.bind(c,n),c.call(n,arguments)),this},hide:function(n,o){return u(n).origin("display",n.style.display?n.style.display:getComputedStyle(n,null).display),n.style.display="none",typeof o=="function"&&(u.bind(o,n),o.call(n,arguments)),this},show:function(n,o){var c=u(n).origin("display",r,"block");return n.style.display=c?c==="none"?"block":c:"",parseInt(n.style.opacity)===0&&(n.style.opacity="1"),typeof o=="function"&&(u.bind(o,n),o.call(n,arguments)),this},visible:function(n,o,c){return o===r&&(o=!0),n.style.visibility=o?"visible":"hidden",typeof c=="function"&&(u.bind(c,n),c.call(n,arguments)),this},toggle:function(n,o){var c=getComputedStyle(n,null).display!=="none"?"hide":"show";return u[c](n,o)}}),u.fn.extend({hide:function(){var n;return u.each(arguments,function(){typeof this=="function"&&(n=this)}),this.each(function(){u.hide(this,n)})},show:function(){var n;return u.each(arguments,function(){typeof this=="function"&&(n=this)}),this.each(function(){u.show(this,n)})},visible:function(n,o){return this.each(function(){u.visible(this,n,o)})},toggle:function(n){return this.each(function(){u.toggle(this,n)})},hidden:function(n,o){return this.each(function(){u.hidden(this,n,o)})}}),u.extend({fx:{off:!1}}),u.fn.extend({fadeIn:function(n,o,c){return this.each(function(){var v=this,d=u(v);if(!(!p(v)||p(v)&&+d.style("opacity")==0))return this;t(n)&&t(o)&&t(c)?(c=null,n=u.animation.duration):typeof n=="function"&&(c=n,n=u.animation.duration),typeof o=="function"&&(c=o,o=u.animation.ease),u.fx.off&&(n=0);var g=d.origin("display",r,"block");return v.style.opacity="0",v.style.display=g,u.animate({el:v,draw:{opacity:1},dur:n,ease:o,onDone:function(){typeof c=="function"&&u.proxy(c,this)()}})})},fadeOut:function(n,o,c){return this.each(function(){var v=this,d=u(v);if(p(v))return t(n)&&t(o)&&t(c)?(c=null,n=u.animation.duration):typeof n=="function"&&(c=n,n=u.animation.duration),typeof o=="function"&&(c=o,o=u.animation.ease),d.origin("display",d.style("display")),u.animate({el:v,draw:{opacity:0},dur:n,ease:o,onDone:function(){this.style.display="none",typeof c=="function"&&u.proxy(c,this)()}})})},slideUp:function(n,o,c){return this.each(function(){var v,d=this,g=u(d);if(g.height()!==0)return t(n)&&t(o)&&t(c)?(c=null,n=u.animation.duration):typeof n=="function"&&(c=n,n=u.animation.duration),typeof o=="function"&&(c=o,o=u.animation.ease),v=g.height(),g.origin("height",v),g.origin("display",u(d).style("display")),g.css({overflow:"hidden"}),u.animate({el:d,draw:{height:0},dur:n,ease:o,onDone:function(){g.hide().removeStyleProperty("overflow, height"),typeof c=="function"&&u.proxy(c,this)()}})})},slideDown:function(n,o,c){return this.each(function(){var v,d,g=this,_=u(g);return t(n)&&t(o)&&t(c)?(c=null,n=u.animation.duration):typeof n=="function"&&(c=n,n=u.animation.duration),typeof o=="function"&&(c=o,o=u.animation.ease),_.show().visible(!1),v=+_.origin("height",r,_.height()),parseInt(v)===0&&(v=g.scrollHeight),d=_.origin("display",_.style("display"),"block"),_.height(0).visible(!0),_.css({overflow:"hidden",display:d==="none"?"block":d}),u.animate({el:g,draw:{height:v},dur:n,ease:o,onDone:function(){u(g).removeStyleProperty("overflow, height, visibility"),typeof c=="function"&&u.proxy(c,this)()}})})},moveTo:function(n,o,c,v,d){var g={top:o,left:n};return typeof c=="function"&&(d=c,c=u.animation.duration,v=u.animation.ease),typeof v=="function"&&(d=v,v=u.animation.ease),this.each(function(){u.animate({el:this,draw:g,dur:c,ease:v,onDone:d})})},centerTo:function(n,o,c,v,d){return typeof c=="function"&&(d=c,c=u.animation.duration,v=u.animation.ease),typeof v=="function"&&(d=v,v=u.animation.ease),this.each(function(){var g={left:n-this.clientWidth/2,top:o-this.clientHeight/2};u.animate({el:this,draw:g,dur:c,ease:v,onDone:d})})},colorTo:function(n,o,c,v){var d={color:n};return typeof o=="function"&&(v=o,o=u.animation.duration,c=u.animation.ease),typeof c=="function"&&(v=c,c=u.animation.ease),this.each(function(){u.animate({el:this,draw:d,dur:o,ease:c,onDone:v})})},backgroundTo:function(n,o,c,v){var d={backgroundColor:n};return typeof o=="function"&&(v=o,o=u.animation.duration,c=u.animation.ease),typeof c=="function"&&(v=c,c=u.animation.ease),this.each(function(){u.animate({el:this,draw:d,dur:o,ease:c,onDone:v})})}}),u.init=function(n,o){var c,v=this;if(typeof n=="string"&&(n=n.trim()),this.uid=u.uniqueId(),!n)return this;if(typeof n=="function")return u.ready(n);if(n instanceof Element)return this.push(n),this;if(n instanceof u)return u.each(n,function(){v.push(this)}),this;if(n==="window"&&(n=window),n==="document"&&(n=document),n==="body"&&(n=document.body),n==="html"&&(n=document.documentElement),n==="doctype"&&(n=document.doctype),n&&(n.nodeType||n.self===window))return this.push(n),this;if(m(n))return u.each(n,function(){u(this).each(function(){v.push(this)})}),this;if(typeof n!="string"&&n.self&&n.self!==window)return this;if(n==="#"||n===".")return console.error("Selector can't be # or ."),this;if(n[0]==="@")u("[data-role]").each(function(){f(u(this).attr("data-role"),",").indexOf(n.slice(1))>-1&&v.push(this)});else if((c=u.parseHTML(n)).length===1&&c[0].nodeType===3)try{[].push.apply(this,document.querySelectorAll(n))}catch{}else u.merge(this,c);return o!==r&&(o instanceof u?this.each(function(){u(o).append(v)}):o instanceof HTMLElement?u(o).append(v):i(o)&&u.each(this,function(){for(var d in o)k(o,d)&&this.setAttribute(d,o[d])})),this},u.init.prototype=u.fn;var V=window.$;u.Promise=Promise,window.m4q=u,window.$===void 0&&(window.$=u),u.global=function(){V=window.$,window.$=u},u.noConflict=function(){return window.$===u&&(window.$=V),u}}(window),function(l){var r=l.meta("metro4:init").attr("content"),a=l.meta("metro4:locale").attr("content"),p=l.meta("metro4:week_start").attr("content"),t=l.meta("metro4:date_format").attr("content"),e=l.meta("metro4:date_format_input").attr("content"),i=l.meta("metro4:animation_duration").attr("content"),s=l.meta("metro4:callback_timeout").attr("content"),m=l.meta("metro4:timeout").attr("content"),f=l.meta("metro4:scroll_multiple").attr("content"),w=l.meta("metro4:cloak").attr("content"),x=l.meta("metro4:cloak_duration").attr("content"),I=l.meta("metro4:global_common").attr("content"),T=l.meta("metro4:blur_image").attr("content");window.METRO_BLUR_IMAGE===void 0&&(window.METRO_BLUR_IMAGE=T!==void 0&&JSON.parse(I)),window.METRO_GLOBAL_COMMON===void 0&&(window.METRO_GLOBAL_COMMON=I!==void 0&&JSON.parse(I));var A=l.meta("metro4:jquery").attr("content");window.jquery_present=typeof jQuery<"u",window.METRO_JQUERY===void 0&&(window.METRO_JQUERY=A===void 0||JSON.parse(A)),window.useJQuery=window.jquery_present&&window.METRO_JQUERY;var L=l.meta("metro4:about").attr("content");window.METRO_SHOW_ABOUT===void 0&&(window.METRO_SHOW_ABOUT=L===void 0||JSON.parse(L));var k=l.meta("metro4:compile").attr("content");window.METRO_SHOW_COMPILE_TIME===void 0&&(window.METRO_SHOW_COMPILE_TIME=k===void 0||JSON.parse(k)),window.METRO_INIT===void 0&&(window.METRO_INIT=r===void 0||JSON.parse(r)),window.METRO_DEBUG===void 0&&(window.METRO_DEBUG=!0),window.METRO_WEEK_START===void 0&&(window.METRO_WEEK_START=p!==void 0?parseInt(p):0),window.METRO_DATE_FORMAT===void 0&&(window.METRO_DATE_FORMAT=t!==void 0?t:"YYYY-MM-DD"),window.METRO_DATE_FORMAT_INPUT===void 0&&(window.METRO_DATE_FORMAT_INPUT=e!==void 0?e:"YYYY-MM-DD"),window.METRO_LOCALE===void 0&&(window.METRO_LOCALE=a!==void 0?a:"en-US"),window.METRO_ANIMATION_DURATION===void 0&&(window.METRO_ANIMATION_DURATION=i!==void 0?parseInt(i):100),window.METRO_CALLBACK_TIMEOUT===void 0&&(window.METRO_CALLBACK_TIMEOUT=s!==void 0?parseInt(s):500),window.METRO_TIMEOUT===void 0&&(window.METRO_TIMEOUT=m!==void 0?parseInt(m):2e3),window.METRO_SCROLL_MULTIPLE===void 0&&(window.METRO_SCROLL_MULTIPLE=f!==void 0?parseInt(f):20),window.METRO_CLOAK_REMOVE===void 0&&(window.METRO_CLOAK_REMOVE=w!==void 0?(""+w).toLowerCase():"fade"),window.METRO_CLOAK_DURATION===void 0&&(window.METRO_CLOAK_DURATION=x!==void 0?parseInt(x):300),window.METRO_HOTKEYS_FILTER_CONTENT_EDITABLE===void 0&&(window.METRO_HOTKEYS_FILTER_CONTENT_EDITABLE=!0),window.METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS===void 0&&(window.METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS=!0),window.METRO_HOTKEYS_FILTER_TEXT_INPUTS===void 0&&(window.METRO_HOTKEYS_FILTER_TEXT_INPUTS=!0),window.METRO_HOTKEYS_BUBBLE_UP===void 0&&(window.METRO_HOTKEYS_BUBBLE_UP=!1),window.METRO_THROWS===void 0&&(window.METRO_THROWS=!0),window.METRO_MEDIA=[]}(m4q),function(){(function(t){if(!/MSIE 10/i.test(navigator.userAgent))try{var e=new Blob(["var fakeIdToId = {};onmessage = function (event) {	var data = event.data,		name = data.name,		fakeId = data.fakeId,		time;	if(data.hasOwnProperty('time')) {		time = data.time;	}	switch (name) {		case 'setInterval':			fakeIdToId[fakeId] = setInterval(function () {				postMessage({fakeId: fakeId});			}, time);			break;		case 'clearInterval':			if (fakeIdToId.hasOwnProperty (fakeId)) {				clearInterval(fakeIdToId[fakeId]);				delete fakeIdToId[fakeId];			}			break;		case 'setTimeout':			fakeIdToId[fakeId] = setTimeout(function () {				postMessage({fakeId: fakeId});				if (fakeIdToId.hasOwnProperty (fakeId)) {					delete fakeIdToId[fakeId];				}			}, time);			break;		case 'clearTimeout':			if (fakeIdToId.hasOwnProperty (fakeId)) {				clearTimeout(fakeIdToId[fakeId]);				delete fakeIdToId[fakeId];			}			break;	}}"]);t=window.URL.createObjectURL(e)}catch{}var i,s={},m=0,f="HackTimer.js by turuslan: ";function w(){do m===2147483647?m=0:m++;while(s.hasOwnProperty(m));return m}if(typeof Worker<"u")try{i=new Worker(t),window.setInterval=function(x,I){var T=w();return s[T]={callback:x,parameters:Array.prototype.slice.call(arguments,2)},i.postMessage({name:"setInterval",fakeId:T,time:I}),T},window.clearInterval=function(x){s.hasOwnProperty(x)&&(delete s[x],i.postMessage({name:"clearInterval",fakeId:x}))},window.setTimeout=function(x,I){var T=w();return s[T]={callback:x,parameters:Array.prototype.slice.call(arguments,2),isTimeout:!0},i.postMessage({name:"setTimeout",fakeId:T,time:I}),T},window.clearTimeout=function(x){s.hasOwnProperty(x)&&(delete s[x],i.postMessage({name:"clearTimeout",fakeId:x}))},i.onmessage=function(x){var I,T,A,L=x.data.fakeId;if(s.hasOwnProperty(L)&&(A=(I=s[L]).callback,T=I.parameters,I.hasOwnProperty("isTimeout")&&I.isTimeout&&delete s[L]),typeof A=="string")try{A=new Function(A)}catch(k){console.log(f+"Error parsing callback code string: ",k)}typeof A=="function"&&A.apply(window,T)},i.onerror=function(x){console.log(x)}}catch(x){console.log(f+"Initialisation failed"),console.error(x)}else console.log(f+"Initialisation failed - HTML5 Web Worker is not supported")})("HackTimerWorker.js");var l=m4q;if(typeof m4q>"u")throw new Error("Metro 4 requires m4q helper!");if(!("MutationObserver"in window))throw new Error("Metro 4 requires MutationObserver!");var r="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,a=function(t){return typeof t!="string"?void 0:t.replace(/-/g,"").toLowerCase()},p={version:"4.5.8",buildNumber:0,isTouchable:r,fullScreenEnabled:document.fullscreenEnabled,sheet:null,controlsPosition:{INSIDE:"inside",OUTSIDE:"outside"},groupMode:{ONE:"one",MULTI:"multi"},aspectRatio:{HD:"hd",SD:"sd",CINEMA:"cinema"},fullScreenMode:{WINDOW:"window",DESKTOP:"desktop"},position:{TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right",TOP_RIGHT:"top-right",TOP_LEFT:"top-left",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",LEFT_BOTTOM:"left-bottom",LEFT_TOP:"left-top",RIGHT_TOP:"right-top",RIGHT_BOTTOM:"right-bottom"},popoverEvents:{CLICK:"click",HOVER:"hover",FOCUS:"focus"},stepperView:{SQUARE:"square",CYCLE:"cycle",DIAMOND:"diamond"},listView:{LIST:"list",CONTENT:"content",ICONS:"icons",ICONS_MEDIUM:"icons-medium",ICONS_LARGE:"icons-large",TILES:"tiles",TABLE:"table"},events:{click:"click",start:r?"touchstart":"mousedown",stop:r?"touchend":"mouseup",move:r?"touchmove":"mousemove",enter:r?"touchstart":"mouseenter",startAll:"mousedown touchstart",stopAll:"mouseup touchend",moveAll:"mousemove touchmove",leave:"mouseleave",focus:"focus",blur:"blur",resize:"resize",keyup:"keyup",keydown:"keydown",keypress:"keypress",dblclick:"dblclick",input:"input",change:"change",cut:"cut",paste:"paste",scroll:"scroll",mousewheel:"mousewheel",inputchange:"change input propertychange cut paste copy drop",dragstart:"dragstart",dragend:"dragend",dragenter:"dragenter",dragover:"dragover",dragleave:"dragleave",drop:"drop",drag:"drag"},keyCode:{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,BREAK:19,CAPS:20,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,COMMA:188},media_queries:{FS:"(min-width: 0px)",XS:"(min-width: 360px)",SM:"(min-width: 576px)",MD:"(min-width: 768px)",LG:"(min-width: 992px)",XL:"(min-width: 1200px)",XXL:"(min-width: 1452px)"},media_sizes:{FS:0,XS:360,SM:576,LD:640,MD:768,LG:992,XL:1200,XXL:1452},media_mode:{FS:"fs",XS:"xs",SM:"sm",MD:"md",LG:"lg",XL:"xl",XXL:"xxl"},media_modes:["fs","xs","sm","md","lg","xl","xxl"],actions:{REMOVE:1,HIDE:2},hotkeys:{},locales:{},utils:{},colors:{},dialog:null,pagination:null,md5:null,storage:null,export:null,animations:null,cookie:null,template:null,defaults:{},about:function(){var t="<h3>About</h3><hr><div><b>Metro UI</b> - v"+p.version+". "+p.showCompileTime()+"</div><div><b>M4Q</b> - "+m4q.version+"</div>";p.infobox.create(t)},info:function(){console.info("Metro 4 - v"+p.version+". "+p.showCompileTime()),console.info("m4q - "+m4q.version)},showCompileTime:function(){return""},aboutDlg:function(){alert("Metro 4 - v"+p.version+". "+p.showCompileTime())},ver:function(){return p.version},build:function(){return p.build},compile:function(){return""},observe:function(){new MutationObserver(function(t){t.map(function(e){if(e.type==="attributes"&&e.attributeName!=="data-role")if(e.attributeName==="data-hotkey")p.initHotkeys([e.target],!0);else{var i=l(e.target),s=i.data("metroComponent"),m=e.attributeName,f=i.attr(m),w=e.oldValue;s!==void 0&&(i.fire("attr-change",{attr:m,newValue:f,oldValue:w,__this:i[0]}),l.each(s,function(){var k=p.getPlugin(i,this);k&&typeof k.changeAttribute=="function"&&k.changeAttribute(m,f,w)}))}else if(e.type==="childList"&&e.addedNodes.length>0){var x,I,T,A=[],L=e.addedNodes;if(L.length){for(x=0;x<L.length;x++)T=L[x],(I=l(T)).attr("data-role")!==void 0&&A.push(T),l.each(I.find("[data-role]"),function(){A.indexOf(this)===-1&&A.push(this)});A.length&&p.initWidgets(A,"observe")}}})}).observe(l("html")[0],{childList:!0,attributes:!0,subtree:!0})},init:function(){var t=l("[data-role]"),e=l("[data-hotkey]"),i=l("html"),s=this;window.METRO_BLUR_IMAGE&&i.addClass("use-blur-image"),window.METRO_SHOW_ABOUT&&p.info(!0),r===!0?i.addClass("metro-touch-device"):i.addClass("metro-no-touch-device"),p.sheet=this.utils.newCssSheet(),this.utils.addCssRule(p.sheet,"*, *::before, *::after","box-sizing: border-box;"),window.METRO_MEDIA=[],l.each(p.media_queries,function(m,f){s.utils.media(f)&&window.METRO_MEDIA.push(p.media_mode[m])}),p.observe(),p.initHotkeys(e),p.initWidgets(t,"init"),window.METRO_CLOAK_REMOVE!=="fade"?(l(".m4-cloak").removeClass("m4-cloak"),l(window).fire("metro-initiated")):l(".m4-cloak").animate({draw:{opacity:1},dur:300,onDone:function(){l(".m4-cloak").removeClass("m4-cloak"),l(window).fire("metro-initiated")}})},initHotkeys:function(t,e){l.each(t,function(){var i=l(this),s=!!i.attr("data-hotkey")&&i.attr("data-hotkey").toLowerCase(),m=!!i.attr("data-hotkey-func")&&i.attr("data-hotkey-func");s!==!1&&(i.data("hotKeyBonded")===!0&&e!==!0||(p.hotkeys[s]=[this,m],i.data("hotKeyBonded",!0),i.fire("hot-key-bonded",{__this:i[0],hotkey:s,fn:m})))})},initWidgets:function(t){var e=this;l.each(t,function(){var i=l(this);this.hasAttribute("data-role")&&i.attr("data-role").split(/\s*,\s*/).map(function(s){var m=e.utils.$(),f=a(s);if(m.fn[f]!==void 0&&i.attr("data-role-"+f)===void 0)try{m.fn[f].call(i),i.attr("data-role-"+f,!0);var w=i.data("metroComponent");w===void 0?w=[f]:w.push(f),i.data("metroComponent",w),i.fire("create",{__this:i[0],name:f}),l(document).fire("component-create",{element:i[0],name:f})}catch(x){throw console.error("Error creating component "+s+" for ",i[0]),x}})})},plugin:function(t,e){var i=a(t),s=function(m){m.fn[i]=function(f){return this.each(function(){m.data(this,i,Object.create(e).init(f,this))})}};s(m4q),window.useJQuery&&s(jQuery)},pluginExists:function(t){return typeof(window.useJQuery?jQuery:m4q).fn[a(t)]=="function"},destroyPlugin:function(t,e){var i,s,m=l(t),f=a(e);(i=p.getPlugin(m,f))!==void 0?typeof i.destroy=="function"?(i.destroy(),s=m.data("metroComponent"),this.utils.arrayDelete(s,f),m.data("metroComponent",s),l.removeData(m[0],f),m.removeAttr("data-role-"+f)):console.warn("Component "+e+" can not be destroyed: method destroy not found."):console.warn("Component "+e+" can not be destroyed: the element is not a Metro 4 component.")},destroyPluginAll:function(t){var e=l(t),i=e.data("metroComponent");i!==void 0&&i.length>0&&l.each(i,function(){p.destroyPlugin(e[0],this)})},noop:function(){},noop_true:function(){return!0},noop_false:function(){return!1},requestFullScreen:function(t){t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.msRequestFullscreen?t.msRequestFullscreen():t.requestFullscreen().catch(function(e){console.warn("Error attempting to enable full-screen mode: "+e.message+" "+e.name)})},exitFullScreen:function(){document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():document.exitFullscreen().catch(function(t){console.warn("Error attempting to disable full-screen mode: "+t.message+" "+t.name)})},inFullScreen:function(){return(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)!==void 0},$:function(){return window.useJQuery?jQuery:m4q},get$el:function(t){return p.$()(l(t)[0])},get$elements:function(t){return p.$()(l(t))},getPlugin:function(t,e){var i=a(e),s=p.get$el(t);return s.length?s.data(i):void 0},makePlugin:function(t,e,i){var s=a(e),m=p.get$elements(t);return m.length&&typeof m[s]=="function"?m[s](i):void 0},Component:function(t,e){var i=a(t),s=p.utils,m=l.extend({name:i},{_super:function(f,w,x,I){var T=this;this.elem=f,this.element=l(f),this.options=l.extend({},x,w),this.component=this.elem,this._setOptionsFromDOM(),this._runtime(),I&&typeof I=="object"&&l.each(I,function(A,L){T[A]=L}),this._createExec()},_setOptionsFromDOM:function(){var f=this.element,w=this.options;l.each(f.data(),function(x,I){if(x in w)try{w[x]=JSON.parse(I)}catch{w[x]=I}})},_runtime:function(){var f,w=this.element,x=(w.attr("data-role")||"").toArray(",").map(function(I){return a(I)}).filter(function(I){return I.trim()!==""});w.attr("data-role-"+this.name)||(w.attr("data-role-"+this.name,!0),x.indexOf(this.name)===-1&&(x.push(this.name),w.attr("data-role",x.join(","))),(f=w.data("metroComponent"))===void 0?f=[this.name]:f.push(this.name),w.data("metroComponent",f))},_createExec:function(){var f=this,w=this.options[this.name+"Deferred"];w?setTimeout(function(){f._create()},w):f._create()},_fireEvent:function(f,w,x,I){var T,A=this.element,L=this.options,k=l.camelCase(f).capitalize();return T=(w=l.extend({},w,{__this:A[0]}))?Object.values(w):{},x&&(console.warn(x),console.warn("Event: on"+k),console.warn("Data: ",w),console.warn("Element: ",A[0])),I!==!0&&A.fire(k.toLowerCase(),w),s.exec(L["on"+k],T,A[0])},_fireEvents:function(f,w,x,I){var T,A=this;if(arguments.length!==0)return arguments.length===1?(l.each(f,function(){var L=this;A._fireEvent(L.name,L.data,L.log,L.noFire)}),s.objectLength(f)):void((Array.isArray(f)||typeof f=="string")&&(T=Array.isArray(f)?f:f.toArray(","),l.each(T,function(){A._fireEvent(this,w,x,I)})))},getComponent:function(){return this.component},getComponentName:function(){return this.name}},e);return p.plugin(i,m),m},fetch:{status:function(t){return t.ok?Promise.resolve(t):Promise.reject(new Error(t.statusText))},json:function(t){return t.json()},text:function(t){return t.text()},form:function(t){return t.formData()},blob:function(t){return t.blob()},buffer:function(t){return t.arrayBuffer()}}};l(window).on(p.events.resize,function(){window.METRO_MEDIA=[],l.each(p.media_queries,function(t,e){p.utils.media(e)&&window.METRO_MEDIA.push(p.media_mode[t])})}),window.Metro=p,window.METRO_INIT===!0&&l(function(){p.init()})}(),function(l,r){m4q.extend(l.locales,{"en-US":{calendar:{months:["January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Su","Mo","Tu","We","Th","Fr","Sa","Sun","Mon","Tus","Wen","Thu","Fri","Sat"],time:{days:"DAYS",hours:"HOURS",minutes:"MINS",seconds:"SECS",month:"MON",day:"DAY",year:"YEAR"},weekStart:0},buttons:{ok:"OK",cancel:"Cancel",done:"Done",today:"Today",now:"Now",clear:"Clear",help:"Help",yes:"Yes",no:"No",random:"Random",save:"Save",reset:"Reset"},table:{rowsCount:"Show entries:",search:"Search:",info:"Showing $1 to $2 of $3 entries",prev:"Prev",next:"Next",all:"All",inspector:"Inspector",skip:"Goto page",empty:"Nothing to show"},colorSelector:{addUserColorButton:"ADD TO SWATCHES",userColorsTitle:"USER COLORS"},switch:{on:"on",off:"off"}}})}(Metro),typeof Array.prototype.shuffle!="function"&&(Array.prototype.shuffle=function(){for(var l,r,a=this.length;a!==0;)r=Math.floor(Math.random()*a),l=this[a-=1],this[a]=this[r],this[r]=l;return this}),typeof Array.prototype.clone!="function"&&(Array.prototype.clone=function(){return this.slice(0)}),typeof Array.prototype.unique!="function"&&(Array.prototype.unique=function(){for(var l=this.concat(),r=0;r<l.length;++r)for(var a=r+1;a<l.length;++a)l[r]===l[a]&&l.splice(a--,1);return l}),Number.prototype.format=function(l,r,a,p){var t="\\d(?=(\\d{"+(r||3)+"})+"+(l>0?"\\D":"$")+")",e=this.toFixed(Math.max(0,~~l));return(p?e.replace(".",p):e).replace(new RegExp(t,"g"),"$&"+(a||","))},String.prototype.toArray=function(l,r,a,p){return r=r||"string",a=a!=null&&a,(""+this).split(l=l||",").map(function(t){var e;switch(r){case"int":case"integer":e=isNaN(t)?t.trim():parseInt(t);break;case"number":case"float":e=isNaN(t)?t:parseFloat(t);break;case"date":e=a?Datetime.from(t,a,p||"en-US"):datetime(t);break;default:e=t.trim()}return e})},String.prototype.capitalize=function(){return this.substr(0,1).toUpperCase()+this.substr(1)},function(l,r){l.utils={isVisible:function(a){var p=r(a)[0];return this.getStyleOne(p,"display")!=="none"&&this.getStyleOne(p,"visibility")!=="hidden"&&p.offsetParent!==null},isUrl:function(a){return/^(\.\/|\.\.\/|ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@\-\/]))?/.test(a)},isTag:function(a){return/^<\/?[\w\s="/.':;#-\/\?]+>/gi.test(a)},isEmbedObject:function(a){var p=!1;return r.each(["iframe","object","embed","video"],function(){(typeof a=="string"&&a.toLowerCase()===this||a.nodeType!==void 0&&a.tagName.toLowerCase()===this)&&(p=!0)}),p},isVideoUrl:function(a){return/youtu\.be|youtube|twitch|vimeo/gi.test(a)},isDate:function(a,p,t){var e;if(this.isDateObject(a))return!0;try{return e=p?Datetime.from(a,p,t||"en-US"):datetime(a),Datetime.isDatetime(e)}catch{return!1}},isDateObject:function(a){return typeof a=="object"&&a.getMonth!==void 0},isInt:function(a){return!isNaN(a)&&+a%1==0},isFloat:function(a){return!isNaN(a)&&+a%1!=0||/^\d*\.\d+$/.test(a)},isFunc:function(a){return this.isType(a,"function")},isObject:function(a){return this.isType(a,"object")},isObject2:function(a){return typeof a=="object"&&!Array.isArray(a)},isType:function(a,p){if(!this.isValue(a))return!1;if(typeof a===p||(""+p).toLowerCase()==="tag"&&this.isTag(a)||(""+p).toLowerCase()==="url"&&this.isUrl(a)||(""+p).toLowerCase()==="array"&&Array.isArray(a))return a;if(this.isTag(a)||this.isUrl(a))return!1;if(typeof window[a]===p)return window[a];if(typeof a=="string"&&a.indexOf(".")===-1||typeof a=="string"&&/[/\s([]+/gm.test(a)||typeof a=="number"&&p.toLowerCase()!=="number")return!1;var t,e=a.split("."),i=window;for(t=0;t<e.length;t++)i=i[e[t]];return typeof i===p&&i},$:function(){return window.useJQuery?jQuery:m4q},isMetroObject:function(a,p){var t=r(a),e=l.getPlugin(a,p);return t.length===0?(console.warn(p+" "+a+" not found!"),!1):e!==void 0||(console.warn("Element not contain role "+p+'! Please add attribute data-role="'+p+'" to element '+a),!1)},isJQuery:function(a){return typeof jQuery<"u"&&a instanceof jQuery},isM4Q:function(a){return typeof m4q<"u"&&a instanceof m4q},isQ:function(a){return this.isJQuery(a)||this.isM4Q(a)},embedUrl:function(a){return a.indexOf("youtu.be")!==-1&&(a="https://www.youtube.com/embed/"+a.split("/").pop()),"<div class='embed-container'><iframe src='"+a+"'></iframe></div>"},elementId:function(a){return a+"-"+new Date().getTime()+r.random(1,1e3)},secondsToTime:function(a){return{d:Math.floor(a%31536e3/86400),h:Math.floor(a%31536e3%86400/3600),m:Math.floor(a%31536e3%86400%3600/60),s:Math.round(a%31536e3%86400%3600%60)}},secondsToFormattedString:function(a){var p=parseInt(a,10),t=Math.floor(p/3600),e=Math.floor((p-3600*t)/60),i=p-3600*t-60*e;return[Cake.lpad(t,2,"0"),Cake.lpad(e,2,"0"),Cake.lpad(i,2,"0")].join(":")},func:function(a){return new Function("a",a)},exec:function(a,p,t){var e;if(a==null)return!1;var i=this.isFunc(a);i===!1&&(i=this.func(a));try{e=i.apply(t,p)}catch(s){if(e=null,window.METRO_THROWS===!0)throw s}return e},isOutsider:function(a){var p,t=r(a),e=t.clone();return e.removeAttr("data-role").css({visibility:"hidden",position:"absolute",display:"block"}),t.parent().append(e),p=this.inViewport(e[0]),e.remove(),!p},inViewport:function(a){var p=this.rect(a);return p.top>=0&&p.left>=0&&p.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&p.right<=(window.innerWidth||document.documentElement.clientWidth)},rect:function(a){return a.getBoundingClientRect()},getCursorPosition:function(a,p){var t=this.rect(a);return{x:this.pageXY(p).x-t.left-window.pageXOffset,y:this.pageXY(p).y-t.top-window.pageYOffset}},getCursorPositionX:function(a,p){return this.getCursorPosition(a,p).x},getCursorPositionY:function(a,p){return this.getCursorPosition(a,p).y},objectLength:function(a){return Object.keys(a).length},percent:function(a,p,t){if(a===0)return 0;var e=100*p/a;return t===!0?Math.round(e):Math.round(100*e)/100},objectShift:function(a){var p=0;return r.each(a,function(t){(p===0||p>t)&&(p=t)}),delete a[p],a},objectDelete:function(a,p){a[p]!==void 0&&delete a[p]},arrayDeleteByMultipleKeys:function(a,p){return p.forEach(function(t){delete a[t]}),a.filter(function(t){return t!==void 0})},arrayDelete:function(a,p){var t=a.indexOf(p);t>-1&&a.splice(t,1)},arrayDeleteByKey:function(a,p){a.splice(p,1)},nvl:function(a,p){return a??p},objectClone:function(a){var p={};for(var t in a)r.hasProp(a,t)&&(p[t]=a[t]);return p},github:function(a,p){var t=this;r.json("https://api.github.com/repos/"+a).then(function(e){t.exec(p,[e])})},detectIE:function(){var a=window.navigator.userAgent,p=a.indexOf("MSIE ");if(p>0)return parseInt(a.substring(p+5,a.indexOf(".",p)),10);if(a.indexOf("Trident/")>0){var t=a.indexOf("rv:");return parseInt(a.substring(t+3,a.indexOf(".",t)),10)}var e=a.indexOf("Edge/");return e>0&&parseInt(a.substring(e+5,a.indexOf(".",e)),10)},detectChrome:function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)},pageHeight:function(){var a=document.body,p=document.documentElement;return Math.max(a.scrollHeight,a.offsetHeight,p.clientHeight,p.scrollHeight,p.offsetHeight)},cleanPreCode:function(a){Array.prototype.slice.call(document.querySelectorAll(a),0).forEach(function(p){var t=p.textContent.replace(/^[\r\n]+/,"").replace(/\s+$/g,"");if(/^\S/gm.test(t))p.textContent=t;else{for(var e,i,s,m=/^[\t ]+/gm,f=1e3;e=m.exec(t);)(s=e[0].length)<f&&(f=s,i=e[0]);f!==1e3&&(p.textContent=t.replace(new RegExp("^"+i,"gm"),"").trim())}})},coords:function(a){var p=r(a)[0].getBoundingClientRect();return{top:p.top+window.pageYOffset,left:p.left+window.pageXOffset}},positionXY:function(a,p){switch(p){case"client":return this.clientXY(a);case"screen":return this.screenXY(a);case"page":return this.pageXY(a);default:return{x:0,y:0}}},clientXY:function(a){return{x:a.changedTouches?a.changedTouches[0].clientX:a.clientX,y:a.changedTouches?a.changedTouches[0].clientY:a.clientY}},screenXY:function(a){return{x:a.changedTouches?a.changedTouches[0].screenX:a.screenX,y:a.changedTouches?a.changedTouches[0].screenY:a.screenY}},pageXY:function(a){return{x:a.changedTouches?a.changedTouches[0].pageX:a.pageX,y:a.changedTouches?a.changedTouches[0].pageY:a.pageY}},isRightMouse:function(a){return"which"in a?a.which===3:"button"in a?a.button===2:void 0},hiddenElementSize:function(a,p){var t,e,i=r(a).clone(!0);return i.removeAttr("data-role").css({visibility:"hidden",position:"absolute",display:"block"}),r("body").append(i),this.isValue(p)||(p=!1),t=i.outerWidth(p),e=i.outerHeight(p),i.remove(),{width:t,height:e}},getStyle:function(a,p){var t=r(a)[0];return window.getComputedStyle(t,p)},getStyleOne:function(a,p){return this.getStyle(a).getPropertyValue(p)},getInlineStyles:function(a){var p,t,e={},i=r(a)[0];for(p=0,t=i.style.length;p<t;p++){var s=i.style[p];e[s]=i.style[s]}return e},encodeURI:function(a){return encodeURI(a).replace(/%5B/g,"[").replace(/%5D/g,"]")},updateURIParameter:function(a,p,t){var e=new RegExp("([?&])"+p+"=.*?(&|$)","i"),i=a.indexOf("?")!==-1?"&":"?";return a.match(e)?a.replace(e,"$1"+p+"="+t+"$2"):a+i+p+"="+t},getURIParameter:function(a,p){a||(a=window.location.href),p=p.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[?&]"+p+"(=([^&#]*)|&|#|$)").exec(a);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null},getLocales:function(){return Object.keys(l.locales)},addLocale:function(a){l.locales=r.extend({},l.locales,a)},aspectRatioH:function(a,p){return p==="16/9"?9*a/16:p==="21/9"?9*a/21:p==="4/3"?3*a/4:void 0},aspectRatioW:function(a,p){return p==="16/9"?16*a/9:p==="21/9"?21*a/9:p==="4/3"?4*a/3:void 0},valueInObject:function(a,p){return Object.values(a).indexOf(p)>-1},keyInObject:function(a,p){return Object.keys(a).indexOf(p)>-1},inObject:function(a,p,t){return a[p]!==void 0&&a[p]===t},newCssSheet:function(a){var p=document.createElement("style");return a!==void 0&&p.setAttribute("media",a),p.appendChild(document.createTextNode("")),document.head.appendChild(p),p.sheet},addCssRule:function(a,p,t,e){a.insertRule(p+"{"+t+"}",e)},media:function(a){return window.matchMedia(a).matches},mediaModes:function(){return window.METRO_MEDIA},mediaExist:function(a){return window.METRO_MEDIA.indexOf(a)>-1},inMedia:function(a){return window.METRO_MEDIA.indexOf(a)>-1&&window.METRO_MEDIA.indexOf(a)===window.METRO_MEDIA.length-1},isValue:function(a){return a!=null&&a!==""},isNull:function(a){return a==null},isNegative:function(a){return parseFloat(a)<0},isPositive:function(a){return parseFloat(a)>0},isZero:function(a){return parseFloat(a.toFixed(2))===0},between:function(a,p,t,e){return e===!0?a>=p&&a<=t:a>p&&a<t},parseMoney:function(a){return Number(parseFloat(a.replace(/[^0-9-.]/g,"")))},parseCard:function(a){return a.replace(/[^0-9]/g,"")},parsePhone:function(a){return this.parseCard(a)},parseNumber:function(a,p,t){return a.replace(new RegExp("\\"+p,"g"),"").replace(new RegExp("\\"+t,"g"),".")},nearest:function(a,p,t){return a/=p,a=Math[t===!0?"floor":"ceil"](a)*p},bool:function(a){switch(a){case!0:case"true":case 1:case"1":case"on":case"yes":return!0;default:return!1}},copy:function(a){var p,t,e=document.body,i=r(a)[0];if(document.createRange&&window.getSelection){p=document.createRange(),(t=window.getSelection()).removeAllRanges();try{p.selectNodeContents(i),t.addRange(p)}catch{p.selectNode(i),t.addRange(p)}}else e.createTextRange&&((p=e.createTextRange()).moveToElementText(i),p.select());document.execCommand("Copy"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},decCount:function(a){return a%1==0?0:a.toString().split(".")[1].length}},window.METRO_GLOBAL_COMMON===!0&&(window.Utils=l.utils)}(Metro,m4q),function(l,r){var a="hex",p="rgb",t="rgba",e="hsv",i="hsl",s="hsla",m="cmyk",f="unknown";l.colorsSetup=function(h){w=r.extend({},w,h)},typeof window.metroColorsSetup!==void 0&&l.colorsSetup(window.metroColorsSetup);var w={angle:30,resultType:"hex",results:6,baseLight:"#ffffff",baseDark:"self"};function x(h,b){for(h+=b;h>=360;)h-=360;for(;h<0;)h+=360;return h}function I(h){return Math.min(1,Math.max(0,h))}function T(h,b,C){this.r=h||0,this.g=b||0,this.b=C||0}function A(h,b,C,E){this.r=h||0,this.g=b||0,this.b=C||0,this.a=E===0?0:E||1}function L(h,b,C){this.h=h||0,this.s=b||0,this.v=C||0}function k(h,b,C){this.h=h||0,this.s=b||0,this.l=C||0}function S(h,b,C,E){this.h=h||0,this.s=b||0,this.l=C||0,this.a=E===0?0:E||1}function N(h,b,C,E){this.c=h||0,this.m=b||0,this.y=C||0,this.k=E||0}T.prototype.toString=function(){return"rgb("+[this.r,this.g,this.b].join(", ")+")"},A.prototype.toString=function(){return"rgba("+[this.r,this.g,this.b,parseFloat(this.a).toFixed(2)].join(", ")+")"},L.prototype.toString2=function(){return"hsv("+[this.h,this.s,this.v].join(", ")+")"},L.prototype.toString=function(){return"hsv("+[Math.round(this.h),Math.round(100*this.s)+"%",Math.round(100*this.v)+"%"].join(", ")+")"},k.prototype.toString2=function(){return"hsl("+[this.h,this.s,this.l].join(", ")+")"},k.prototype.toString=function(){return"hsl("+[Math.round(this.h),Math.round(100*this.s)+"%",Math.round(100*this.l)+"%"].join(", ")+")"},S.prototype.toString2=function(){return"hsla("+[this.h,this.s,this.l,this.a].join(", ")+")"},S.prototype.toString=function(){return"hsla("+[Math.round(this.h),Math.round(100*this.s)+"%",Math.round(100*this.l)+"%",parseFloat(this.a).toFixed(2)].join(", ")+")"},N.prototype.toString=function(){return"cmyk("+[this.c,this.m,this.y,this.k].join(", ")+")"};var D={PALETTES:{ALL:"all",METRO:"metro",STANDARD:"standard"},metro:{lime:"#a4c400",green:"#60a917",emerald:"#008a00",blue:"#00AFF0",teal:"#00aba9",cyan:"#1ba1e2",cobalt:"#0050ef",indigo:"#6a00ff",violet:"#aa00ff",pink:"#dc4fad",magenta:"#d80073",crimson:"#a20025",red:"#CE352C",orange:"#fa6800",amber:"#f0a30a",yellow:"#fff000",brown:"#825a2c",olive:"#6d8764",steel:"#647687",mauve:"#76608a",taupe:"#87794e"},standard:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32dc32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdd5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",slyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},all:{},init:function(){return this.all=r.extend({},this.standard,this.metro),this},color:function(h,b){return this[b=b||this.PALETTES.ALL][h]!==void 0&&this[b][h]},palette:function(h){return h=h||this.PALETTES.ALL,Object.keys(this[h])},expandHexColor:function(h){if(typeof h!="string")throw new Error("Value is not a string!");return h[0]==="#"&&h.length===4?"#"+h.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(b,C,E,M){return C+C+E+E+M+M}):h[0]==="#"?h:"#"+h},colors:function(h){return h=h||this.PALETTES.ALL,Object.values(this[h])},random:function(h,b){var C;return h=h||a,b=b!==void 0?b:1,C="#"+((1<<24)+(r.random(0,255)<<16)+(r.random(0,255)<<8)+r.random(0,255)).toString(16).slice(1),h==="hex"?C:this.toColor(C,h,b)},parse:function(h){var b=h.toLowerCase().trim(),C=b.replace(/[^%\d.,]/g,"").split(",").map(function(E){return E.indexOf("%")>-1&&(E=""+parseInt(E)/100),E.indexOf(".")>-1?parseFloat(E):parseInt(E)});return this.metro[b]?this.expandHexColor(this.metro[b]):this.standard[b]?this.expandHexColor(this.standard[b]):b[0]==="#"?this.expandHexColor(b):b.indexOf("rgba")===0&&C.length===4?new A(C[0],C[1],C[2],C[3]):b.indexOf("rgb")===0&&C.length===3?new T(C[0],C[1],C[2]):b.indexOf("cmyk")===0&&C.length===4?new N(C[0],C[1],C[2],C[3]):b.indexOf("hsv")===0&&C.length===3?new L(C[0],C[1],C[2]):b.indexOf("hsla")===0&&C.length===4?new S(C[0],C[1],C[2],C[3]):b.indexOf("hsl")===0&&C.length===3?new k(C[0],C[1],C[2]):void 0},createColor:function(h,b){var C;return h=h||"hex",typeof(b=b||"#000000")=="string"&&(C=this.parse(b)),this.isColor(C)||(C="#000000"),this.toColor(C,h.toLowerCase())},isDark:function(h){if(this.isColor(h)){var b=this.toRGB(h);return(299*b.r+587*b.g+114*b.b)/1e3<128}},isLight:function(h){return!this.isDark(h)},isHSV:function(h){return h instanceof L},isHSL:function(h){return h instanceof k},isHSLA:function(h){return h instanceof S},isRGB:function(h){return h instanceof T},isRGBA:function(h){return h instanceof A},isCMYK:function(h){return h instanceof N},isHEX:function(h){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(h)},isColor:function(h){var b=typeof h=="string"?this.parse(h):h;return!!b&&(this.isHEX(b)||this.isRGB(b)||this.isRGBA(b)||this.isHSV(b)||this.isHSL(b)||this.isHSLA(b)||this.isCMYK(b))},check:function(h,b){var C=this,E=typeof b=="string"?[b]:b,M=!1;if(r.each(E,function(){C["is"+this.toUpperCase()](h)&&(M=!0)}),!M)throw new Error("Value is not a "+b+" color type!")},colorType:function(h){return this.isHEX(h)?a:this.isRGB(h)?p:this.isRGBA(h)?t:this.isHSV(h)?e:this.isHSL(h)?i:this.isHSLA(h)?s:this.isCMYK(h)?m:f},equal:function(h,b){return!(!this.isColor(h)||!this.isColor(b))&&this.toHEX(h)===this.toHEX(b)},colorToString:function(h){return h.toString()},hex2rgb:function(h){if(typeof h!="string")throw new Error("Value is not a string!");var b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.expandHexColor(h)),C=[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)];return b?new T(C[0],C[1],C[2]):null},rgb2hex:function(h){return this.check(h,"rgb"),"#"+((1<<24)+(h.r<<16)+(h.g<<8)+h.b).toString(16).slice(1)},rgb2hsv:function(h){this.check(h,"rgb");var b,C,E,M=new L,R=h.r/255,P=h.g/255,j=h.b/255,q=Math.max(R,P,j),$=Math.min(R,P,j),tt=q-$;return E=q,C=q===0?0:1-$/q,b=q===$?0:q===R&&P>=j?(P-j)/tt*60:q===R&&P<j?(P-j)/tt*60+360:q===P?(j-R)/tt*60+120:q===j?(R-P)/tt*60+240:0,M.h=b,M.s=C,M.v=E,M},hsv2rgb:function(h){var b,C,E;this.check(h,"hsv");var M=h.h,R=100*h.s,P=100*h.v,j=(100-R)*P/100,q=M%60/60*(P-j),$=j+q,tt=P-q;switch(Math.floor(M/60)){case 0:b=P,C=$,E=j;break;case 1:b=tt,C=P,E=j;break;case 2:b=j,C=P,E=$;break;case 3:b=j,C=tt,E=P;break;case 4:b=$,C=j,E=P;break;case 5:b=P,C=j,E=tt}return new T(Math.round(255*b/100),Math.round(255*C/100),Math.round(255*E/100))},hsv2hex:function(h){return this.check(h,"hsv"),this.rgb2hex(this.hsv2rgb(h))},hex2hsv:function(h){return this.check(h,"hex"),this.rgb2hsv(this.hex2rgb(h))},rgb2cmyk:function(h){this.check(h,"rgb");var b=new N,C=h.r/255,E=h.g/255,M=h.b/255;return b.k=Math.min(1-C,1-E,1-M),b.c=1-b.k==0?0:(1-C-b.k)/(1-b.k),b.m=1-b.k==0?0:(1-E-b.k)/(1-b.k),b.y=1-b.k==0?0:(1-M-b.k)/(1-b.k),b.c=Math.round(100*b.c),b.m=Math.round(100*b.m),b.y=Math.round(100*b.y),b.k=Math.round(100*b.k),b},cmyk2rgb:function(h){return this.check(h,"cmyk"),new T(Math.floor(255*(1-h.c/100)*(1-h.k/100)),Math.ceil(255*(1-h.m/100)*(1-h.k/100)),Math.ceil(255*(1-h.y/100)*(1-h.k/100)))},hsv2hsl:function(h){var b,C,E,M;return this.check(h,"hsv"),b=h.h,E=(2-h.s)*h.v,C=h.s*h.v,E===0||(M=E<=1?E:2-E)===0?C=0:C/=M,new k(b,C,E/=2)},hsl2hsv:function(h){var b,C,E,M;return this.check(h,["hsl","hsla"]),b=h.h,E=((M=2*h.l)+(C=h.s*(M<=1?M:2-M)))/2,new L(b,C=M+C===0?0:2*C/(M+C),E)},rgb2websafe:function(h){return this.check(h,"rgb"),new T(51*Math.round(h.r/51),51*Math.round(h.g/51),51*Math.round(h.b/51))},rgba2websafe:function(h){this.check(h,"rgba");var b=this.rgb2websafe(h);return new A(b.r,b.g,b.b,h.a)},hex2websafe:function(h){return this.check(h,"hex"),this.rgb2hex(this.rgb2websafe(this.hex2rgb(h)))},hsv2websafe:function(h){return this.check(h,"hsv"),this.rgb2hsv(this.rgb2websafe(this.toRGB(h)))},hsl2websafe:function(h){return this.check(h,"hsl"),this.hsv2hsl(this.rgb2hsv(this.rgb2websafe(this.toRGB(h))))},cmyk2websafe:function(h){return this.check(h,"cmyk"),this.rgb2cmyk(this.rgb2websafe(this.cmyk2rgb(h)))},websafe:function(h){return this.isHEX(h)?this.hex2websafe(h):this.isRGB(h)?this.rgb2websafe(h):this.isRGBA(h)?this.rgba2websafe(h):this.isHSV(h)?this.hsv2websafe(h):this.isHSL(h)?this.hsl2websafe(h):this.isCMYK(h)?this.cmyk2websafe(h):h},toColor:function(h,b,C){var E;switch(b.toLowerCase()){case"hex":E=this.toHEX(h);break;case"rgb":E=this.toRGB(h);break;case"rgba":E=this.toRGBA(h,C);break;case"hsl":E=this.toHSL(h);break;case"hsla":E=this.toHSLA(h,C);break;case"hsv":E=this.toHSV(h);break;case"cmyk":E=this.toCMYK(h);break;default:E=h}return E},toHEX:function(h){var b=typeof h=="string"?this.parse(h):h;if(!b)throw new Error("Unknown color format!");return typeof b=="string"?b:this.rgb2hex(this.toRGB(b))},toRGB:function(h){var b=typeof h=="string"?this.parse(h):h;if(this.isRGB(b))return b;if(this.isRGBA(b))return new T(b.r,b.g,b.b);if(this.isHSV(b))return this.hsv2rgb(b);if(this.isHSL(b))return this.hsv2rgb(this.hsl2hsv(b));if(this.isHSLA(b))return this.hsv2rgb(this.hsl2hsv(b));if(this.isHEX(b))return this.hex2rgb(b);if(this.isCMYK(b))return this.cmyk2rgb(b);throw new Error("Unknown color format!")},toRGBA:function(h,b){if(this.isRGBA(h))return b&&(h.a=b),h;var C=this.toRGB(h);return new A(C.r,C.g,C.b,b)},toHSV:function(h){return this.rgb2hsv(this.toRGB(h))},toHSL:function(h){return this.hsv2hsl(this.rgb2hsv(this.toRGB(h)))},toHSLA:function(h,b){if(this.isHSLA(h))return b&&(h.a=b),h;var C=this.hsv2hsl(this.rgb2hsv(this.toRGB(h)));return C.a=b,new S(C.h,C.s,C.l,C.a)},toCMYK:function(h){return this.rgb2cmyk(this.toRGB(h))},grayscale:function(h){return this.desaturate(h,100)},lighten:function(h,b){var C,E,M;if(!this.isColor(h))throw new Error(h+" is not a valid color value!");return b=b===0?0:b||10,(C=this.toHSL(h)).l+=b/100,C.l=I(C.l),(E=this.colorType(h).toLowerCase())!==t&&E!==s||(M=h.a),this.toColor(C,E,M)},darken:function(h,b){return this.lighten(h,-b)},spin:function(h,b){var C,E,M,R;if(!this.isColor(h))throw new Error(h+" is not a valid color value!");return R=((C=this.toHSL(h)).h+b)%360,C.h=R<0?360+R:R,(E=this.colorType(h).toLowerCase())!==t&&E!==s||(M=h.a),this.toColor(C,E,M)},brighten:function(h,b){var C,E,M;if(!this.isColor(h))throw new Error(h+" is not a valid color value!");return(C=this.toRGB(h)).r=Math.max(0,Math.min(255,C.r-Math.round(-b/100*255))),C.g=Math.max(0,Math.min(255,C.g-Math.round(-b/100*255))),C.b=Math.max(0,Math.min(255,C.b-Math.round(-b/100*255))),(E=this.colorType(h).toLowerCase())!==t&&E!==s||(M=h.a),this.toColor(C,E,M)},saturate:function(h,b){var C,E,M;if(!this.isColor(h))throw new Error(h+" is not a valid color value!");return(C=this.toHSL(h)).s+=b/100,C.s=I(C.s),(E=this.colorType(h).toLowerCase())!==t&&E!==s||(M=h.a),this.toColor(C,E,M)},desaturate:function(h,b){var C,E,M;if(!this.isColor(h))throw new Error(h+" is not a valid color value!");return(C=this.toHSL(h)).s-=b/100,C.s=I(C.s),(E=this.colorType(h).toLowerCase())!==t&&E!==s||(M=h.a),this.toColor(C,E,M)},hueShift:function(h,b,C,E){var M,R=this.toHSV(h),P=this.colorType(h).toLowerCase(),j=R.h,q=C||0,$=E||0;for(j+=b||0;j>=360;)j-=360;for(;j<0;)j+=360;return R.h=j,R.s+=q,R.s>1&&(R.s=1),R.s<0&&(R.s=0),R.v+=$,R.v>1&&(R.v=1),R.v<0&&(R.v=0),P!==t&&P!==s||(M=h.a),this.toColor(R,P,M)},shade:function(h,b){if(!this.isColor(h))throw new Error(h+" is not a valid color value!");b/=100;var C,E,M,R,P=this.colorType(h).toLowerCase(),j=this.toRGB(h),q=b<0?0:255,$=b<0?-1*b:b;return C=Math.round((q-j.r)*$)+j.r,E=Math.round((q-j.g)*$)+j.g,M=Math.round((q-j.b)*$)+j.b,P!==t&&P!==s||(R=h.a),this.toColor(new T(C,E,M),P,R)},mix:function(h,b,C){C=C===0?0:C||50;var E=new T(0,0,0),M=this.toRGB(h),R=this.toRGB(b),P=C/100;return E.r=Math.round((R.r-M.r)*P+M.r),E.g=Math.round((R.g-M.g)*P+M.g),E.b=Math.round((R.b-M.b)*P+M.b),this.toHEX(E)},multiply:function(h,b){var C=this.toRGB(h),E=this.toRGB(b),M=new T;return C.b=Math.floor(C.b*E.b/255),C.g=Math.floor(C.g*E.g/255),C.r=Math.floor(C.r*E.r/255),this.toHEX(M)},materialPalette:function(h,b){var C=r.extend({},w,b),E=C.baseLight,M=C.baseDark!=="self"&&C.baseDark?C.baseDark:this.multiply(h,h);return{50:this.mix(E,h,10),100:this.mix(E,h,30),200:this.mix(E,h,50),300:this.mix(E,h,70),400:this.mix(E,h,85),500:this.mix(E,h,100),600:this.mix(M,h,92),700:this.mix(M,h,83),800:this.mix(M,h,74),900:this.mix(M,h,65),A100:this.lighten(this.saturate(this.mix(M,h,15),80),65),A200:this.lighten(this.saturate(this.mix(M,h,15),80),55),A400:this.lighten(this.saturate(this.mix(E,h,100),55),10),A700:this.lighten(this.saturate(this.mix(M,h,83),65),10)}},monochromatic:function(h,b){for(var C=r.extend({},w,b),E=C.resultType,M=C.results,R=this.toHSV(h),P=R.h,j=R.s,q=R.v,$=[],tt=1/M,at=this;M--;)$.push(new L(P,j,q)),q=(q+tt)%1;return $.map(function(nt){return at["to"+E.toUpperCase()](nt)})},complementary:function(h,b){var C=r.extend({},w,b),E=this.toHSL(h),M=this,R=C.resultType;return[E,new k(x(E.h,180),E.s,E.l)].map(function(P){return M["to"+R.toUpperCase()](P)})},splitComplementary:function(h,b){var C=r.extend({},w,b),E=this.toHSL(h),M=E.h,R=this,P=C.resultType,j=C.angle;return[E,new k(x(M,180-j),E.s,E.l),new k(x(M,180+j),E.s,E.l)].map(function(q){return R["to"+P.toUpperCase()](q)})},doubleComplementary:function(h,b){var C=r.extend({},w,b),E=C.resultType,M=C.angle,R=this.toHSL(h),P=R.h,j=this;return[R,new k(x(P,180),R.s,R.l),new k(x(P,M),R.s,R.l),new k(x(P,180+M),R.s,R.l)].map(function(q){return j["to"+E.toUpperCase()](q)})},square:function(h,b){var C,E=r.extend({},w,b).resultType,M=[],R=this.toHSL(h),P=R.h,j=this;for(M.push(R),C=1;C<4;C++)P=x(P,90),M.push(new k(P,R.s,R.l));return M.map(function(q){return j["to"+E.toUpperCase()](q)})},tetradic:function(h,b){var C=r.extend({},w,b),E=C.resultType,M=C.angle,R=this.toHSL(h),P=R.h,j=this;return[R,new k(x(P,180),R.s,R.l),new k(x(P,180-M),R.s,R.l),new k(x(P,-M),R.s,R.l)].map(function(q){return j["to"+E.toUpperCase()](q)})},triadic:function(h,b){var C=r.extend({},w,b).resultType,E=this.toHSL(h),M=E.h,R=this;return[E,new k(x(M,120),E.s,E.l),new k(x(M,240),E.s,E.l)].map(function(P){return R["to"+C.toUpperCase()](P)})},analogous:function(h,b){var C=r.extend({},w,b),E=C.resultType,M=C.angle,R=this.toHSL(h),P=this;return[R,new k(x(R.h,-M),R.s,R.l),new k(x(R.h,+M),R.s,R.l)].map(function(j){return P["to"+E.toUpperCase()](j)})},createScheme:function(h,b,C){switch(b.toLowerCase()){case"analogous":case"analog":return this.analogous(h,C);case"triadic":case"triad":return this.triadic(h,C);case"tetradic":case"tetra":return this.tetradic(h,C);case"monochromatic":case"mono":return this.monochromatic(h,C);case"complementary":case"complement":case"comp":return this.complementary(h,C);case"double-complementary":case"double-complement":case"double":return this.doubleComplementary(h,C);case"split-complementary":case"split-complement":case"split":return this.splitComplementary(h,C);case"square":return this.square(h,C);case"material":return this.materialPalette(h,C)}},getScheme:function(){return this.createScheme.apply(this,arguments)},add:function(h,b,C){var E=typeof h=="string"?this.parse(h):h,M=typeof b=="string"?this.parse(b):b,R=this.toRGBA(E),P=this.toRGBA(M),j=new A,q=(""+C).toLowerCase()||"hex";return j.r=Math.round((R.r+P.r)/2),j.g=Math.round((R.g+P.g)/2),j.b=Math.round((R.b+P.b)/2),j.a=Math.round((R.a+P.a)/2),this["to"+q.toUpperCase()](j)}},u=function(h,b){this._setValue(h),this._setOptions(b)};u.prototype={_setValue:function(h){var b;b=typeof h=="string"?D.parse(h):h,D.isColor(b)||(b="#000000"),this._value=b,this._type=D.colorType(this._value)},_setOptions:function(h){h=typeof h=="object"?h:{},this._options=r.extend({},w,h)},getOptions:function(){return this._options},setOptions:function(h){this._setOptions(h)},setValue:function(h){this._setValue(h)},getValue:function(){return this._value},channel:function(h,b){var C=this._type.toUpperCase();return["red","green","blue"].indexOf(h)>-1&&(this.toRGB(),this._value[h[0]]=b,this["to"+C]()),h==="alpha"&&this._value.a&&(this._value.a=b),["hue","saturation","value"].indexOf(h)>-1&&(this.toHSV(),this._value[h[0]]=b,this["to"+C]()),["lightness"].indexOf(h)>-1&&(this.toHSL(),this._value[h[0]]=b,this["to"+C]()),["cyan","magenta","yellow","black"].indexOf(h)>-1&&(this.toCMYK(),this._value[h[0]]=b,this["to"+C]()),this},channels:function(h){var b=this;return r.each(h,function(C,E){b.channel(C,E)}),this},toRGB:function(){return this._value=D.toRGB(this._value),this._type=p,this},rgb:function(){return this._value?new u(D.toRGB(this._value)):void 0},toRGBA:function(h){return D.isRGBA(this._value)?h&&(this._value=D.toRGBA(this._value,h)):this._value=D.toRGBA(this._value,h),this._type=t,this},rgba:function(h){return this._value?new u(D.toRGBA(this._value,h)):void 0},toHEX:function(){return this._value=D.toHEX(this._value),this._type=a,this},hex:function(){return this._value?new u(D.toHEX(this._value)):void 0},toHSV:function(){return this._value=D.toHSV(this._value),this._type=e,this},hsv:function(){return this._value?new u(D.toHSV(this._value)):void 0},toHSL:function(){return this._value=D.toHSL(this._value),this._type=i,this},hsl:function(){return this._value?new u(D.toHSL(this._value)):void 0},toHSLA:function(h){return D.isHSLA(this._value)?h&&(this._value=D.toHSLA(this._value,h)):this._value=D.toHSLA(this._value,h),this._type=s,this},hsla:function(h){return this._value?new u(D.toHSLA(this._value,h)):void 0},toCMYK:function(){return this._value=D.toCMYK(this._value),this._type=m,this},cmyk:function(){return this._value?new u(D.toCMYK(this._value)):void 0},toWebsafe:function(){return this._value=D.websafe(this._value),this._type=D.colorType(this._value),this},websafe:function(){return this._value?new u(D.websafe(this._value)):void 0},toString:function(){return this._value?D.colorToString(this._value):"undefined"},toDarken:function(h){return this._value=D.darken(this._value,h),this},darken:function(h){return new u(D.darken(this._value,h))},toLighten:function(h){return this._value=D.lighten(this._value,h),this},lighten:function(h){return new u(D.lighten(this._value,h))},isDark:function(){return this._value?D.isDark(this._value):void 0},isLight:function(){return this._value?D.isLight(this._value):void 0},toHueShift:function(h,b,C){return this._value=D.hueShift(this._value,h,b,C),this},hueShift:function(h,b,C){return new u(D.hueShift(this._value,h,b,C))},toGrayscale:function(){return this._value=D.grayscale(this._value,this._type),this},grayscale:function(){return new u(D.grayscale(this._value,this._type))},type:function(){return D.colorType(this._value)},createScheme:function(h,b,C){return this._value?D.createScheme(this._value,h,b,C):void 0},getScheme:function(){return this.createScheme.apply(this,arguments)},equal:function(h){return D.equal(this._value,h)},toAdd:function(h){return this._value=D.add(this._value,h,this._type),this},add:function(h){return new u(D.add(this._value,h,this._type))}},l.colors=D.init(),window.Color=l.Color=u,window.ColorPrimitive=l.colorPrimitive={RGB:T,RGBA:A,HSV:L,HSL:k,HSLA:S,CMYK:N},window.METRO_GLOBAL_COMMON===!0&&(window.Colors=l.colors)}(Metro,m4q),function(l,r){var a=l.utils,p={accordionDeferred:0,showMarker:!0,material:!1,duration:METRO_ANIMATION_DURATION,oneFrame:!0,showActive:!0,activeFrameClass:"",activeHeadingClass:"",activeContentClass:"",clsFrame:"",clsHeading:"",clsContent:"",clsAccordion:"",clsActiveFrame:"",clsActiveFrameHeading:"",clsActiveFrameContent:"",onFrameOpen:l.noop,onFrameBeforeOpen:l.noop_true,onFrameClose:l.noop,onFrameBeforeClose:l.noop_true,onAccordionCreate:l.noop};l.accordionSetup=function(t){p=r.extend({},p,t)},typeof window.metroAccordionSetup!==void 0&&l.accordionSetup(window.metroAccordionSetup),l.Component("accordion",{init:function(t,e){return this._super(e,t,p),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("accordionCreate",{element:t})},_createStructure:function(){var t,e=this,i=this.element,s=this.options,m=i.children(".frame"),f=i.children(".frame.active");i.addClass("accordion").addClass(s.clsAccordion),m.addClass(s.clsFrame).each(function(){var w=r(this);w.children(".heading").addClass(s.clsHeading),w.children(".content").addClass(s.clsContent)}),s.showMarker===!0&&i.addClass("marker-on"),s.material===!0&&i.addClass("material"),t=f.length===0?m[0]:f[0],this._hideAll(),s.showActive===!0&&(s.oneFrame===!0?this._openFrame(t):r.each(f,function(){e._openFrame(this)}))},_createEvents:function(){var t=this,e=this.element,i=this.options,s=e.children(".frame.active");e.on(l.events.click,".heading",function(){var m=r(this),f=m.parent();if(m.closest(".accordion")[0]!==e[0])return!1;f.hasClass("active")?s.length===1&&i.oneFrame||t._closeFrame(f):t._openFrame(f)})},_openFrame:function(t){var e=this.element,i=this.options,s=r(t);if(a.exec(i.onFrameBeforeOpen,[s[0]],e[0])===!1)return!1;i.oneFrame===!0&&this._closeAll(s[0]),s.addClass("active "+i.activeFrameClass).addClass(i.clsActiveFrame),s.children(".heading").addClass(i.activeHeadingClass).addClass(i.clsActiveFrameHeading),s.children(".content").addClass(i.activeContentClass).addClass(i.clsActiveFrameContent).slideDown(i.duration),this._fireEvent("frameOpen",{frame:s[0]})},_closeFrame:function(t){var e=this.element,i=this.options,s=r(t);s.hasClass("active")&&a.exec(i.onFrameBeforeClose,[s[0]],e[0])!==!1&&(s.removeClass("active "+i.activeFrameClass).removeClass(i.clsActiveFrame),s.children(".heading").removeClass(i.activeHeadingClass).removeClass(i.clsActiveFrameHeading),s.children(".content").removeClass(i.activeContentClass).removeClass(i.clsActiveFrameContent).slideUp(i.duration),this._fireEvent("frameClose",{frame:s[0]}))},_closeAll:function(t){var e=this,i=this.element.children(".frame");r.each(i,function(){t!==this&&e._closeFrame(this)})},_hideAll:function(){var t=this.element.children(".frame");r.each(t,function(){r(this).children(".content").hide()})},_openAll:function(){var t=this,e=this.element.children(".frame");r.each(e,function(){t._openFrame(this)})},open:function(t){var e=this.element.children(".frame").eq(t);this._openFrame(e)},changeAttribute:function(t,e){},destroy:function(){var t=this.element;return t.off(l.events.click,".heading"),t}})}(Metro,m4q),function(l,r){var a=l.utils,p={appbarDeferred:0,expand:!1,expandPoint:null,duration:100,onMenuOpen:l.noop,onMenuClose:l.noop,onBeforeMenuOpen:l.noop,onBeforeMenuClose:l.noop,onMenuCollapse:l.noop,onMenuExpand:l.noop,onAppBarCreate:l.noop};l.appBarSetup=function(t){p=r.extend({},p,t)},typeof window.metroAppBarSetup!==void 0&&l.appBarSetup(window.metroAppBarSetup),l.Component("app-bar",{init:function(t,e){return this._super(e,t,p,{id:a.elementId("app-bar")}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("app-bar-create",{element:t})},_createStructure:function(){var t,e,i=this.element,s=this.options,m=a.getStyleOne(i,"background-color");if(i.addClass("app-bar"),(t=i.find(".hamburger")).length===0){t=r("<button>").attr("type","button").addClass("hamburger menu-down");for(var f=0;f<3;f++)r("<span>").addClass("line").appendTo(t);m!=="rgba(0, 0, 0, 0)"&&l.colors.isLight(m)!==!0||t.addClass("dark")}i.prepend(t),(e=i.find(".app-bar-menu")).length===0?t.css("display","none"):a.addCssRule(l.sheet,".app-bar-menu li","list-style: none!important;"),t.css("display")==="block"?(e.hide().addClass("collapsed"),t.removeClass("hidden")):t.addClass("hidden"),(s.expand===!0||a.isValue(s.expandPoint)&&a.mediaExist(s.expandPoint))&&(i.addClass("app-bar-expand"),t.addClass("hidden"))},_createEvents:function(){var t=this,e=this.element,i=this.options,s=e.find(".app-bar-menu"),m=e.find(".hamburger");e.on(l.events.click,".hamburger",function(){s.length!==0&&(s.hasClass("collapsed")?t.open():t.close())}),r(window).on(l.events.resize,function(){i.expand!==!0&&(a.isValue(i.expandPoint)&&a.mediaExist(i.expandPoint)?(e.addClass("app-bar-expand"),t._fireEvent("menu-expand")):(e.removeClass("app-bar-expand"),t._fireEvent("menu-collapse"))),s.length!==0&&(m.css("display")!=="block"?(s.show(function(){r(this).removeStyleProperty("display")}),m.addClass("hidden")):(m.removeClass("hidden"),m.hasClass("active")?s.show().removeClass("collapsed"):s.hide().addClass("collapsed")))},{ns:this.id})},close:function(){var t=this,e=this.element,i=this.options,s=e.find(".app-bar-menu"),m=e.find(".hamburger");t._fireEvent("before-menu-close",{menu:s[0]}),s.slideUp(i.duration,function(){s.addClass("collapsed").removeClass("opened"),m.removeClass("active"),t._fireEvent("menu-close",{menu:s[0]})})},open:function(){var t=this,e=this.element,i=this.options,s=e.find(".app-bar-menu"),m=e.find(".hamburger");t._fireEvent("before-menu-open",{menu:s[0]}),s.slideDown(i.duration,function(){s.removeClass("collapsed").addClass("opened"),m.addClass("active"),t._fireEvent("menu-open",{menu:s[0]})})},changeAttribute:function(t){},destroy:function(){var t=this.element;return t.off(l.events.click,".hamburger"),r(window).off(l.events.resize,{ns:this.id}),t}})}(Metro,m4q),function(l,r){var a=l.utils,p={dropdownDeferred:0,dropFilter:null,toggleElement:null,noClose:!1,duration:50,checkDropUp:!1,dropUp:!1,onDrop:l.noop,onUp:l.noop,onDropdownCreate:l.noop};l.dropdownSetup=function(t){p=r.extend({},p,t)},typeof window.metroDropdownSetup!==void 0&&l.dropdownSetup(window.metroDropdownSetup),l.Component("dropdown",{init:function(t,e){return this._super(e,t,p,{_toggle:null,displayOrigin:null,isOpen:!1}),this},_create:function(){var t=this,e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("dropdown-create",{element:e}),e.hasClass("open")&&(e.removeClass("open"),setTimeout(function(){t.open(!0)},0))},_createStructure:function(){var t,e=this.element,i=this.options;i.dropUp&&e.addClass("drop-up"),t=i.toggleElement!==null?r(i.toggleElement):e.siblings(".dropdown-toggle").length>0?e.siblings(".dropdown-toggle"):e.prev(),this.displayOrigin=a.getStyleOne(e,"display"),e.hasClass("v-menu")&&e.addClass("for-dropdown"),e.css("display","none"),this._toggle=t},_createEvents:function(){var t=this,e=this.element,i=this.options,s=this._toggle,m=e.parent();s.on(l.events.click,function(f){if(m.siblings(m[0].tagName).removeClass("active-container"),r(".active-container").removeClass("active-container"),e.css("display")==="none"||e.hasClass("keep-open")){if(r("[data-role*=dropdown]").each(function(x,I){e.parents("[data-role*=dropdown]").is(I)||r(I).hasClass("keep-open")||r(I).css("display")==="none"||(a.isValue(i.dropFilter)?r(I).closest(i.dropFilter).length>0&&t._close(I):t._close(I))}),e.hasClass("horizontal")){e.css({visibility:"hidden",display:"block"});var w=0;r.each(e.children("li"),function(){w+=r(this).outerWidth(!0)}),e.css({visibility:"visible",display:"none"}),e.css("width",w)}t._open(e),m.addClass("active-container")}else t._close(e);f.preventDefault(),f.stopPropagation()}),i.noClose===!0&&e.addClass("keep-open").on(l.events.click,function(f){f.stopPropagation()}),r(e).find("li.disabled a").on(l.events.click,function(f){f.preventDefault()})},_close:function(t,e){t=r(t);var i=l.getPlugin(t,"dropdown"),s=i._toggle,m=i.options,f="slideUp";s.removeClass("active-toggle").removeClass("active-control"),i.element.parent().removeClass("active-container"),e&&(f="hide"),t[f](e?0:m.duration,function(){i._fireEvent("close"),i._fireEvent("up"),!m.dropUp&&m.checkDropUp&&i.element.removeClass("drop-up")}),this.isOpen=!1},_open:function(t,e){t=r(t);var i=l.getPlugin(t,"dropdown"),s=i._toggle,m=i.options;s.addClass("active-toggle").addClass("active-control"),t.slideDown(e?0:m.duration,function(){!m.dropUp&&m.checkDropUp&&(a.inViewport(i.element[0])||(i.element.addClass("drop-up"),a.inViewport(i.element[0])||i.element.removeClass("drop-up"))),i._fireEvent("open"),i._fireEvent("drop")}),this.isOpen=!0},close:function(t){this._close(this.element,t)},open:function(t){this._open(this.element,t)},toggle:function(){this.isOpen?this.close():this.open()},changeAttribute:function(){},destroy:function(){this._toggle.off(l.events.click)}}),r(document).on(l.events.click,function(){r("[data-role*=dropdown]").each(function(){var t=r(this);t.css("display")==="none"||t.hasClass("keep-open")||t.hasClass("stay-open")||t.hasClass("ignore-document-click")||l.getPlugin(t,"dropdown").close()})})}(Metro,m4q),function(l,r){var a={loop:!0,source:"img",iconClose:"<span class='default-icon-cross'>",iconPrev:"<span class='default-icon-chevron-left'>",iconNext:"<span class='default-icon-chevron-right'>",clsNext:"",clsPrev:"",clsClose:"",clsImage:"",clsImageContainer:"",clsImageWrapper:"",clsLightbox:"",onDrawImage:l.noop,onLightboxCreate:l.noop};l.lightboxSetup=function(p){a=r.extend({},a,p)},typeof window.metroLightboxSetup!==void 0&&l.lightboxSetup(window.metroLightboxSetup),l.Component("lightbox",{init:function(p,t){return this._super(t,p,a,{overlay:null,lightbox:null,current:null,items:[]}),this},_create:function(){var p=this.options;p.source||(p.source="img"),this._createStructure(),this._createEvents(),this._fireEvent("lightbox-create")},_createStructure:function(){var p,t,e=this.options;(t=r(".lightbox-overlay")).length===0&&(t=r("<div>").addClass("lightbox-overlay").appendTo("body").hide()),p=r("<div>").addClass("lightbox").addClass(e.clsLightbox).appendTo("body").hide(),r("<span>").addClass("lightbox__prev").addClass(e.clsPrev).html(e.iconPrev).appendTo(p),r("<span>").addClass("lightbox__next").addClass(e.clsNext).html(e.iconNext).appendTo(p),r("<span>").addClass("lightbox__closer").addClass(e.clsClose).html(e.iconClose).appendTo(p),r("<div>").addClass("lightbox__image").addClass(e.clsImageContainer).appendTo(p),this.component=p[0],this.lightbox=p,this.overlay=t},_createEvents:function(){var p=this,t=this.element,e=this.options,i=r(this.component);t.on(l.events.click,e.source,function(){p.open(this)}),i.on(l.events.click,".lightbox__closer",function(){p.close()}),i.on(l.events.click,".lightbox__prev",function(){p.prev()}),i.on(l.events.click,".lightbox__next",function(){p.next()})},_setupItems:function(){var p=this.element,t=this.options,e=p.find(t.source);e.length!==0&&(this.items=e)},_goto:function(p){var t,e,i,s,m=this,f=this.options,w=r(p),x=r("<img>");(e=this.lightbox.find(".lightbox__image")).find(".lightbox__image-wrapper").remove(),i=r("<div>").addClass("lightbox__image-wrapper").addClass(f.clsImageWrapper).attr("data-title",w.attr("alt")||w.attr("data-title")||"").appendTo(e),s=r("<div>").appendTo(i),l.makePlugin(s,"activity",{type:"cycle",style:"color"}),this.current=p,p.tagName!=="IMG"&&p.tagName!=="DIV"||(t=w.attr("data-original")||w.attr("src"),x.attr("src",t),x[0].onload=function(){var I=this.height>this.width;x.addClass(I?"lightbox__image-portrait":"lightbox__image-landscape").addClass(f.clsImage),x.attr("alt",w.attr("alt")),x.appendTo(i),s.remove(),m._fireEvent("draw-image",{image:x[0],item:i[0]})})},_index:function(p){var t=-1;return this.items.each(function(e){this===p&&(t=e)}),t},next:function(){var p,t=this.current;if((p=this._index(t))+1>=this.items.length){if(!this.options.loop)return;p=-1}this._goto(this.items[p+1])},prev:function(){var p,t=this.current;if((p=this._index(t))-1<0){if(!this.options.loop)return;p=this.items.length}this._goto(this.items[p-1])},open:function(p){return this._setupItems(),this._goto(p),this.overlay.show(),this.lightbox.show(),this},close:function(){this.overlay.hide(),this.lightbox.hide()},changeAttribute:function(){},destroy:function(){this.element.remove()}})}(Metro,m4q),function(l,r){var a=l.utils,p={tabsDeferred:0,expand:!1,expandPoint:null,tabsPosition:"top",tabsType:"default",updateUri:!1,clsTabs:"",clsTabsList:"",clsTabsListItem:"",clsTabsListItemActive:"",onTab:l.noop,onTabOpen:l.noop,onTabClose:l.noop,onBeforeTab:l.noop_true,onTabsCreate:l.noop};l.tabsSetup=function(t){p=r.extend({},p,t)},typeof window.metroTabsSetup!==void 0&&l.tabsSetup(window.metroTabsSetup),l.Component("tabs",{init:function(t,e){return this._super(e,t,p,{_targets:[],id:a.elementId("tabs")}),this},_create:function(){var t=this.element;this.options;var e=t.find(".active").length>0?r(t.find(".active")[0]):void 0;this._createStructure(),this._createEvents(),this._open(e),this._fireEvent("tabs-create",{element:t})},_createStructure:function(){var t,e,i=this.element,s=this.options,m=i.parent(),f=m.hasClass("tabs"),w=f?m:r("<div>").addClass("tabs tabs-wrapper");if(w.addClass(s.tabsPosition.replace(["-","_","+"]," ")),i.addClass("tabs-list"),s.tabsType!=="default"&&i.addClass("tabs-"+s.tabsType),f||(w.insertBefore(i),i.appendTo(w)),i.data("expanded",!1),t=r("<div>").addClass("expand-title"),w.prepend(t),(e=w.find(".hamburger")).length===0){e=r("<button>").attr("type","button").addClass("hamburger menu-down").appendTo(w);for(var x=0;x<3;x++)r("<span>").addClass("line").appendTo(e);l.colors.isLight(a.getStyleOne(w,"background-color"))===!0&&e.addClass("dark")}w.addClass(s.clsTabs),i.addClass(s.clsTabsList),i.children("li").addClass(s.clsTabsListItem),s.expand!==!0||s.tabsPosition.includes("vertical")?a.isValue(s.expandPoint)&&a.mediaExist(s.expandPoint)&&!s.tabsPosition.includes("vertical")&&w.addClass("tabs-expand"):w.addClass("tabs-expand"),s.tabsPosition.includes("vertical")&&w.addClass("tabs-expand")},_createEvents:function(){var t=this,e=this.element,i=this.options,s=e.parent();r(window).on(l.events.resize,function(){i.tabsPosition.includes("vertical")||(i.expand!==!0||i.tabsPosition.includes("vertical")?a.isValue(i.expandPoint)&&a.mediaExist(i.expandPoint)&&!i.tabsPosition.includes("vertical")?s.hasClass("tabs-expand")||s.addClass("tabs-expand"):s.hasClass("tabs-expand")&&s.removeClass("tabs-expand"):s.addClass("tabs-expand"))},{ns:this.id}),s.on(l.events.click,".hamburger, .expand-title",function(){e.data("expanded")===!1?(e.addClass("expand"),e.data("expanded",!0),s.find(".hamburger").addClass("active")):(e.removeClass("expand"),e.data("expanded",!1),s.find(".hamburger").removeClass("active"))}),e.on(l.events.click,"a",function(m){var f=r(this),w=f.attr("href").trim(),x=f.parent("li");if(t._fireEvent("tab",{tab:x[0],target:x.children("a").attr("href")}),x.hasClass("active")&&m.preventDefault(),e.data("expanded")===!0&&(e.removeClass("expand"),e.data("expanded",!1),s.find(".hamburger").removeClass("active")),a.exec(i.onBeforeTab,[x,e],x[0])!==!0)return!1;a.isValue(w)&&w[0]==="#"&&(t._open(x),m.preventDefault())}),r(window).on("hashchange",function(m){var f,w;i.updateUri&&(f=window.location.hash,w=t._findTabByTarget(f),t._open(r(w)))})},_findTabByTarget:function(t){var e=this.element.find("li"),i=void 0;return e.each(function(s,m){i||r(m).children("a").attr("href")!==t||(i=m)}),i},_collectTargets:function(){var t=this,e=this.element.find("li");this._targets=[],r.each(e,function(){var i=r(this).find("a").attr("href").trim();i.length>1&&i[0]==="#"&&t._targets.push(i)})},_open:function(t){var e=this.element,i=this.options,s=e.find("li"),m=e.siblings(".expand-title"),f=e.find("li.active");if(s.length!==0){this._collectTargets(),t===void 0&&(t=r(s[0]));var w=t.find("a").attr("href");w!==void 0&&(s.removeClass("active").removeClass(i.clsTabsListItemActive),t.parent().hasClass("d-menu")?t.parent().parent().addClass("active"):t.addClass("active"),r.each(this._targets,function(){var x=r(this);x.length>0&&x.hide()}),w!=="#"&&w[0]==="#"&&(i.updateUri&&(window.location.hash=w),r(w).show()),m.html(t.find("a").html()),t.addClass(i.clsTabsListItemActive),f.is(t)||(this._fireEvent("tab-open",{tab:t[0],target:t.children("a").attr("href")}),this._fireEvent("tab-close",{tab:f[0],target:f.children("a").attr("href")})))}},next:function(){var t;(t=this.element.find("li.active").next("li")).length>0&&this._open(t)},prev:function(){var t;(t=this.element.find("li.active").prev("li")).length>0&&this._open(t)},openByTarget:function(t){var e=this._findTabByTarget(t);e&&this._open(r(e))},open:function(t){var e=this.element.find("li");a.isValue(t)||(t=1),a.isInt(t)?a.isValue(e[t-1])&&this._open(r(e[t-1])):this._open(r(t))},changeAttribute:function(){},destroy:function(){var t=this.element,e=t.parent();return r(window).off(l.events.resize,{ns:this.id}),e.off(l.events.click,".hamburger, .expand-title"),t.off(l.events.click,"a"),t}})}(Metro,m4q),function(l,r){var a=l.utils,p={useCurrentSlice:!1,showInspectorButton:!1,inspectorButtonIcon:"<span class='default-icon-equalizer'>",tableDeferred:0,templateBeginToken:"<%",templateEndToken:"%>",paginationDistance:5,locale:METRO_LOCALE,horizontalScroll:!1,horizontalScrollStop:null,check:!1,checkType:"checkbox",checkStyle:1,checkColIndex:0,checkName:null,checkStoreKey:"TABLE:$1:KEYS",rownum:!1,rownumTitle:"#",filters:null,filtersOperator:"and",head:null,body:null,static:!1,source:null,searchMinLength:1,searchThreshold:500,searchFields:null,showRowsSteps:!0,showSearch:!0,showTableInfo:!0,showPagination:!0,paginationShortMode:!0,showActivity:!0,muteTable:!0,showSkip:!1,rows:10,rowsSteps:"10,25,50,100",staticView:!1,viewSaveMode:"client",viewSavePath:"TABLE:$1:OPTIONS",sortDir:"asc",decimalSeparator:".",thousandSeparator:",",tableRowsCountTitle:null,tableSearchTitle:null,tableSearchPlaceholder:"",tableInfoTitle:null,paginationPrevTitle:null,paginationNextTitle:null,allRecordsTitle:null,inspectorTitle:null,tableSkipTitle:null,emptyTableTitle:null,activityType:"atom",activityStyle:"color",activityTimeout:100,searchWrapper:null,rowsWrapper:null,infoWrapper:null,paginationWrapper:null,skipWrapper:null,cellWrapper:!0,clsComponent:"",clsTableContainer:"",clsTable:"",clsHead:"",clsHeadRow:"",clsHeadCell:"",clsBody:"",clsBodyRow:"",clsBodyCell:"",clsCellWrapper:"",clsFooter:"",clsFooterRow:"",clsFooterCell:"",clsTableTop:"",clsRowsCount:"",clsSearch:"",clsTableBottom:"",clsTableInfo:"",clsTablePagination:"",clsPagination:"",clsTableSkip:"",clsTableSkipInput:"",clsTableSkipButton:"",clsEvenRow:"",clsOddRow:"",clsRow:"",clsEmptyTableTitle:"",onDraw:l.noop,onDrawRow:l.noop,onDrawCell:l.noop,onAppendRow:l.noop,onAppendCell:l.noop,onSortStart:l.noop,onSortStop:l.noop,onSortItemSwitch:l.noop,onSearch:l.noop,onRowsCountChange:l.noop,onDataLoad:l.noop,onDataLoadError:l.noop,onDataLoaded:l.noop,onDataLoadEnd:l.noop,onDataSaveError:l.noop,onFilterRowAccepted:l.noop,onFilterRowDeclined:l.noop,onCheckClick:l.noop,onCheckClickAll:l.noop,onCheckDraw:l.noop,onViewSave:l.noop,onViewGet:l.noop,onViewCreated:l.noop,onTableCreate:l.noop,onSkip:l.noop};l.tableSetup=function(t){p=r.extend({},p,t)},typeof window.metroTableSetup!==void 0&&l.tableSetup(window.metroTableSetup),l.Component("table",{init:function(t,e){return this._super(e,t,p,{currentPage:1,pagesCount:1,searchString:"",data:null,activity:null,loadActivity:null,busy:!1,filters:[],wrapperInfo:null,wrapperSearch:null,wrapperRows:null,wrapperPagination:null,wrapperSkip:null,filterIndex:null,filtersIndexes:[],component:null,inspector:null,view:{},viewDefault:{},locale:l.locales["en-US"],input_interval:null,searchFields:[],id:a.elementId("table"),sort:{dir:"asc",colIndex:0},service:[],heads:[],items:[],foots:[],filteredItems:[],currentSlice:[],index:{}}),this},_create:function(){var t,e,i,s=this,m=this.element,f=this.options,w=a.elementId("table");if(a.isValue(m.attr("id"))||m.attr("id",w),a.isValue(l.locales[f.locale])&&(this.locale=l.locales[f.locale]),a.isValue(f.searchFields)&&(this.searchFields=f.searchFields.toArray()),a.isValue(f.head)){var x=f.head;f.head=a.isObject(f.head),f.head||(console.warn("Head "+x+" defined but not exists!"),f.head=null)}if(a.isValue(f.body)){var I=f.body;f.body=a.isObject(f.body),f.body||(console.warn("Body "+I+" defined but not exists!"),f.body=null)}if(f.static===!0&&(f.showPagination=!1,f.showRowsSteps=!1,f.showSearch=!1,f.showTableInfo=!1,f.showSkip=!1,f.rows=-1),(t=r("<div>").addClass("table-component")).insertBefore(m),e=r("<div>").addClass("table-container").addClass(f.clsTableContainer).appendTo(t),m.appendTo(e),f.horizontalScroll===!0&&e.addClass("horizontal-scroll"),!a.isNull(f.horizontalScrollStop)&&a.mediaExist(f.horizontalScrollStop)&&e.removeClass("horizontal-scroll"),t.addClass(f.clsComponent),this.activity=r("<div>").addClass("table-progress").appendTo(t),i=r("<div>").appendTo(this.activity),l.makePlugin(i,"activity",{type:f.activityType,style:f.activityStyle}),f.showActivity!==!0&&this.activity.css({visibility:"hidden"}),this.component=t[0],f.source!==null){this._fireEvent("data-load",{source:f.source});var T=a.isObject(f.source);T!==!1&&r.isPlainObject(T)?s._build(T):this.activity.show(function(){fetch(f.source).then(l.fetch.status).then(l.fetch.json).then(function(A){if(s.activity.hide(),typeof A!="object")throw new Error("Data for table is not a object");s._fireEvent("data-loaded",{source:f.source,data:A}),s._build(A)}).catch(function(A){s.activity.hide(),s._fireEvent("data-load-error",{source:f.source,error:A})})})}else s._build()},_createIndex:function(){var t=this,e=this.options.checkColIndex;setImmediate(function(){t.items.forEach(function(i,s){t.index[i[e]]=s})})},_build:function(t){var e,i,s=this,m=this.element,f=this.options,w=m.attr("id");f.rows=+f.rows,this.items=[],this.heads=[],this.foots=[],Array.isArray(f.head)&&(this.heads=f.head),Array.isArray(f.body)&&(this.items=f.body),a.isValue(t)?this._createItemsFromJSON(t):this._createItemsFromHTML(),this._createIndex(),this.view=this._createView(),this.viewDefault=a.objectClone(this.view),i=f.viewSavePath.replace("$1",w),f.viewSaveMode.toLowerCase()==="client"?(e=l.storage.getItem(i),a.isValue(e)&&a.objectLength(e)===a.objectLength(this.view)&&(this.view=e,this._fireEvent("view-get",{source:"client",view:e})),this._final()):fetch(i).then(l.fetch.status).then(l.fetch.json).then(function(x){a.isValue(x)&&a.objectLength(x)===a.objectLength(s.view)&&(s.view=x,s._fireEvent("view-get",{source:"server",view:x})),s._final()}).catch(function(x){s._final(),console.warn("Warning! Error loading view for table "+m.attr("id")+": "+x)})},_final:function(){var t=this.element,e=this.options,i=t.attr("id");l.storage.delItem(e.checkStoreKey.replace("$1",i)),this._service(),this._createStructure(),this._createInspector(),this._createEvents(),this._fireEvent("table-create",{element:t})},_service:function(){var t=this.options;this.service=[{title:t.rownumTitle,format:void 0,name:void 0,sortable:!1,sortDir:void 0,clsColumn:"rownum-cell "+(t.rownum!==!0?"d-none":""),cls:"rownum-cell "+(t.rownum!==!0?"d-none":""),colspan:void 0,type:"rownum"},{title:t.checkType==="checkbox"?"<input type='checkbox' data-role='checkbox' class='table-service-check-all' data-style='"+t.checkStyle+"'>":"",format:void 0,name:void 0,sortable:!1,sortDir:void 0,clsColumn:"check-cell "+(t.check!==!0?"d-none":""),cls:"check-cell "+(t.check!==!0?"d-none":""),colspan:void 0,type:"rowcheck"}]},_createView:function(){var t;return t={},r.each(this.heads,function(e){a.isValue(this.cls)&&(this.cls=this.cls.replace("hidden","")),a.isValue(this.clsColumn)&&(this.clsColumn=this.clsColumn.replace("hidden","")),t[e]={index:e,"index-view":e,show:!a.isValue(this.show)||this.show,size:a.isValue(this.size)?this.size:""}}),this._fireEvent("view-created",{view:t}),t},_createInspectorItems:function(t){var e,i,s=this,m=this.options,f=[],w=this.heads;for(t.html(""),e=0;e<w.length;e++)f[e]=null;for(r.each(w,function(x){(i=r("<tr>")).data("index",x),i.data("index-view",x),r("<td>").html("<input type='checkbox' data-style='"+m.checkStyle+"' data-role='checkbox' name='column_show_check[]' value='"+x+"' "+(a.bool(s.view[x].show)?"checked":"")+">").appendTo(i),r("<td>").html(this.title).appendTo(i),r("<td>").html("<input type='number' data-role='spinner' name='column_size' value='"+s.view[x].size+"' data-index='"+x+"'>").appendTo(i),r("<td>").html("<button class='button square js-table-inspector-field-up' type='button'><span class='mif-arrow-up'></span></button><button class='button square js-table-inspector-field-down' type='button'><span class='mif-arrow-down'></span></button>").appendTo(i),f[s.view[x]["index-view"]]=i}),e=0;e<w.length;e++)f[e].appendTo(t)},_createInspector:function(){var t,e,i,s,m,f=this.options;(t=r("<div data-role='draggable' data-drag-element='.table-inspector-header' data-drag-area='body'>").addClass("table-inspector")).attr("for",this.element.attr("id")),r("<div class='table-inspector-header'>"+(f.inspectorTitle||this.locale.table.inspector)+"</div>").appendTo(t),e=r("<div>").addClass("table-wrap").appendTo(t),i=r("<table>").addClass("table subcompact"),s=r("<tbody>").appendTo(i),i.appendTo(e),this._createInspectorItems(s),m=r("<div class='table-inspector-actions'>").appendTo(t),r("<button class='button primary js-table-inspector-save' type='button'>").html(this.locale.buttons.save).appendTo(m),r("<button class='button secondary js-table-inspector-reset ml-2 mr-2' type='button'>").html(this.locale.buttons.reset).appendTo(m),r("<button class='button link js-table-inspector-cancel place-right' type='button'>").html(this.locale.buttons.cancel).appendTo(m),t.data("open",!1),this.inspector=t,r("body").append(t),this._createInspectorEvents()},_resetInspector:function(){var t=this.inspector.find("table tbody");this._createInspectorItems(t),this._createInspectorEvents()},_createHeadsFromHTML:function(){var t=this,e=this.element.find("thead");e.length>0&&r.each(e.find("tr > *"),function(){var i,s,m,f=r(this);f.hasClass("rownum-cell")||f.hasClass("check-cell")||(i=a.isValue(f.data("sort-dir"))?f.data("sort-dir"):f.hasClass("sort-asc")?"asc":f.hasClass("sort-desc")?"desc":void 0,m=(m=(m=(m=f[0].className.replace("sortable-column","")).replace("sort-asc","")).replace("sort-desc","")).replace("hidden",""),s={type:"data",title:f.html(),name:a.isValue(f.data("name"))?f.data("name"):f.text().replace(" ","_"),sortable:f.hasClass("sortable-column")||a.isValue(f.data("sortable"))&&JSON.parse(f.data("sortable"))===!0,sortDir:i,format:a.isValue(f.data("format"))?f.data("format"):"string",formatMask:a.isValue(f.data("format-mask"))?f.data("format-mask"):null,clsColumn:a.isValue(f.data("cls-column"))?f.data("cls-column"):"",cls:m,colspan:f.attr("colspan"),size:a.isValue(f.data("size"))?f.data("size"):"",show:!(f.hasClass("hidden")||a.isValue(f.data("show"))&&JSON.parse(f.data("show"))===!1),required:!!a.isValue(f.data("required"))&&JSON.parse(f.data("required"))===!0,field:a.isValue(f.data("field"))?f.data("field"):"input",fieldType:a.isValue(f.data("field-type"))?f.data("field-type"):"text",validator:a.isValue(f.data("validator"))?f.data("validator"):null,template:a.isValue(f.data("template"))?f.data("template"):null},t.heads.push(s))})},_createFootsFromHTML:function(){var t=this,e=this.element.find("tfoot");e.length>0&&r.each(e.find("tr > *"),function(){var i,s=r(this);i={title:s.html(),name:!!a.isValue(s.data("name"))&&s.data("name"),cls:s[0].className,colspan:s.attr("colspan")},t.foots.push(i)})},_createItemsFromHTML:function(){var t=this,e=this.element.find("tbody");e.length>0&&r.each(e.find("tr"),function(){var i=r(this),s=[];r.each(i.children("td"),function(){var m=r(this);s.push(m.html())}),t.items.push(s)}),this._createHeadsFromHTML(),this._createFootsFromHTML()},_createItemsFromJSON:function(t){var e=this;typeof t=="string"&&(t=JSON.parse(t)),t.header!==void 0?e.heads=t.header:this._createHeadsFromHTML(),t.data!==void 0&&r.each(t.data,function(){var i=[];r.each(this,function(){i.push(this)}),e.items.push(i)}),t.footer!==void 0?this.foots=t.footer:this._createFootsFromHTML()},_createTableHeader:function(){var t,e,i,s=this.element,m=this.options,f=s.find("thead"),w=[],x=m.staticView?this._createView():this.view;if(f.length===0&&(f=r("<thead>"),s.prepend(f)),f.clear().addClass(m.clsHead),this.heads.length===0)return f;for(t=r("<tr>").addClass(m.clsHeadRow).appendTo(f),r.each(this.service,function(){var I=this,T=[],A=r("<th>");a.isValue(I.title)&&A.html(I.title),a.isValue(I.size)&&A.css({width:I.size}),a.isValue(I.cls)&&T.push(I.cls),T.push(m.clsHeadCell),A.addClass(T.join(" ")),t.append(A)}),i=this.heads,e=0;e<i.length;e++)w[e]=null;for(r.each(i,function(I){var T=this,A=[],L=r("<th>");L.data("index",I),a.isValue(T.title)&&L.html(T.title),a.isValue(T.format)&&L.attr("data-format",T.format),a.isValue(T.formatMask)&&L.attr("data-format-mask",T.formatMask),a.isValue(T.name)&&L.attr("data-name",T.name),a.isValue(T.colspan)&&L.attr("colspan",T.colspan),a.isValue(T.size)&&L.attr("data-size",T.size),a.isValue(T.sortable)&&L.attr("data-sortable",T.sortable),a.isValue(T.sortDir)&&L.attr("data-sort-dir",T.sortDir),a.isValue(T.clsColumn)&&L.attr("data-cls-column",T.clsColumn),a.isValue(T.cls)&&L.attr("data-cls",T.cls),a.isValue(T.colspan)&&L.attr("colspan",T.colspan),a.isValue(T.show)&&L.attr("data-show",T.show),a.isValue(T.required)&&L.attr("data-required",T.required),a.isValue(T.field)&&L.attr("data-field",T.field),a.isValue(T.fieldType)&&L.attr("data-field-type",T.fieldType),a.isValue(T.validator)&&L.attr("data-validator",T.validator),a.isValue(T.template)&&L.attr("data-template",T.template),a.isValue(x[I].size)&&L.css({width:x[I].size}),T.sortable===!0&&(A.push("sortable-column"),a.isValue(T.sortDir)&&A.push("sort-"+T.sortDir)),a.isValue(T.cls)&&r.each(T.cls.toArray(),function(){A.push(this)}),a.bool(x[I].show)===!1&&A.indexOf("hidden")===-1&&A.push("hidden"),A.push(m.clsHeadCell),a.bool(x[I].show)&&a.arrayDelete(A,"hidden"),L.addClass(A.join(" ")),w[x[I]["index-view"]]=L}),e=0;e<i.length;e++)w[e].appendTo(t)},_createTableBody:function(){var t,e,i=this.element;e=i.find("thead"),(t=i.find("tbody")).length===0&&(t=r("<tbody>").addClass(this.options.clsBody),e.length!==0?t.insertAfter(e):i.append(t)),t.clear()},_createTableFooter:function(){var t,e,i=this.element,s=this.options,m=i.find("tfoot");m.length===0&&(m=r("<tfoot>").appendTo(i)),m.clear().addClass(s.clsFooter),this.foots.length!==0&&(t=r("<tr>").addClass(s.clsHeadRow).appendTo(m),r.each(this.foots,function(){var f=this;e=r("<th>").appendTo(t),f.title!==void 0&&e.html(f.title),f.name!==void 0&&e.addClass("foot-column-name-"+f.name),f.cls!==void 0&&e.addClass(f.cls),a.isValue(f.colspan)&&e.attr("colspan",f.colspan),e.appendTo(t)}))},_createTopBlock:function(){var t,e,i,s,m=this,f=this.element,w=this.options,x=r("<div>").addClass("table-top").addClass(w.clsTableTop).insertBefore(f.parent());return(t=a.isValue(this.wrapperSearch)?this.wrapperSearch:r("<div>").addClass("table-search-block").addClass(w.clsSearch).appendTo(x)).addClass(w.clsSearch),e=r("<input>").attr("type","text").attr("placeholder",w.tableSearchPlaceholder).appendTo(t),l.makePlugin(e,"input",{prepend:w.tableSearchTitle||m.locale.table.search}),w.showSearch!==!0&&t.hide(),(i=a.isValue(this.wrapperRows)?this.wrapperRows:r("<div>").addClass("table-rows-block").appendTo(x)).addClass(w.clsRowsCount),s=r("<select>").appendTo(i),r.each(w.rowsSteps.toArray(),function(){var I=parseInt(this),T=r("<option>").attr("value",I).text(I===-1?w.allRecordsTitle||m.locale.table.all:I).appendTo(s);I===parseInt(w.rows)&&T.attr("selected","selected")}),l.makePlugin(s,"select",{filter:!1,prepend:w.tableRowsCountTitle||m.locale.table.rowsCount,onChange:function(I){(I=parseInt(I))!==parseInt(w.rows)&&(w.rows=I,m.currentPage=1,m._draw(),m._fireEvent("rows-count-change",{val:I}))}}),w.showInspectorButton&&r("<button>").addClass("button inspector-button").attr("type","button").html(w.inspectorButtonIcon).insertAfter(i),w.showRowsSteps!==!0&&i.hide(),x},_createBottomBlock:function(){var t,e,i,s=this.element,m=this.options,f=r("<div>").addClass("table-bottom").addClass(m.clsTableBottom).insertAfter(s.parent());return(t=a.isValue(this.wrapperInfo)?this.wrapperInfo:r("<div>").addClass("table-info").appendTo(f)).addClass(m.clsTableInfo),m.showTableInfo!==!0&&t.hide(),(e=a.isValue(this.wrapperPagination)?this.wrapperPagination:r("<div>").addClass("table-pagination").appendTo(f)).addClass(m.clsTablePagination),m.showPagination!==!0&&e.hide(),(i=a.isValue(this.wrapperSkip)?this.wrapperSkip:r("<div>").addClass("table-skip").appendTo(f)).addClass(m.clsTableSkip),r("<input type='text'>").addClass("input table-skip-input").addClass(m.clsTableSkipInput).appendTo(i),r("<button>").addClass("button table-skip-button").addClass(m.clsTableSkipButton).html(m.tableSkipTitle||this.locale.table.skip).appendTo(i),m.showSkip!==!0&&i.hide(),f},_createStructure:function(){var t,e=this,i=this.element,s=this.options,m=r(s.searchWrapper),f=r(s.infoWrapper),w=r(s.rowsWrapper),x=r(s.paginationWrapper),I=r(s.skipWrapper);m.length>0&&(this.wrapperSearch=m),f.length>0&&(this.wrapperInfo=f),w.length>0&&(this.wrapperRows=w),x.length>0&&(this.wrapperPagination=x),I.length>0&&(this.wrapperSkip=I),i.addClass(s.clsTable),this._createTableHeader(),this._createTableBody(),this._createTableFooter(),this._createTopBlock(),this._createBottomBlock();var T,A=!1;this.heads.length>0&&r.each(this.heads,function(L){!A&&["asc","desc"].indexOf(this.sortDir)>-1&&(A=!0,e.sort.colIndex=L,e.sort.dir=this.sortDir)}),A&&(t=i.find("thead th"),this._resetSortClass(t),r(t.get(this.sort.colIndex+e.service.length)).addClass("sort-"+this.sort.dir),this.sorting()),a.isValue(s.filters)&&typeof s.filters=="string"&&r.each(s.filters.toArray(),function(){(T=a.isFunc(this))!==!1&&e.filtersIndexes.push(e.addFilter(T))}),this.currentPage=1,this._draw()},_resetSortClass:function(t){r(t).removeClass("sort-asc sort-desc")},_createEvents:function(){var t,e=this,i=this.element,s=this.options,m=i.closest(".table-component"),f=m.find(".table-container"),w=m.find(".table-search-block input"),x=s.skipWrapper?r(s.skipWrapper).find(".table-skip-button"):m.find(".table-skip-button"),I=s.skipWrapper?r(s.skipWrapper).find(".table-skip-input"):m.find(".table-skip-input"),T=i.attr("id");m.find(".inspector-button").on(l.events.click,function(){e.toggleInspector()}),x.on(l.events.click,function(){var k=parseInt(I.val().trim());if(isNaN(k)||k<=0||k>e.pagesCount)return I.val(""),!1;I.val(""),e._fireEvent("skip",{skipTo:k,skipFrom:e.currentPage}),e.page(k)}),r(window).on(l.events.resize,function(){s.horizontalScroll===!0&&(!a.isNull(s.horizontalScrollStop)&&a.mediaExist(s.horizontalScrollStop)?f.removeClass("horizontal-scroll"):f.addClass("horizontal-scroll"))},{ns:this.id}),i.on(l.events.click,".sortable-column",function(){if(s.muteTable===!0&&i.addClass("disabled"),e.busy)return!1;e.busy=!0;var k=r(this);e.activity.show(function(){setImmediate(function(){e.currentPage=1,e.sort.colIndex=k.data("index"),k.hasClass("sort-asc")||k.hasClass("sort-desc")?k.hasClass("sort-asc")?e.sort.dir="desc":e.sort.dir="asc":e.sort.dir=s.sortDir,e._resetSortClass(i.find(".sortable-column")),k.addClass("sort-"+e.sort.dir),e.sorting(),e._draw(function(){e.busy=!1,s.muteTable===!0&&i.removeClass("disabled")})})})}),i.on(l.events.click,".table-service-check input",function(){var k=r(this),S=k.is(":checked"),N=""+k.val(),D=s.checkStoreKey.replace("$1",T),u=l.storage,h=u.getItem(D);k.attr("type")==="radio"&&(h=[]),S?a.isValue(h)?Array(h).indexOf(N)===-1&&h.push(N):h=[N]:a.isValue(h)?a.arrayDelete(h,N):h=[],u.setItem(D,h),e._fireEvent("check-click",{check:this,status:S,data:h})}),i.on(l.events.click,".table-service-check-all input",function(){var k,S=r(this).is(":checked"),N=s.checkStoreKey.replace("$1",T),D=l.storage,u=[];s.useCurrentSlice===!0?(k=D.getItem(N,[]),S?r.each(e.currentSlice,function(){k.indexOf(""+this[s.checkColIndex])===-1&&k.push(""+this[s.checkColIndex])}):r.each(e.currentSlice,function(){var h=""+this[s.checkColIndex];k.indexOf(h)!==-1&&l.utils.arrayDelete(k,h)}),u=k):S?r.each(e.filteredItems,function(){u.indexOf(this[s.checkColIndex])===-1&&u.push(""+this[s.checkColIndex])}):u=[],D.setItem(N,u),e._draw(),e._fireEvent("check-click-all",{check:this,status:S,data:u})});var A=function(){e.searchString=this.value.trim().toLowerCase(),clearInterval(e.input_interval),e.input_interval=!1,e.input_interval||(e.input_interval=setTimeout(function(){e.currentPage=1,e._draw(),clearInterval(e.input_interval),e.input_interval=!1},s.searchThreshold))};function L(k){var S=r(k),N=S.parent();e.filteredItems.length!==0&&(N.hasClass("active")||(N.hasClass("service")?S.data("page")==="prev"?(e.currentPage--,e.currentPage===0&&(e.currentPage=1)):(e.currentPage++,e.currentPage>e.pagesCount&&(e.currentPage=e.pagesCount)):e.currentPage=S.data("page"),e._draw()))}w.on(l.events.inputchange,A),a.isValue(this.wrapperSearch)&&(t=this.wrapperSearch.find("input")).length>0&&t.on(l.events.inputchange,A),m.on(l.events.click,".pagination .page-link",function(){L(this)}),a.isValue(this.wrapperPagination)&&this.wrapperPagination.on(l.events.click,".pagination .page-link",function(){L(this)}),this._createInspectorEvents(),i.on(l.events.click,".js-table-crud-button",function(){})},_createInspectorEvents:function(){var t=this,e=this.inspector;this._removeInspectorEvents(),e.on(l.events.click,".js-table-inspector-field-up",function(){var i,s=r(this).closest("tr"),m=s.prev("tr"),f=s.data("index");m.length!==0&&(s.insertBefore(m),s.addClass("flash"),setTimeout(function(){s.removeClass("flash")},1e3),i=s.index(),s.data("index-view",i),t.view[f]["index-view"]=i,r.each(s.nextAll(),function(){var w=r(this);i++,w.data("index-view",i),t.view[w.data("index")]["index-view"]=i}),t._createTableHeader(),t._draw())}),e.on(l.events.click,".js-table-inspector-field-down",function(){var i,s=r(this).closest("tr"),m=s.next("tr"),f=s.data("index");m.length!==0&&(s.insertAfter(m),s.addClass("flash"),setTimeout(function(){s.removeClass("flash")},1e3),i=s.index(),s.data("index-view",i),t.view[f]["index-view"]=i,r.each(s.prevAll(),function(){var w=r(this);i--,w.data("index-view",i),t.view[w.data("index")]["index-view"]=i}),t._createTableHeader(),t._draw())}),e.on(l.events.click,"input[type=checkbox]",function(){var i=r(this),s=i.is(":checked"),m=i.val(),f=["cls","clsColumn"];s?r.each(f,function(){var w;w=a.isValue(t.heads[m][this])?t.heads[m][this].toArray(" "):[],a.arrayDelete(w,"hidden"),t.heads[m][this]=w.join(" "),t.view[m].show=!0}):r.each(f,function(){var w;(w=a.isValue(t.heads[m][this])?t.heads[m][this].toArray(" "):[]).indexOf("hidden")===-1&&w.push("hidden"),t.heads[m][this]=w.join(" "),t.view[m].show=!1}),t._createTableHeader(),t._draw()}),e.find("input[type=number]").on(l.events.inputchange,function(){var i=r(this),s=i.attr("data-index"),m=parseInt(i.val());t.view[s].size=m===0?"":m,t._createTableHeader()}),e.on(l.events.click,".js-table-inspector-save",function(){t._saveTableView(),t.openInspector(!1)}),e.on(l.events.click,".js-table-inspector-cancel",function(){t.openInspector(!1)}),e.on(l.events.click,".js-table-inspector-reset",function(){t.resetView()})},_removeInspectorEvents:function(){var t=this.inspector;t.off(l.events.click,".js-table-inspector-field-up"),t.off(l.events.click,".js-table-inspector-field-down"),t.off(l.events.click,"input[type=checkbox]"),t.off(l.events.click,".js-table-inspector-save"),t.off(l.events.click,".js-table-inspector-cancel"),t.off(l.events.click,".js-table-inspector-reset"),t.find("input[type=number]").off(l.events.inputchange)},_saveTableView:function(){var t=this,e=this.element,i=this.options,s=this.view,m=e.attr("id"),f=i.viewSavePath.replace("$1",m),w=l.storage;if(i.viewSaveMode.toLowerCase()==="client")w.setItem(f,s),this._fireEvent("view-save",{target:"client",path:i.viewSavePath,view:s});else{var x={id:e.attr("id"),view:s};fetch(f,{method:"POST",body:JSON.stringify(x),header:{"Content-type":"application/json;charset=utf-8"}}).then(l.fetch.status).then(l.fetch.text).then(function(I){t._fireEvent("view-save",{target:"server",path:i.viewSavePath,view:s,post_data:x,response:I})}).catch(function(I){t._fireEvent("data-save-error",{source:i.viewSavePath,error:I,post_data:x})})}},_info:function(t,e,i){var s,m=this.element,f=this.options,w=m.closest(".table-component"),x=a.isValue(this.wrapperInfo)?this.wrapperInfo:w.find(".table-info");x.length!==0&&(e>i&&(e=i),this.items.length===0&&(t=e=i=0),s=(s=(s=(s=f.tableInfoTitle||this.locale.table.info).replace("$1",t)).replace("$2",e)).replace("$3",i),x.html(s))},_paging:function(t){var e=this.element,i=this.options,s=e.closest(".table-component");this.pagesCount=Math.ceil(t/i.rows),l.pagination({length:t,rows:i.rows,current:this.currentPage,target:a.isValue(this.wrapperPagination)?this.wrapperPagination:s.find(".table-pagination"),claPagination:i.clsPagination,prevTitle:i.paginationPrevTitle||this.locale.table.prev,nextTitle:i.paginationNextTitle||this.locale.table.next,distance:i.paginationShortMode===!0?i.paginationDistance:0})},_filter:function(){var t,e=this,i=this.options;return t=a.isValue(this.searchString)&&e.searchString.length>=i.searchMinLength||this.filters.length>0?this.items.filter(function(s){var m,f,w,x="",I=0;if(e.filters.length>0){for(m=i.filtersOperator.toLowerCase()==="and",w=0;w<e.filters.length;w++)a.isNull(e.filters[w])||(I++,m=i.filtersOperator.toLowerCase()==="and"?m&&a.exec(e.filters[w],[s,e.heads]):m||a.exec(e.filters[w],[s,e.heads]));I===0&&(m=!0)}else m=!0;return e.searchFields.length>0?r.each(e.heads,function(T,A){e.searchFields.indexOf(A.name)>-1&&(x+=""+s[T])}):x=s.join(""),x=x.replace(/[\n\r]+|[\s]{2,}/g," ").trim().toLowerCase(),f=!(a.isValue(e.searchString)&&e.searchString.length>=i.searchMinLength)||~x.indexOf(e.searchString),(m=m&&f)?e._fireEvent("filter-row-accepted",{row:s}):e._fireEvent("filter-row-declined",{row:s}),m}):this.items,this._fireEvent("search",{search:e.searchString,items:t}),this.filteredItems=t,t},_draw:function(t){var e,i,s,m,f,w,x,I,T,A=this,L=this.element,k=this.options,S=L.find("tbody"),N=parseInt(k.rows)===-1?0:k.rows*(this.currentPage-1),D=parseInt(k.rows)===-1?this.items.length-1:N+k.rows-1,u=[],h=l.storage.getItem(k.checkStoreKey.replace("$1",L.attr("id"))),b=k.staticView?this.viewDefault:this.view;if(S.html(""),this.heads.length){if(T=this._filter(),this.currentSlice=T.slice(N,D+1),u=[],T.length>0){for(e=N;e<=D;e++)if(w=T[e],x=[],a.isValue(w)){for((s=r("<tr>").addClass(k.clsBodyRow)).data("original",w),I=e%2==0,m=r("<td>").html(e+1),A.service[0].clsColumn!==void 0&&m.addClass(A.service[0].clsColumn),m.appendTo(s),m=r("<td>"),f=k.checkType==="checkbox"?r("<input type='checkbox' data-style='"+k.checkStyle+"' data-role='checkbox' name='"+(a.isValue(k.checkName)?k.checkName:"table_row_check")+"[]' value='"+T[e][k.checkColIndex]+"'>"):r("<input type='radio' data-style='"+k.checkStyle+"' data-role='radio' name='"+(a.isValue(k.checkName)?k.checkName:"table_row_check")+"' value='"+T[e][k.checkColIndex]+"'>"),a.isValue(h)&&Array.isArray(h)&&h.indexOf(""+T[e][k.checkColIndex])>-1&&(f.prop("checked",!0),u.push(w)),f.addClass("table-service-check"),this._fireEvent("check-draw",{check:f}),f.appendTo(m),A.service[1].clsColumn!==void 0&&m.addClass(A.service[1].clsColumn),m.appendTo(s),i=0;i<w.length;i++)x[i]=null;for(r.each(w,function(C){var E=this,M=r("<td>");a.isValue(A.heads[C].template)&&(E=A.heads[C].template.replace(/%VAL%/g,E)),M.html(E),M.addClass(k.clsBodyCell),a.isValue(A.heads[C].clsColumn)&&M.addClass(A.heads[C].clsColumn),a.bool(b[C].show)===!1&&M.addClass("hidden"),a.bool(b[C].show)&&M.removeClass("hidden"),M.data("original",this),x[b[C]["index-view"]]=M,A._fireEvent("draw-cell",{td:M,val:E,cellIndex:C,head:A.heads[C],items:w}),k.cellWrapper===!0&&(E=r("<div>").addClass("data-wrapper").addClass(k.clsCellWrapper).html(M.html()),M.html("").append(E))}),i=0;i<w.length;i++)x[i].appendTo(s),A._fireEvent("append-cell",{td:x[i],tr:s,index:i});A._fireEvent("draw-row",{tr:s,view:A.view,heads:A.heads,items:w}),s.addClass(k.clsRow).addClass(I?k.clsEvenRow:k.clsOddRow).appendTo(S),A._fireEvent("append-row",{tr:s})}r(this.component).find(".table-service-check-all input").prop("checked",u.length)}else i=0,r.each(b,function(){this.show&&i++}),k.check===!0&&i++,k.rownum===!0&&i++,s=r("<tr>").addClass(k.clsBodyRow).appendTo(S),(m=r("<td>").attr("colspan",i).addClass("text-center").html(r("<span>").addClass(k.clsEmptyTableTitle).html(k.emptyTableTitle||A.locale.table.empty))).appendTo(s);this._info(N+1,D+1,T.length),this._paging(T.length),this.activity&&this.activity.hide(),this._fireEvent("draw"),t!==void 0&&a.exec(t,null,L[0])}else console.warn("Heads is not defined for table ID "+L.attr("id"))},_getItemContent:function(t){var e,i=this.options,s=t[this.sort.colIndex],m=this.heads[this.sort.colIndex].format,f=a.isNull(this.heads)||a.isNull(this.heads[this.sort.colIndex])||!a.isValue(this.heads[this.sort.colIndex].formatMask)?"%Y-%m-%d":this.heads[this.sort.colIndex].formatMask,w=this.heads&&this.heads[this.sort.colIndex]&&this.heads[this.sort.colIndex].thousandSeparator?this.heads[this.sort.colIndex].thousandSeparator:i.thousandSeparator,x=this.heads&&this.heads[this.sort.colIndex]&&this.heads[this.sort.colIndex].decimalSeparator?this.heads[this.sort.colIndex].decimalSeparator:i.decimalSeparator;if(e=(""+s).toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),a.isValue(e)&&a.isValue(m))switch(["number","int","float","money"].indexOf(m)!==-1&&(e=a.parseNumber(e,w,x)),m){case"date":e=f?Datetime.from(e,f,i.locale):datetime(e);break;case"number":e=+e;break;case"int":e=parseInt(e);break;case"float":e=parseFloat(e);break;case"money":e=a.parseMoney(e);break;case"card":e=a.parseCard(e);break;case"phone":e=a.parsePhone(e)}return e},addItem:function(t,e){if(!Array.isArray(t))return console.warn("Item is not an array and can't be added"),this;this.items.push(t),e!==!1&&this.draw()},addItems:function(t,e){if(!Array.isArray(t))return console.warn("Items is not an array and can't be added"),this;t.forEach(function(i){Array.isArray(i)&&this.items.push(i,!1)}),this.draw(),e!==!1&&this.draw()},updateItem:function(t,e,i){var s=this.items[this.index[t]],m=null;return a.isNull(s)?(console.warn("Item is undefined for update"),this):(isNaN(e)&&this.heads.forEach(function(f,w){f.name===e&&(m=w)}),a.isNull(m)?(console.warn("Item is undefined for update. Field "+e+" not found in data structure"),this):(s[m]=i,this.items[this.index[t]]=s,this))},getItem:function(t){return this.items[this.index[t]]},deleteItem:function(t,e){var i,s=[],m=a.isFunc(e);for(i=0;i<this.items.length;i++)m?a.exec(e,[this.items[i][t]])&&s.push(i):this.items[i][t]===e&&s.push(i);return this.items=a.arrayDeleteByMultipleKeys(this.items,s),this},deleteItemByName:function(t,e){var i,s,m=[],f=a.isFunc(e);for(i=0;i<this.heads.length;i++)if(this.heads[i].name===t){s=i;break}for(i=0;i<this.items.length;i++)f?a.exec(e,[this.items[i][s]])&&m.push(i):this.items[i][s]===e&&m.push(i);return this.items=a.arrayDeleteByMultipleKeys(this.items,m),this},draw:function(){return this._draw(),this},sorting:function(t){var e=this;return a.isValue(t)&&(this.sort.dir=t),this._fireEvent("sort-start",{items:this.items}),this.items.sort(function(i,s){var m=e._getItemContent(i),f=e._getItemContent(s),w=0;return m<f&&(w=e.sort.dir==="asc"?-1:1),m>f&&(w=e.sort.dir==="asc"?1:-1),w!==0&&e._fireEvent("sort-item-switch",{a:i,b:s,result:w}),w}),this._fireEvent("sort-stop",{items:this.items}),this},search:function(t){return this.searchString=t.trim().toLowerCase(),this.currentPage=1,this._draw(),this},_rebuild:function(t){var e,i=this,s=this.element,m=!1;this._createIndex(),t===!0&&(this.view=this._createView()),this._createTableHeader(),this._createTableBody(),this._createTableFooter(),this.heads.length>0&&r.each(this.heads,function(f){!m&&["asc","desc"].indexOf(this.sortDir)>-1&&(m=!0,i.sort.colIndex=f,i.sort.dir=this.sortDir)}),m&&(e=s.find(".sortable-column"),this._resetSortClass(e),r(e.get(i.sort.colIndex)).addClass("sort-"+i.sort.dir),this.sorting()),i.currentPage=1,i._draw()},setHeads:function(t){return this.heads=t,this},setHeadItem:function(t,e){var i,s;for(i=0;i<this.heads.length;i++)if(this.heads[i].name===t){s=i;break}return this.heads[s]=e,this},setItems:function(t){return this.items=t,this},setData:function(t){var e=this,i=this.options;return this.activity.show(function(){e.items=[],e.heads=[],e.foots=[],Array.isArray(i.head)&&(e.heads=i.head),Array.isArray(i.body)&&(e.items=i.body),e._createItemsFromJSON(t),e._rebuild(!0),e.activity.hide()}),this},loadData:function(t,e){var i=this,s=this.element,m=this.options;a.isValue(e)||(e=!0),s.html(""),a.isValue(t)?(m.source=t,this._fireEvent("data-load",{source:m.source}),i.activity.show(function(){fetch(m.source).then(l.fetch.status).then(l.fetch.json).then(function(f){i.activity.hide(),i.items=[],i.heads=[],i.foots=[],i._fireEvent("data-loaded",{source:m.source,data:f}),Array.isArray(m.head)&&(i.heads=m.head),Array.isArray(m.body)&&(i.items=m.body),i._createItemsFromJSON(f),i._rebuild(e),i._resetInspector(),i._fireEvent("data-load-end",{source:m.source,data:f})}).catch(function(f){i.activity.hide(),i._fireEvent("data-load-error",{source:m.source,error:f})})})):this._rebuild(e)},reload:function(t){this.loadData(this.options.source,t)},clear:function(){return this.items=[],this.draw()},next:function(){if(this.items.length!==0){if(this.currentPage++,!(this.currentPage>this.pagesCount))return this._draw(),this;this.currentPage=this.pagesCount}},prev:function(){if(this.items.length!==0){if(this.currentPage--,this.currentPage!==0)return this._draw(),this;this.currentPage=1}},first:function(){if(this.items.length!==0)return this.currentPage=1,this._draw(),this},last:function(){if(this.items.length!==0)return this.currentPage=this.pagesCount,this._draw(),this},page:function(t){return t<=0&&(t=1),t>this.pagesCount&&(t=this.pagesCount),this.currentPage=t,this._draw(),this},addFilter:function(t,e){var i,s=null,m=a.isFunc(t);if(m!==!1){for(i=0;i<this.filters.length;i++)if(a.isNull(this.filters[i])){s=i,this.filters[i]=m;break}return a.isNull(s)&&(this.filters.push(m),s=this.filters.length-1),e===!0&&(this.currentPage=1,this.draw()),s}},removeFilter:function(t,e){return this.filters[t]=null,e===!0&&(this.currentPage=1,this.draw()),this},removeFilters:function(t){return this.filters=[],t===!0&&(this.currentPage=1,this.draw()),this},getItems:function(){return this.items},getHeads:function(){return this.heads},getView:function(){return this.view},getFilteredItems:function(){return this.filteredItems.length>0?this.filteredItems:this.items},getSelectedItems:function(){var t=this.element,e=this.options,i=l.storage.getItem(e.checkStoreKey.replace("$1",t.attr("id"))),s=[];return a.isValue(i)?(r.each(this.items,function(){i.indexOf(""+this[e.checkColIndex])!==-1&&s.push(this)}),s):[]},getStoredKeys:function(){var t=this.element,e=this.options;return l.storage.getItem(e.checkStoreKey.replace("$1",t.attr("id")),[])},clearSelected:function(t){var e=this.element,i=this.options;l.storage.setItem(i.checkStoreKey.replace("$1",e.attr("id")),[]),e.find("table-service-check-all input").prop("checked",!1),t===!0&&this._draw()},getFilters:function(){return this.filters},getFiltersIndexes:function(){return this.filtersIndexes},openInspector:function(t){var e=this.inspector;t?e.show(0,function(){e.css({top:(r(window).height()-e.outerHeight(!0))/2+pageYOffset,left:(r(window).width()-e.outerWidth(!0))/2+pageXOffset}).data("open",!0)}):e.hide().data("open",!1)},closeInspector:function(){this.openInspector(!1)},toggleInspector:function(){this.openInspector(!this.inspector.data("open"))},resetView:function(){this.view=this._createView(),this._createTableHeader(),this._createTableFooter(),this._draw(),this._resetInspector(),this._saveTableView()},rebuildIndex:function(){this._createIndex()},getIndex:function(){return this.index},export:function(t,e,i,s){var m,f,w,x,I,T,A,L,k=l.export,S=this,N=this.options,D=document.createElement("table"),u=r("<thead>").appendTo(D),h=r("<tbody>").appendTo(D),b=[];if(typeof k.tableToCSV=="function"){for(e=a.isValue(e)?e.toLowerCase():"all-filtered",i=a.isValue(i)?i:a.elementId("table")+"-export.csv",I=r("<tr>"),w=this.heads,f=0;f<w.length;f++)b[f]=null;for(r.each(w,function(C){a.bool(S.view[C].show)!==!1&&(T=r("<th>"),a.isValue(this.title)&&T.html(this.title),b[S.view[C]["index-view"]]=T)}),f=0;f<w.length;f++)a.isValue(b[f])&&b[f].appendTo(I);for(I.appendTo(u),e==="checked"?(A=0,L=(x=this.getSelectedItems()).length-1):e==="view"?(x=this._filter(),A=parseInt(N.rows)===-1?0:N.rows*(this.currentPage-1),L=parseInt(N.rows)===-1?x.length-1:A+N.rows-1):e==="all"?(A=0,L=(x=this.items).length-1):(A=0,L=(x=this._filter()).length-1),m=A;m<=L;m++)if(a.isValue(x[m])){for(I=r("<tr>"),w=x[m],f=0;f<w.length;f++)b[f]=null;for(r.each(w,function(C){a.bool(S.view[C].show)!==!1&&(T=r("<td>").html(this),b[S.view[C]["index-view"]]=T)}),f=0;f<w.length;f++)a.isValue(b[f])&&b[f].appendTo(I);I.appendTo(h)}k.tableToCSV(D,i,s),D.remove()}},changeAttribute:function(t){var e=this,i=this.element,s=this.options;switch(t){case"data-check":s.check=a.bool(i.attr("data-check")),e._service(),e._createTableHeader(),e._draw();break;case"data-rownum":s.rownum=a.bool(i.attr("data-rownum")),e._service(),e._createTableHeader(),e._draw()}},destroy:function(){var t=this.element,e=t.closest(".table-component"),i=e.find("input"),s=e.find("select");if(i.data("input").destroy(),s.data("select").destroy(),r(window).off(l.events.resize,{ns:this.id}),t.off(l.events.click,".sortable-column"),t.off(l.events.click,".table-service-check input"),t.off(l.events.click,".table-service-check-all input"),i.off(l.events.inputchange),a.isValue(this.wrapperSearch)){var m=this.wrapperSearch.find("input");m.length>0&&m.off(l.events.inputchange)}return e.off(l.events.click,".pagination .page-link"),a.isValue(this.wrapperPagination)&&this.wrapperPagination.off(l.events.click,".pagination .page-link"),t.off(l.events.click,".js-table-crud-button"),this._removeInspectorEvents(),t}})}(Metro,m4q),function(l,r){var a=l.utils,p={dialogDeferred:0,closeButton:!1,leaveOverlayOnClose:!1,toTop:!1,toBottom:!1,locale:METRO_LOCALE,title:"",content:"",actions:{},actionsAlign:"right",defaultAction:!0,overlay:!0,overlayColor:"#000000",overlayAlpha:.5,overlayClickClose:!1,width:"480",height:"auto",shadow:!0,closeAction:!0,clsDialog:"",clsTitle:"",clsContent:"",clsAction:"",clsDefaultAction:"",clsOverlay:"",autoHide:0,removeOnClose:!1,show:!1,_runtime:!1,onShow:l.noop,onHide:l.noop,onOpen:l.noop,onClose:l.noop,onDialogCreate:l.noop};l.dialogSetup=function(t){p=r.extend({},p,t)},typeof window.metroDialogSetup!==void 0&&l.dialogSetup(window.metroDialogSetup),l.Component("dialog",{_counter:0,init:function(t,e){return this._super(e,t,p,{interval:null,overlay:null,id:a.elementId("dialog")}),this},_create:function(){var t=this.options;this.locale=l.locales[t.locale]!==void 0?l.locales[t.locale]:l.locales["en-US"],this._build()},_build:function(){var t,e=this,i=this.element,s=this.options,m=r("body");if(i.addClass("dialog"),s.shadow===!0&&i.addClass("shadow-on"),s.title!==""&&this.setTitle(s.title),s.content!==""&&this.setContent(s.content),s.defaultAction===!0||s.actions!==!1&&typeof s.actions=="object"&&a.objectLength(s.actions)>0){var f,w=i.find(".dialog-actions");w.length===0&&(w=r("<div>").addClass("dialog-actions").addClass("text-"+s.actionsAlign).appendTo(i)),s.defaultAction===!0&&a.objectLength(s.actions)===0&&i.find(".dialog-actions > *").length===0&&(f=r("<button>").addClass("button js-dialog-close").addClass(s.clsDefaultAction).html(this.locale.buttons.ok)).appendTo(w),a.isObject(s.actions)&&r.each(a.isObject(s.actions),function(){var I=this;f=r("<button>").addClass("button").addClass(I.cls).html(I.caption),I.onclick!==void 0&&f.on(l.events.click,function(){a.exec(I.onclick,[i])}),f.appendTo(w)})}s.overlay===!0&&(t=this._overlay(),this.overlay=t),s.closeAction===!0&&i.on(l.events.click,".js-dialog-close",function(){e.close()});var x=i.find("closer");x.length===0&&(x=r("<span>").addClass("button square closer js-dialog-close")).appendTo(i),s.closeButton!==!0&&x.hide(),i.css({width:s.width,height:s.height,visibility:"hidden",top:"100%",left:(r(window).width()-i.outerWidth())/2}),i.addClass(s.clsDialog),i.find(".dialog-title").addClass(s.clsTitle),i.find(".dialog-content").addClass(s.clsContent),i.find(".dialog-actions").addClass(s.clsAction),i.appendTo(m),s.show&&this.open(),r(window).on(l.events.resize,function(){e.setPosition()},{ns:this.id}),this._fireEvent("dialog-create",{element:i})},_overlay:function(){var t=this.options,e=r("<div>");return e.addClass("overlay").addClass(t.clsOverlay),t.overlayColor==="transparent"?e.addClass("transparent"):e.css({background:l.colors.toRGBA(t.overlayColor,t.overlayAlpha)}),e},hide:function(t){var e=this.element,i=0;this.options.onHide!==l.noop&&(i=500,this._fireEvent("hide")),setTimeout(function(){a.exec(t,null,e[0]),e.css({visibility:"hidden",top:"100%"})},i)},show:function(t){var e=this.element;this.setPosition(),e.css({visibility:"visible"}),this._fireEvent("show"),a.exec(t,null,e[0])},setPosition:function(){var t,e,i=this.element,s=this.options;s.toTop!==!0&&s.toBottom!==!0?((t=(r(window).height()-i.outerHeight())/2)<0&&(t=0),e="auto"):(s.toTop===!0&&(t=0,e="auto"),s.toTop!==!0&&s.toBottom===!0&&(e=0,t="auto")),i.css({top:t,bottom:e,left:(r(window).width()-i.outerWidth())/2})},setContent:function(t){var e=this.element,i=e.find(".dialog-content");i.length===0&&(i=r("<div>").addClass("dialog-content")).appendTo(e),!a.isQ(t)&&a.isFunc(t)&&(t=a.exec(t)),a.isQ(t)?t.appendTo(i):i.html(t)},setTitle:function(t){var e=this.element,i=e.find(".dialog-title");i.length===0&&(i=r("<div>").addClass("dialog-title")).appendTo(e),i.html(t)},close:function(){var t=this,e=this.element,i=this.options;a.bool(i.leaveOverlayOnClose)||r("body").find(".overlay").remove(),this.hide(function(){e.data("open",!1),t._fireEvent("close"),i.removeOnClose===!0&&e.remove()})},open:function(){var t=this,e=this.element,i=this.options;i.overlay===!0&&r(".overlay").length===0&&(this.overlay.appendTo(r("body")),i.overlayClickClose===!0&&this.overlay.on(l.events.click,function(){t.close()})),this.show(function(){t._fireEvent("open"),e.data("open",!0),parseInt(i.autoHide)>0&&setTimeout(function(){t.close()},parseInt(i.autoHide))})},toggle:function(){this.element.data("open")?this.close():this.open()},isOpen:function(){return this.element.data("open")===!0},changeAttribute:function(t){},destroy:function(){var t=this.element;return t.off(l.events.click,".js-dialog-close"),t.find(".button").off(l.events.click),r(window).off(l.events.resize,{ns:this.id}),t}}),l.dialog={isDialog:function(t){return a.isMetroObject(t,"dialog")},open:function(t,e,i){if(!this.isDialog(t))return!1;var s=l.getPlugin(t,"dialog");i!==void 0&&s.setTitle(i),e!==void 0&&s.setContent(e),s.open()},close:function(t){if(!this.isDialog(t))return!1;l.getPlugin(r(t)[0],"dialog").close()},toggle:function(t){if(!this.isDialog(t))return!1;l.getPlugin(r(t)[0],"dialog").toggle()},isOpen:function(t){if(!this.isDialog(t))return!1;l.getPlugin(r(t)[0],"dialog").isOpen()},remove:function(t){if(!this.isDialog(t))return!1;var e=l.getPlugin(r(t)[0],"dialog");e.options.removeOnClose=!0,e.close()},create:function(t){var e;e=r("<div>").appendTo(r("body"));var i=r.extend({},{show:!0,closeAction:!0,removeOnClose:!0},t!==void 0?t:{});return i._runtime=!0,l.makePlugin(e,"dialog",i)}}}(Metro,m4q),function(l,r){var a=l.utils,p={inputDeferred:0,label:"",autocomplete:null,autocompleteUrl:null,autocompleteUrlMethod:"GET",autocompleteUrlKey:null,autocompleteDivider:",",autocompleteListHeight:200,history:!1,historyPreset:"",historyDivider:"|",preventSubmit:!1,defaultValue:"",size:"default",prepend:"",append:"",copyInlineStyles:!1,searchButton:!1,clearButton:!0,revealButton:!0,clearButtonIcon:"<span class='default-icon-cross'></span>",revealButtonIcon:"<span class='default-icon-eye'></span>",searchButtonIcon:"<span class='default-icon-search'></span>",customButtons:[],searchButtonClick:"submit",clsComponent:"",clsInput:"",clsPrepend:"",clsAppend:"",clsClearButton:"",clsRevealButton:"",clsCustomButton:"",clsSearchButton:"",clsLabel:"",onAutocompleteSelect:l.noop,onHistoryChange:l.noop,onHistoryUp:l.noop,onHistoryDown:l.noop,onClearClick:l.noop,onRevealClick:l.noop,onSearchButtonClick:l.noop,onEnterClick:l.noop,onInputCreate:l.noop};l.inputSetup=function(t){p=r.extend({},p,t)},typeof window.metroInputSetup!==void 0&&l.inputSetup(window.metroInputSetup),l.Component("input",{init:function(t,e){return this._super(e,t,p,{history:[],historyIndex:-1,autocomplete:[]}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("input-create",{element:t})},_createStructure:function(){var t=this,e=this.element,i=this.options,s=r("<div>").addClass("input "+e[0].className),m=r("<div>").addClass("button-group");if(a.isValue(i.historyPreset)&&(r.each(i.historyPreset.toArray(i.historyDivider),function(){t.history.push(this)}),t.historyIndex=t.history.length-1),e.attr("type")===void 0&&e.attr("type","text"),s.insertBefore(e),e.appendTo(s),m.appendTo(s),a.isValue(e.val().trim())||e.val(i.defaultValue),i.clearButton!==!0||e[0].readOnly||r("<button>").addClass("button input-clear-button").addClass(i.clsClearButton).attr("tabindex",-1).attr("type","button").html(i.clearButtonIcon).appendTo(m),e.attr("type")==="password"&&i.revealButton===!0&&r("<button>").addClass("button input-reveal-button").addClass(i.clsRevealButton).attr("tabindex",-1).attr("type","button").html(i.revealButtonIcon).appendTo(m),i.searchButton===!0&&r("<button>").addClass("button input-search-button").addClass(i.clsSearchButton).attr("tabindex",-1).attr("type",i.searchButtonClick==="submit"?"submit":"button").html(i.searchButtonIcon).appendTo(m),a.isValue(i.prepend)&&r("<div>").html(i.prepend).addClass("prepend").addClass(i.clsPrepend).appendTo(s),a.isValue(i.append)&&r("<div>").html(i.append).addClass("append").addClass(i.clsAppend).appendTo(s),typeof i.customButtons=="string"&&(i.customButtons=a.isObject(i.customButtons)),typeof i.customButtons=="object"&&a.objectLength(i.customButtons)>0&&r.each(i.customButtons,function(){var T=this,A=r("<button>");A.addClass("button input-custom-button").addClass(i.clsCustomButton).addClass(T.cls).attr("tabindex",-1).attr("type","button").html(T.html),T.attr&&typeof T.attr=="object"&&r.each(T.attr,function(L,k){A.attr(Cake.dashedName(L),k)}),A.data("action",T.onclick),A.appendTo(m)}),a.isValue(e.attr("data-exclaim"))&&s.attr("data-exclaim",e.attr("data-exclaim")),e.attr("dir")==="rtl"&&s.addClass("rtl").attr("dir","rtl"),e[0].className="",i.copyInlineStyles===!0)for(var f=0,w=e[0].style.length;f<w;f++)s.css(e[0].style[f],e.css(e[0].style[f]));if(s.addClass(i.clsComponent),e.addClass(i.clsInput),i.size!=="default"&&s.css({width:i.size}),a.isNull(i.autocomplete)&&a.isNull(i.autocompleteUrl)||r("<div>").addClass("autocomplete-list").css({maxHeight:i.autocompleteListHeight,display:"none"}).appendTo(s),a.isValue(i.autocomplete)){var x=a.isObject(i.autocomplete);this.autocomplete=x!==!1?x:i.autocomplete.toArray(i.autocompleteDivider)}if(a.isValue(i.autocompleteUrl)&&fetch(i.autocompleteUrl,{method:i.autocompleteUrlMethod}).then(function(T){return T.text()}).then(function(T){var A=[];try{A=JSON.parse(T),i.autocompleteUrlKey&&(A=A[i.autocompleteUrlKey])}catch{A=T.split(`
`)}t.autocomplete=t.autocomplete.concat(A)}),i.label){var I=r("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(s);e.attr("id")&&I.attr("for",e.attr("id")),e.attr("dir")==="rtl"&&I.addClass("rtl")}e.is(":disabled")?this.disable():this.enable()},_createEvents:function(){var t=this,e=this.element,i=this.options,s=e.closest(".input"),m=s.find(".autocomplete-list");s.on(l.events.click,".input-clear-button",function(){var f=e.val();e.val(a.isValue(i.defaultValue)?i.defaultValue:"").fire("clear").fire("change").fire("keyup").focus(),m.length>0&&m.css({display:"none"}),t._fireEvent("clear-click",{prev:f,val:e.val()})}),s.on(l.events.click,".input-reveal-button",function(){e.attr("type")==="password"?e.attr("type","text"):e.attr("type","password"),t._fireEvent("reveal-click",{val:e.val()})}),s.on(l.events.click,".input-search-button",function(){i.searchButtonClick!=="submit"?t._fireEvent("search-button-click",{val:e.val(),button:this}):this.form.submit()}),s.on(l.events.click,".input-custom-button",function(){var f=r(this),w=f.data("action");a.exec(w,[e.val(),f],this)}),e.on(l.events.keyup,function(f){var w=e.val().trim();i.history&&f.keyCode===l.keyCode.ENTER&&w!==""&&(e.val(""),t.history.push(w),t.historyIndex=t.history.length-1,t._fireEvent("history-change",{val:w,history:t.history,historyIndex:t.historyIndex}),i.preventSubmit===!0&&f.preventDefault()),i.history&&f.keyCode===l.keyCode.UP_ARROW&&(t.historyIndex--,t.historyIndex>=0?(e.val(""),e.val(t.history[t.historyIndex]),t._fireEvent("history-down",{val:e.val(),history:t.history,historyIndex:t.historyIndex})):t.historyIndex=0,f.preventDefault()),i.history&&f.keyCode===l.keyCode.DOWN_ARROW&&(t.historyIndex++,t.historyIndex<t.history.length?(e.val(""),e.val(t.history[t.historyIndex]),t._fireEvent("history-up",{val:e.val(),history:t.history,historyIndex:t.historyIndex})):t.historyIndex=t.history.length-1,f.preventDefault())}),e.on(l.events.keydown,function(f){f.keyCode===l.keyCode.ENTER&&t._fireEvent("enter-click",{val:e.val()})}),e.on(l.events.blur,function(){s.removeClass("focused")}),e.on(l.events.focus,function(){s.addClass("focused")}),e.on(l.events.input,function(){var f=this.value.toLowerCase();t._drawAutocompleteList(f)}),s.on(l.events.click,".autocomplete-list .item",function(){var f=r(this).attr("data-autocomplete-value");e.val(f),m.css({display:"none"}),e.trigger("change"),t._fireEvent("autocomplete-select",{value:f})})},_drawAutocompleteList:function(t){var e,i=this,s=this.element.closest(".input").find(".autocomplete-list");s.length!==0&&(s.html(""),e=this.autocomplete.filter(function(m){return m.toLowerCase().indexOf(t)>-1}),s.css({display:e.length>0?"block":"none"}),r.each(e,function(){var m,f=this,w=f.toLowerCase().indexOf(t),x=r("<div>").addClass("item").attr("data-autocomplete-value",f);m=w===0?"<strong>"+f.substr(0,t.length)+"</strong>"+f.substr(t.length):f.substr(0,w)+"<strong>"+f.substr(w,t.length)+"</strong>"+f.substr(w+t.length),x.html(m).appendTo(s),i._fireEvent("draw-autocomplete-item",{item:x})}))},getHistory:function(){return this.history},getHistoryIndex:function(){return this.historyIndex},setHistoryIndex:function(t){this.historyIndex=t>=this.history.length?this.history.length-1:t},setHistory:function(t,e){var i=this,s=this.options;a.isNull(t)||(Array.isArray(t)||typeof t!="string"||(t=t.toArray(s.historyDivider)),e===!0?r.each(t,function(){i.history.push(this)}):this.history=t,this.historyIndex=this.history.length-1)},clear:function(){this.element.val("")},toDefault:function(){this.element.val(a.isValue(this.options.defaultValue)?this.options.defaultValue:"")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},setAutocompleteList:function(t){var e=a.isObject(t);e!==!1?this.autocomplete=e:typeof t=="string"&&(this.autocomplete=t.toArray(this.options.autocompleteDivider))},changeAttribute:function(t){t==="disabled"&&this.toggleState()},destroy:function(){var t=this.element,e=t.parent(),i=e.find(".input-clear-button"),s=e.find(".input-reveal-button"),m=e.find(".input-custom-button");return i.length>0&&i.off(l.events.click),s.length>0&&(s.off(l.events.start),s.off(l.events.stop)),m.length>0&&i.off(l.events.click),t.off(l.events.blur),t.off(l.events.focus),t}}),r(document).on(l.events.click,function(){r(".input .autocomplete-list").hide()})}(Metro,m4q),function(l,r){var a=l.utils,p={checkboxDeferred:0,transition:!0,style:1,caption:"",captionPosition:"right",indeterminate:!1,clsCheckbox:"",clsCheck:"",clsCaption:"",onCheckboxCreate:l.noop};l.checkboxSetup=function(t){p=r.extend({},p,t)},typeof window.metroCheckboxSetup!==void 0&&l.checkboxSetup(window.metroCheckboxSetup),l.Component("checkbox",{init:function(t,e){return this._super(e,t,p,{origin:{className:""}}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("checkbox-create")},_createStructure:function(){var t,e=this.element,i=this.options,s=r("<span>").addClass("check"),m=r("<span>").addClass("caption").html(i.caption);e.attr("type","checkbox"),e.attr("readonly")!==void 0&&e.on("click",function(f){f.preventDefault()}),t=e.wrap("<label>").addClass("checkbox "+e[0].className).addClass(i.style===2?"style2":""),s.appendTo(t),m.appendTo(t),i.transition===!0&&t.addClass("transition-on"),i.captionPosition==="left"&&t.addClass("caption-left"),this.origin.className=e[0].className,e[0].className="",t.addClass(i.clsCheckbox),m.addClass(i.clsCaption),s.addClass(i.clsCheck),i.indeterminate&&(e[0].indeterminate=!0),e.is(":disabled")?this.disable():this.enable()},_createEvents:function(){var t=this.element,e=t.siblings(".check");t.on("focus",function(){e.addClass("focused")}),t.on("blur",function(){e.removeClass("focused")})},indeterminate:function(t){var e=this.element;t=!!a.isNull(t)||a.bool(t),e[0].indeterminate=t,e.attr("data-indeterminate",t)},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggle:function(t){var e=this.element;return this.indeterminate(!1),a.isValue(t)?t===-1?this.indeterminate(!0):e.prop("checked",t===1):e.prop("checked",!a.bool(e.prop("checked"))),this},changeAttribute:function(t){var e,i=this.element,s=this.options,m=i.parent();switch(t){case"disabled":this.toggleState();break;case"data-indeterminate":i[0].indeterminate=JSON.parse(i.attr("data-indeterminate"))===!0;break;case"data-style":e=parseInt(i.attr("data-style")),a.isInt(e)&&(s.style=e,m.removeClass("style1 style2").addClass("style"+e))}},destroy:function(){var t=this.element;return t.off("focus"),t.off("blur"),t}})}(Metro,m4q),function(l,r){var a=l.utils,p={checkboxDeferred:0,state:-1,transition:!0,style:1,caption:"",captionPosition:"right",clsCheckbox:"",clsCheck:"",clsCaption:"",onCheckboxCreate:l.noop};l.metroCheckboxThreeStateSetup=function(t){p=r.extend({},p,t)},typeof window.metroCheckboxThreeStateSetup!==void 0&&l.metroCheckboxThreeStateSetup(window.metroCheckboxThreeStateSetup),l.Component("checkbox-three-state",{init:function(t,e){return this._super(e,t,p,{origin:{className:""},state:-1}),this},_create:function(){var t=this.options;this.elem.checked&&(t.state=1),this.elem.checked=!1,t.state===-1||t.state==="unchecked"?this.state=-1:t.state===0||t.state==="indeterminate"?this.state=0:this.state=1,this._createStructure(),this._createEvents(),this._fireEvent("checkbox-create")},_indeterminate:function(t){var e=this.element;t=!!a.isNull(t)||a.bool(t),e[0].indeterminate=t,e.attr("data-indeterminate",t)},_createStructure:function(){var t,e=this.element,i=this.options,s=r("<span>").addClass("check"),m=r("<span>").addClass("caption").html(i.caption);e.attr("type","checkbox"),e.attr("readonly")!==void 0&&e.on("click",function(f){f.preventDefault()}),t=e.wrap("<label>").addClass("checkbox "+e[0].className).addClass(i.style===2?"style2":""),s.appendTo(t),m.appendTo(t),i.transition===!0&&t.addClass("transition-on"),i.captionPosition==="left"&&t.addClass("caption-left"),this.origin.className=e[0].className,e[0].className="",t.addClass(i.clsCheckbox),m.addClass(i.clsCaption),s.addClass(i.clsCheck),this._drawState(),e.is(":disabled")?this.disable():this.enable()},_drawState:function(){var t=this.element;t[0].checked=!1,this._indeterminate(!1),this.state===0?(t[0].checked=!0,this._indeterminate(!0)):this.state===1&&(t[0].checked=!0)},_createEvents:function(){var t=this.element,e=t.siblings(".check"),i=this;t.on("click",function(){i.state++,i.state===2&&(i.state=-1),i._drawState()}),t.on("focus",function(){e.addClass("focused")}),t.on("blur",function(){e.removeClass("focused")})},check:function(){this.setCheckState(1)},uncheck:function(){this.setCheckState(-1)},indeterminate:function(){this.setCheckState(0)},setCheckState:function(t){return this.state=t===-1||t==="unchecked"?-1:t===0||t==="indeterminate"?0:1,this._drawState(),this},getCheckState:function(t){if(!t)return this.state;switch(this.state){case-1:return"unchecked";case 0:return"indeterminate";case 1:return"checked"}},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggle:function(){this.state++,this.state===2&&(this.state=-1),this._drawState()},changeAttribute:function(t,e){var i,s=this.element,m=this.options,f=s.parent();switch(t){case"disabled":(function(){this.elem.disabled?this.disable():this.enable()})();break;case"data-style":i=parseInt(s.attr("data-style")),a.isInt(i)&&(m.style=i,f.removeClass("style1 style2").addClass("style"+i));break;case"data-state":(function(w){this.toggle(w)})(e)}},destroy:function(){var t=this.element;return t.off("focus"),t.off("blur"),t}})}(Metro,m4q),function(l,r){var a=l.utils,p={radioDeferred:0,transition:!0,style:1,caption:"",captionPosition:"right",clsRadio:"",clsCheck:"",clsCaption:"",onRadioCreate:l.noop};l.radioSetup=function(t){p=r.extend({},p,t)},typeof window.metroRadioSetup!==void 0&&l.radioSetup(window.metroRadioSetup),l.Component("radio",{init:function(t,e){return this._super(e,t,p,{origin:{className:""}}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("radio-create",{element:t})},_createStructure:function(){var t=this.element,e=this.options,i=r("<label>").addClass("radio "+t[0].className).addClass(e.style===2?"style2":""),s=r("<span>").addClass("check"),m=r("<span>").addClass("caption").html(e.caption);t.attr("type","radio"),i.insertBefore(t),t.appendTo(i),s.appendTo(i),m.appendTo(i),e.transition===!0&&i.addClass("transition-on"),e.captionPosition==="left"&&i.addClass("caption-left"),this.origin.className=t[0].className,t[0].className="",i.addClass(e.clsRadio),m.addClass(e.clsCaption),s.addClass(e.clsCheck),t.is(":disabled")?this.disable():this.enable()},_createEvents:function(){var t=this.element,e=t.siblings(".check");t.on("focus",function(){e.addClass("focused")}),t.on("blur",function(){e.removeClass("focused")})},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(t){var e,i=this.element,s=this.options,m=i.parent();switch(t){case"disabled":this.toggleState();break;case"data-style":e=parseInt(i.attr("data-style")),a.isInt(e)&&(s.style=e,m.removeClass("style1 style2").addClass("style"+e))}},destroy:function(){return this.element}})}(Metro,m4q),function(l,r){var a=l.utils,p={label:"",size:"normal",selectDeferred:0,clearButton:!1,clearButtonIcon:"<span class='default-icon-cross'></span>",usePlaceholder:!1,placeholder:"",addEmptyValue:!1,emptyValue:"",duration:0,prepend:"",append:"",filterPlaceholder:"Search...",filter:!0,copyInlineStyles:!1,dropHeight:200,dropWidth:null,dropFullSize:!1,checkDropUp:!0,dropUp:!1,showGroupName:!1,shortTag:!0,clsSelect:"",clsSelectInput:"",clsPrepend:"",clsAppend:"",clsOption:"",clsOptionActive:"",clsOptionGroup:"",clsDropList:"",clsDropContainer:"",clsSelectedItem:"",clsSelectedItemRemover:"",clsLabel:"",clsGroupName:"",onClear:l.noop,onChange:l.noop,onUp:l.noop,onDrop:l.noop,onItemSelect:l.noop,onItemDeselect:l.noop,onSelectCreate:l.noop};l.selectSetup=function(t){p=r.extend({},p,t)},typeof window.metroSelectSetup!==void 0&&l.selectSetup(window.metroSelectSetup),l.Component("select",{init:function(t,e){return this._super(e,t,p,{list:null,placeholder:null}),this},_create:function(){var t=this.element;this._createSelect(),this._createEvents(),this._fireEvent("select-create",{element:t})},_setPlaceholder:function(){var t=this.element,e=this.options,i=t.siblings(".select-input");e.usePlaceholder!==!0||a.isValue(t.val())&&t.val()!=e.emptyValue||i.html(this.placeholder)},_addTag:function(t,e){var i,s,m=this.element,f=this.options,w=m.closest(".select");return i=r("<div>").addClass("tag").addClass(f.shortTag?"short-tag":"").addClass(f.clsSelectedItem).html("<span class='title'>"+t+"</span>").data("option",e),r("<span>").addClass("remover").addClass(f.clsSelectedItemRemover).html("&times;").appendTo(i),w.hasClass("input-large")?s="large":w.hasClass("input-small")&&(s="small"),i.addClass(s),i},_addOption:function(t,e,i,s,m){var f,w,x=r(t),I=this.element,T=this.options,A=a.isValue(x.attr("data-template"))?x.attr("data-template").replace("$1",t.text):t.text,L=x.attr("data-display");f=r("<li>").addClass(T.clsOption).data("option",t).attr("data-text",t.text).attr("data-value",t.value?t.value:""),w=r("<a>").html(A),L&&(f.attr("data-display",L),A=L),f.addClass(t.className),f.data("group",m),x.is(":disabled")&&f.addClass("disabled"),x.is(":selected")&&(T.showGroupName&&m&&(A+="&nbsp;<span class='selected-item__group-name "+T.clsGroupName+"'>"+m+"</span>"),s?(f.addClass("d-none"),i.append(this._addTag(A,f))):(I.val(t.value),i.html(A),I.fire("change",{val:t.value}),f.addClass("active"))),f.append(w).appendTo(e)},_addOptionGroup:function(t,e,i,s){var m=this,f=this.options,w=r(t);r("<li>").html(t.label).addClass("group-title").addClass(f.clsOptionGroup).appendTo(e),r.each(w.children(),function(){m._addOption(this,e,i,s,t.label)})},_createOptions:function(){var t=this,e=this.element,i=this.options,s=e.parent().find("ul").empty(),m=e.find("option[selected]").length>0,f=e[0].multiple,w=e.siblings(".select-input");e.siblings(".select-input").empty(),i.addEmptyValue===!0&&e.prepend(r("<option "+(m?"":"selected")+" value='"+i.emptyValue+"' class='d-none'></option>")),r.each(e.children(),function(){this.tagName==="OPTION"?t._addOption(this,s,w,f,null):this.tagName==="OPTGROUP"&&t._addOptionGroup(this,s,w,f)})},_createSelect:function(){var t,e,i,s,m,f,w=this,x=this.element,I=this.options,T=r("<label>").addClass("select "+x[0].className).addClass(I.clsSelect),A=x[0].multiple,L=a.elementId("select"),k=r("<div>").addClass("button-group"),S=a.elementId("select-focus-trigger"),N=r("<input type='checkbox'>").addClass("select-focus-trigger").attr("id",S);if(this.placeholder=r("<span>").addClass("placeholder").html(I.placeholder),T.attr("id",L).attr("for",S),T.addClass("input-"+I.size),(f=r("<span>").addClass("dropdown-toggle")).appendTo(T),A&&T.addClass("multiple"),T.insertBefore(x),x.appendTo(T),k.appendTo(T),N.appendTo(T),t=r("<div>").addClass("select-input").addClass(I.clsSelectInput).attr("name","__"+L+"__"),e=r("<div>").addClass("drop-container").addClass(I.clsDropContainer),I.dropFullSize===!1?I.dropWidth&&e.css({width:+I.dropWidth}):T.addClass("drop-full-size"),i=r("<div>").appendTo(e),s=r("<ul>").addClass("option-list").addClass(I.clsDropList).css({"max-height":I.dropHeight}),m=r("<input type='text' data-role='input'>").attr("placeholder",I.filterPlaceholder).appendTo(i),T.append(t),T.append(e),e.append(i),I.filter!==!0&&i.hide(),e.append(s),this._createOptions(),this._setPlaceholder(),l.makePlugin(e,"dropdown",{dropFilter:".select",duration:I.duration,toggleElement:[T],checkDropUp:I.checkDropUp,dropUp:I.dropUp,onDrop:function(){var b,C;f.addClass("active-toggle"),b=r(".select .drop-container"),r.each(b,function(){var E=r(this);if(!E.is(e)){var M=l.getPlugin(E,"dropdown");M&&M.close&&M.close()}}),m.val("").trigger(l.events.keyup),(C=s.find("li.active").length>0?r(s.find("li.active")[0]):void 0)!==void 0&&(s[0].scrollTop=C.position().top-(s.height()-C.height())/2),w._fireEvent("drop",{list:s[0]})},onUp:function(){f.removeClass("active-toggle"),w._fireEvent("up",{list:s[0]})}}),this.list=s,I.clearButton!==!0||x[0].readOnly?k.addClass("d-none"):r("<button>").addClass("button input-clear-button").addClass(I.clsClearButton).attr("tabindex",-1).attr("type","button").html(I.clearButtonIcon).appendTo(k),I.prepend===""||A||r("<div>").html(I.prepend).addClass("prepend").addClass(I.clsPrepend).appendTo(T),I.append===""||A||r("<div>").html(I.append).addClass("append").addClass(I.clsAppend).appendTo(T),I.copyInlineStyles===!0)for(var D=0,u=x[0].style.length;D<u;D++)T.css(x[0].style[D],x.css(x[0].style[D]));if(x.attr("dir")==="rtl"&&T.addClass("rtl").attr("dir","rtl"),I.label){var h=r("<label>").addClass("label-for-input").addClass(I.clsLabel).html(I.label).insertBefore(T);x.attr("id")&&h.attr("for",x.attr("id")),x.attr("dir")==="rtl"&&h.addClass("rtl")}x.is(":disabled")?this.disable():this.enable()},_createEvents:function(){var t=this,e=this.element,i=this.options,s=e.closest(".select"),m=s.find(".drop-container"),f=e.siblings(".select-input"),w=m.find("input"),x=m.find("ul"),I=s.find(".input-clear-button"),T=s.find(".select-focus-trigger");T.on("focus",function(){s.addClass("focused")}),T.on("blur",function(){s.removeClass("focused")}),I.on(l.events.click,function(A){e.val(i.emptyValue),e[0].multiple&&x.find("li").removeClass("d-none"),f.clear(),t._setPlaceholder(),A.preventDefault(),A.stopPropagation(),t._fireEvent("clear"),t._fireEvent("change",{selected:t.getSelected()})}),e.on(l.events.change,function(){t._setPlaceholder()}),s.on(l.events.click,function(){r(".focused").removeClass("focused"),s.addClass("focused")}),f.on(l.events.click,function(){r(".focused").removeClass("focused"),s.addClass("focused")}),x.on(l.events.click,"li",function(A){if(r(this).hasClass("group-title"))return A.preventDefault(),void A.stopPropagation();var L,k=r(this),S=k.attr("data-display"),N=k.data("value"),D=k.data("group"),u=S||k.children("a").html(),h=k.data("option"),b=e.find("option");i.showGroupName&&D&&(u+="&nbsp;<span class='selected-item__group-name "+i.clsGroupName+"'>"+D+"</span>"),e[0].multiple?(k.addClass("d-none"),f.append(t._addTag(u,k))):(x.find("li.active").removeClass("active").removeClass(i.clsOptionActive),k.addClass("active").addClass(i.clsOptionActive),f.html(u),l.getPlugin(m,"dropdown").close()),r.each(b,function(){this===h&&(this.selected=!0)}),t._fireEvent("item-select",{val:N,option:h,leaf:k[0]}),L=t.getSelected(),t._fireEvent("change",{selected:L})}),f.on("click",".tag .remover",function(A){var L,k=r(this).closest(".tag"),S=k.data("option"),N=S.data("option");S.removeClass("d-none"),r.each(e.find("option"),function(){this===N&&(this.selected=!1)}),k.remove(),t._fireEvent("item-deselect",{option:N}),L=t.getSelected(),t._fireEvent("change",{selected:L}),A.preventDefault(),A.stopPropagation()}),w.on(l.events.keyup,function(){var A,L=this.value.toUpperCase(),k=x.find("li");for(A=0;A<k.length;A++)r(k[A]).hasClass("group-title")||(k[A].getElementsByTagName("a")[0].innerHTML.toUpperCase().indexOf(L)>-1?k[A].style.display="":k[A].style.display="none")}),w.on(l.events.click,function(A){A.preventDefault(),A.stopPropagation()}),m.on(l.events.click,function(A){A.preventDefault(),A.stopPropagation()})},disable:function(){this.element.data("disabled",!0),this.element.closest(".select").addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.closest(".select").removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},reset:function(t){var e,i=this.element,s=i.find("option"),m=i.closest(".select");r.each(s,function(){this.selected=!a.isNull(t)&&this.defaultSelected}),this.list.find("li").remove(),m.find(".select-input").html(""),this._createOptions(),e=this.getSelected(),this._fireEvent("change",{selected:e})},getSelected:function(){var t=this.element,e=[];return t.find("option").each(function(){this.selected&&e.push(this.value)}),e},val:function(t){var e,i,s,m,f,w,x=this,I=this.element,T=this.options,A=I.siblings(".select-input"),L=I.find("option"),k=this.list.find("li"),S=[],N=I.attr("multiple")!==void 0;if(a.isNull(t))return r.each(L,function(){this.selected&&S.push(this.value)}),N?S:S[0];r.each(L,function(){this.selected=!1}),k.removeClass("active").removeClass(T.clsOptionActive),A.html(""),Array.isArray(t)===!1&&(t=[t]),r.each(t,function(){for(i=0;i<L.length;i++)if(e=L[i],s=a.isValue(e.getAttribute("data-template"))?e.getAttribute("data-template").replace("$1",e.text):e.text,""+e.value==""+this){e.selected=!0;break}for(i=0;i<k.length;i++)if(m=r(k[i]),w=m.data("group"),""+m.attr("data-value")==""+this){T.showGroupName&&w&&(s+="&nbsp;<span class='selected-item__group-name'>"+w+"</span>"),N?(m.addClass("d-none"),A.append(x._addTag(s,m))):(m.addClass("active").addClass(T.clsOptionActive),A.html(s));break}}),f=this.getSelected(),this._fireEvent("change",{selected:f})},options:function(t,e,i){return this.data(t,e,i)},data:function(t,e,i){var s,m,f=this.element,w=i||",";return m=typeof e=="string"?e.toArray(w).map(function(x){return isNaN(x)?x:+x}):Array.isArray(e)?e.slice().map(function(x){return isNaN(x)?x:+x}):[],f.empty(),typeof t=="string"?f.html(t):a.isObject2(t)&&r.each(t,function(x,I){if(a.isObject2(I))s=r("<optgroup label=''>").attr("label",x).appendTo(f),r.each(I,function(A,L){var k=r("<option>").attr("value",A).text(L).appendTo(s);m.indexOf(+A)>-1&&k.prop("selected",!0)});else{var T=r("<option>").attr("value",x).text(I).appendTo(f);m.indexOf(x)>-1&&T.prop("selected",!0)}}),this._createOptions(),this},addOption:function(t,e,i){var s=this.element,m=r("<option>").attr("value",t).text(e||t);return s.append(m),i&&m.prop("selected",!0),this._createOptions(),this},addOptions:function(t){var e=this;return t?(Array.isArray(t)?r.each(t,function(){var i=this;l.utils.isObject2(i)?e.addOption(i.val,i.title,i.selected):e.addOption(i)}):l.utils.isObject2(t)&&r.each(t,function(i,s){e.addOption(i,s)}),this):this},removeOption:function(t){return this.element.find("option").each(function(){var e=r(this);e.attr("value")==t&&e.remove()}),this._createOptions(),this},removeOptions:function(t){var e=this.element.find("option");return t&&Array.isArray(t)?(e.each(function(){var i=r(this),s=i.attr("value");t.indexOf(s)>-1&&i.remove()}),this._createOptions(),this):this},changeAttribute:function(t){t==="disabled"&&this.toggleState()},destroy:function(){var t=this.element,e=t.closest(".select"),i=e.find(".drop-container"),s=t.siblings(".select-input"),m=i.find("input"),f=i.find("ul"),w=e.find(".input-clear-button");return e.off(l.events.click),e.off(l.events.click,".input-clear-button"),s.off(l.events.click),m.off(l.events.blur),m.off(l.events.focus),f.off(l.events.click,"li"),m.off(l.events.keyup),i.off(l.events.click),w.off(l.events.click),i.data("dropdown").destroy(),t}}),r(document).on(l.events.click,function(){r(".select").removeClass("focused")},{ns:"blur-select-elements"})}(Metro,m4q)})();
